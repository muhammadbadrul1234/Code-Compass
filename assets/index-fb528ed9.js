function A$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function R$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oO={exports:{}},Tg={},sO={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=Symbol.for("react.element"),P$=Symbol.for("react.portal"),x$=Symbol.for("react.fragment"),O$=Symbol.for("react.strict_mode"),D$=Symbol.for("react.profiler"),L$=Symbol.for("react.provider"),M$=Symbol.for("react.context"),F$=Symbol.for("react.forward_ref"),U$=Symbol.for("react.suspense"),j$=Symbol.for("react.memo"),V$=Symbol.for("react.lazy"),HN=Symbol.iterator;function B$(e){return e===null||typeof e!="object"?null:(e=HN&&e[HN]||e["@@iterator"],typeof e=="function"?e:null)}var aO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uO=Object.assign,lO={};function Nl(e,t,n){this.props=e,this.context=t,this.refs=lO,this.updater=n||aO}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cO(){}cO.prototype=Nl.prototype;function DT(e,t,n){this.props=e,this.context=t,this.refs=lO,this.updater=n||aO}var LT=DT.prototype=new cO;LT.constructor=DT;uO(LT,Nl.prototype);LT.isPureReactComponent=!0;var KN=Array.isArray,fO=Object.prototype.hasOwnProperty,MT={current:null},hO={key:!0,ref:!0,__self:!0,__source:!0};function dO(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)fO.call(t,r)&&!hO.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yh,type:e,key:s,ref:a,props:i,_owner:MT.current}}function $$(e,t){return{$$typeof:yh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function FT(e){return typeof e=="object"&&e!==null&&e.$$typeof===yh}function q$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var GN=/\/+/g;function I_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q$(""+e.key):t.toString(36)}function jp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case yh:case P$:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+I_(a,0):r,KN(i)?(n="",e!=null&&(n=e.replace(GN,"$&/")+"/"),jp(i,t,n,"",function(h){return h})):i!=null&&(FT(i)&&(i=$$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(GN,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",KN(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+I_(s,l);a+=jp(s,t,n,c,i)}else if(c=B$(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+I_(s,l++),a+=jp(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function sp(e,t,n){if(e==null)return e;var r=[],i=0;return jp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function z$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rn={current:null},Vp={transition:null},W$={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:Vp,ReactCurrentOwner:MT};Ie.Children={map:sp,forEach:function(e,t,n){sp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return sp(e,function(){t++}),t},toArray:function(e){return sp(e,function(t){return t})||[]},only:function(e){if(!FT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=Nl;Ie.Fragment=x$;Ie.Profiler=D$;Ie.PureComponent=DT;Ie.StrictMode=O$;Ie.Suspense=U$;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uO({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=MT.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)fO.call(t,c)&&!hO.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:yh,type:e.type,key:i,ref:s,props:r,_owner:a}};Ie.createContext=function(e){return e={$$typeof:M$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L$,_context:e},e.Consumer=e};Ie.createElement=dO;Ie.createFactory=function(e){var t=dO.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:F$,render:e}};Ie.isValidElement=FT;Ie.lazy=function(e){return{$$typeof:V$,_payload:{_status:-1,_result:e},_init:z$}};Ie.memo=function(e,t){return{$$typeof:j$,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=Vp.transition;Vp.transition={};try{e()}finally{Vp.transition=t}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(e,t){return Rn.current.useCallback(e,t)};Ie.useContext=function(e){return Rn.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Rn.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return Rn.current.useEffect(e,t)};Ie.useId=function(){return Rn.current.useId()};Ie.useImperativeHandle=function(e,t,n){return Rn.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return Rn.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return Rn.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return Rn.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return Rn.current.useReducer(e,t,n)};Ie.useRef=function(e){return Rn.current.useRef(e)};Ie.useState=function(e){return Rn.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return Rn.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return Rn.current.useTransition()};Ie.version="18.2.0";sO.exports=Ie;var Y=sO.exports;const UT=R$(Y),H$=A$({__proto__:null,default:UT},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K$=Y,G$=Symbol.for("react.element"),Q$=Symbol.for("react.fragment"),Y$=Object.prototype.hasOwnProperty,X$=K$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J$={key:!0,ref:!0,__self:!0,__source:!0};function pO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Y$.call(t,r)&&!J$.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:G$,type:e,key:s,ref:a,props:i,_owner:X$.current}}Tg.Fragment=Q$;Tg.jsx=pO;Tg.jsxs=pO;oO.exports=Tg;var jT=oO.exports;const _h=jT.Fragment,K=jT.jsx,lt=jT.jsxs;var xw={},vO={exports:{}},lr={},gO={exports:{}},mO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,ae){var ue=z.length;z.push(ae);e:for(;0<ue;){var Ve=ue-1>>>1,ot=z[Ve];if(0<i(ot,ae))z[Ve]=ae,z[ue]=ot,ue=Ve;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ae=z[0],ue=z.pop();if(ue!==ae){z[0]=ue;e:for(var Ve=0,ot=z.length,vs=ot>>>1;Ve<vs;){var ri=2*(Ve+1)-1,Xl=z[ri],xr=ri+1,gs=z[xr];if(0>i(Xl,ue))xr<ot&&0>i(gs,Xl)?(z[Ve]=gs,z[xr]=ue,Ve=xr):(z[Ve]=Xl,z[ri]=ue,Ve=ri);else if(xr<ot&&0>i(gs,ue))z[Ve]=gs,z[xr]=ue,Ve=xr;else break e}}return ae}function i(z,ae){var ue=z.sortIndex-ae.sortIndex;return ue!==0?ue:z.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,v=null,m=3,y=!1,w=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var ae=n(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=z)r(h),ae.sortIndex=ae.expirationTime,t(c,ae);else break;ae=n(h)}}function P(z){if(T=!1,C(z),!w)if(n(c)!==null)w=!0,Ri(D);else{var ae=n(h);ae!==null&&Wa(P,ae.startTime-z)}}function D(z,ae){w=!1,T&&(T=!1,I(M),M=-1),y=!0;var ue=m;try{for(C(ae),v=n(c);v!==null&&(!(v.expirationTime>ae)||z&&!Vt());){var Ve=v.callback;if(typeof Ve=="function"){v.callback=null,m=v.priorityLevel;var ot=Ve(v.expirationTime<=ae);ae=e.unstable_now(),typeof ot=="function"?v.callback=ot:v===n(c)&&r(c),C(ae)}else r(c);v=n(c)}if(v!==null)var vs=!0;else{var ri=n(h);ri!==null&&Wa(P,ri.startTime-ae),vs=!1}return vs}finally{v=null,m=ue,y=!1}}var x=!1,B=null,M=-1,ce=5,R=-1;function Vt(){return!(e.unstable_now()-R<ce)}function Pr(){if(B!==null){var z=e.unstable_now();R=z;var ae=!0;try{ae=B(!0,z)}finally{ae?ds():(x=!1,B=null)}}else x=!1}var ds;if(typeof S=="function")ds=function(){S(Pr)};else if(typeof MessageChannel<"u"){var za=new MessageChannel,ps=za.port2;za.port1.onmessage=Pr,ds=function(){ps.postMessage(null)}}else ds=function(){b(Pr,0)};function Ri(z){B=z,x||(x=!0,ds())}function Wa(z,ae){M=b(function(){z(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,Ri(D))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var ae=3;break;default:ae=m}var ue=m;m=ae;try{return z()}finally{m=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,ae){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ue=m;m=z;try{return ae()}finally{m=ue}},e.unstable_scheduleCallback=function(z,ae,ue){var Ve=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ve+ue:Ve):ue=Ve,z){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=ue+ot,z={id:p++,callback:ae,priorityLevel:z,startTime:ue,expirationTime:ot,sortIndex:-1},ue>Ve?(z.sortIndex=ue,t(h,z),n(c)===null&&z===n(h)&&(T?(I(M),M=-1):T=!0,Wa(P,ue-Ve))):(z.sortIndex=ot,t(c,z),w||y||(w=!0,Ri(D))),z},e.unstable_shouldYield=Vt,e.unstable_wrapCallback=function(z){var ae=m;return function(){var ue=m;m=ae;try{return z.apply(this,arguments)}finally{m=ue}}}})(mO);gO.exports=mO;var Z$=gO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO=Y,or=Z$;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _O=new Set,bf={};function Aa(e,t){Yu(e,t),Yu(e+"Capture",t)}function Yu(e,t){for(bf[e]=t,e=0;e<t.length;e++)_O.add(t[e])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ow=Object.prototype.hasOwnProperty,eq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QN={},YN={};function tq(e){return Ow.call(YN,e)?!0:Ow.call(QN,e)?!1:eq.test(e)?YN[e]=!0:(QN[e]=!0,!1)}function nq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rq(e,t,n,r){if(t===null||typeof t>"u"||nq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new Pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new Pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new Pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new Pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new Pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new Pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new Pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new Pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new Pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var VT=/[\-:]([a-z])/g;function BT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(VT,BT);Jt[t]=new Pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(VT,BT);Jt[t]=new Pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(VT,BT);Jt[t]=new Pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new Pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new Pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function $T(e,t,n,r){var i=Jt.hasOwnProperty(t)?Jt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rq(t,n,i,r)&&(n=null),r||i===null?tq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var io=yO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ap=Symbol.for("react.element"),bu=Symbol.for("react.portal"),Cu=Symbol.for("react.fragment"),qT=Symbol.for("react.strict_mode"),Dw=Symbol.for("react.profiler"),wO=Symbol.for("react.provider"),EO=Symbol.for("react.context"),zT=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),Mw=Symbol.for("react.suspense_list"),WT=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),TO=Symbol.for("react.offscreen"),XN=Symbol.iterator;function Dc(e){return e===null||typeof e!="object"?null:(e=XN&&e[XN]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,S_;function Qc(e){if(S_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S_=t&&t[1]||""}return`
`+S_+e}var b_=!1;function C_(e,t){if(!e||b_)return"";b_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{b_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qc(e):""}function iq(e){switch(e.tag){case 5:return Qc(e.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return e=C_(e.type,!1),e;case 11:return e=C_(e.type.render,!1),e;case 1:return e=C_(e.type,!0),e;default:return""}}function Fw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cu:return"Fragment";case bu:return"Portal";case Dw:return"Profiler";case qT:return"StrictMode";case Lw:return"Suspense";case Mw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EO:return(e.displayName||"Context")+".Consumer";case wO:return(e._context.displayName||"Context")+".Provider";case zT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case WT:return t=e.displayName||null,t!==null?t:Fw(e.type)||"Memo";case So:t=e._payload,e=e._init;try{return Fw(e(t))}catch{}}return null}function oq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fw(t);case 8:return t===qT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sq(e){var t=IO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function up(e){e._valueTracker||(e._valueTracker=sq(e))}function SO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=IO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uw(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function JN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bO(e,t){t=t.checked,t!=null&&$T(e,"checked",t,!1)}function jw(e,t){bO(e,t);var n=Yo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vw(e,t.type,Yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ZN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vw(e,t,n){(t!=="number"||sv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yc=Array.isArray;function ju(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Yc(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yo(n)}}function CO(e,t){var n=Yo(t.value),r=Yo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $w(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lp,NO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lp=lp||document.createElement("div"),lp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aq=["Webkit","ms","Moz","O"];Object.keys(tf).forEach(function(e){aq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tf[t]=tf[e]})});function AO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tf.hasOwnProperty(e)&&tf[e]?(""+t).trim():t+"px"}function RO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var uq=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qw(e,t){if(t){if(uq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function zw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=null;function HT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hw=null,Vu=null,Bu=null;function nA(e){if(e=Th(e)){if(typeof Hw!="function")throw Error(V(280));var t=e.stateNode;t&&(t=kg(t),Hw(e.stateNode,e.type,t))}}function PO(e){Vu?Bu?Bu.push(e):Bu=[e]:Vu=e}function xO(){if(Vu){var e=Vu,t=Bu;if(Bu=Vu=null,nA(e),t)for(e=0;e<t.length;e++)nA(t[e])}}function OO(e,t){return e(t)}function DO(){}var k_=!1;function LO(e,t,n){if(k_)return e(t,n);k_=!0;try{return OO(e,t,n)}finally{k_=!1,(Vu!==null||Bu!==null)&&(DO(),xO())}}function kf(e,t){var n=e.stateNode;if(n===null)return null;var r=kg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Kw=!1;if(Yi)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){Kw=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{Kw=!1}function lq(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var nf=!1,av=null,uv=!1,Gw=null,cq={onError:function(e){nf=!0,av=e}};function fq(e,t,n,r,i,s,a,l,c){nf=!1,av=null,lq.apply(cq,arguments)}function hq(e,t,n,r,i,s,a,l,c){if(fq.apply(this,arguments),nf){if(nf){var h=av;nf=!1,av=null}else throw Error(V(198));uv||(uv=!0,Gw=h)}}function Ra(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function MO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rA(e){if(Ra(e)!==e)throw Error(V(188))}function dq(e){var t=e.alternate;if(!t){if(t=Ra(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rA(i),e;if(s===r)return rA(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function FO(e){return e=dq(e),e!==null?UO(e):null}function UO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=UO(e);if(t!==null)return t;e=e.sibling}return null}var jO=or.unstable_scheduleCallback,iA=or.unstable_cancelCallback,pq=or.unstable_shouldYield,vq=or.unstable_requestPaint,ct=or.unstable_now,gq=or.unstable_getCurrentPriorityLevel,KT=or.unstable_ImmediatePriority,VO=or.unstable_UserBlockingPriority,lv=or.unstable_NormalPriority,mq=or.unstable_LowPriority,BO=or.unstable_IdlePriority,Ig=null,mi=null;function yq(e){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Ig,e,void 0,(e.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:Eq,_q=Math.log,wq=Math.LN2;function Eq(e){return e>>>=0,e===0?32:31-(_q(e)/wq|0)|0}var cp=64,fp=4194304;function Xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Xc(l):(s&=a,s!==0&&(r=Xc(s)))}else a=n&~i,a!==0?r=Xc(a):s!==0&&(r=Xc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yr(t),i=1<<n,r|=e[n],t&=~i;return r}function Tq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iq(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Yr(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Tq(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Qw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $O(){var e=cp;return cp<<=1,!(cp&4194240)&&(cp=64),e}function N_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yr(t),e[t]=n}function Sq(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Yr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function GT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var De=0;function qO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zO,QT,WO,HO,KO,Yw=!1,hp=[],Fo=null,Uo=null,jo=null,Nf=new Map,Af=new Map,ko=[],bq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oA(e,t){switch(e){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Nf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(t.pointerId)}}function Mc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Th(t),t!==null&&QT(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Cq(e,t,n,r,i){switch(t){case"focusin":return Fo=Mc(Fo,e,t,n,r,i),!0;case"dragenter":return Uo=Mc(Uo,e,t,n,r,i),!0;case"mouseover":return jo=Mc(jo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nf.set(s,Mc(Nf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Af.set(s,Mc(Af.get(s)||null,e,t,n,r,i)),!0}return!1}function GO(e){var t=Hs(e.target);if(t!==null){var n=Ra(t);if(n!==null){if(t=n.tag,t===13){if(t=MO(n),t!==null){e.blockedOn=t,KO(e.priority,function(){WO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ww=r,n.target.dispatchEvent(r),Ww=null}else return t=Th(n),t!==null&&QT(t),e.blockedOn=n,!1;t.shift()}return!0}function sA(e,t,n){Bp(e)&&n.delete(t)}function kq(){Yw=!1,Fo!==null&&Bp(Fo)&&(Fo=null),Uo!==null&&Bp(Uo)&&(Uo=null),jo!==null&&Bp(jo)&&(jo=null),Nf.forEach(sA),Af.forEach(sA)}function Fc(e,t){e.blockedOn===t&&(e.blockedOn=null,Yw||(Yw=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,kq)))}function Rf(e){function t(i){return Fc(i,e)}if(0<hp.length){Fc(hp[0],e);for(var n=1;n<hp.length;n++){var r=hp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fo!==null&&Fc(Fo,e),Uo!==null&&Fc(Uo,e),jo!==null&&Fc(jo,e),Nf.forEach(t),Af.forEach(t),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)GO(n),n.blockedOn===null&&ko.shift()}var $u=io.ReactCurrentBatchConfig,fv=!0;function Nq(e,t,n,r){var i=De,s=$u.transition;$u.transition=null;try{De=1,YT(e,t,n,r)}finally{De=i,$u.transition=s}}function Aq(e,t,n,r){var i=De,s=$u.transition;$u.transition=null;try{De=4,YT(e,t,n,r)}finally{De=i,$u.transition=s}}function YT(e,t,n,r){if(fv){var i=Xw(e,t,n,r);if(i===null)U_(e,t,r,hv,n),oA(e,r);else if(Cq(i,e,t,n,r))r.stopPropagation();else if(oA(e,r),t&4&&-1<bq.indexOf(e)){for(;i!==null;){var s=Th(i);if(s!==null&&zO(s),s=Xw(e,t,n,r),s===null&&U_(e,t,r,hv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else U_(e,t,r,null,n)}}var hv=null;function Xw(e,t,n,r){if(hv=null,e=HT(r),e=Hs(e),e!==null)if(t=Ra(e),t===null)e=null;else if(n=t.tag,n===13){if(e=MO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hv=e,null}function QO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gq()){case KT:return 1;case VO:return 4;case lv:case mq:return 16;case BO:return 536870912;default:return 16}default:return 16}}var Oo=null,XT=null,$p=null;function YO(){if($p)return $p;var e,t=XT,n=t.length,r,i="value"in Oo?Oo.value:Oo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return $p=i.slice(e,1<r?1-r:void 0)}function qp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dp(){return!0}function aA(){return!1}function cr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dp:aA,this.isPropagationStopped=aA,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dp)},persist:function(){},isPersistent:dp}),t}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},JT=cr(Al),Eh=tt({},Al,{view:0,detail:0}),Rq=cr(Eh),A_,R_,Uc,Sg=tt({},Eh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uc&&(Uc&&e.type==="mousemove"?(A_=e.screenX-Uc.screenX,R_=e.screenY-Uc.screenY):R_=A_=0,Uc=e),A_)},movementY:function(e){return"movementY"in e?e.movementY:R_}}),uA=cr(Sg),Pq=tt({},Sg,{dataTransfer:0}),xq=cr(Pq),Oq=tt({},Eh,{relatedTarget:0}),P_=cr(Oq),Dq=tt({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),Lq=cr(Dq),Mq=tt({},Al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fq=cr(Mq),Uq=tt({},Al,{data:0}),lA=cr(Uq),jq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $q(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bq[e])?!!t[e]:!1}function ZT(){return $q}var qq=tt({},Eh,{key:function(e){if(e.key){var t=jq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZT,charCode:function(e){return e.type==="keypress"?qp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zq=cr(qq),Wq=tt({},Sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cA=cr(Wq),Hq=tt({},Eh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZT}),Kq=cr(Hq),Gq=tt({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qq=cr(Gq),Yq=tt({},Sg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xq=cr(Yq),Jq=[9,13,27,32],eI=Yi&&"CompositionEvent"in window,rf=null;Yi&&"documentMode"in document&&(rf=document.documentMode);var Zq=Yi&&"TextEvent"in window&&!rf,XO=Yi&&(!eI||rf&&8<rf&&11>=rf),fA=String.fromCharCode(32),hA=!1;function JO(e,t){switch(e){case"keyup":return Jq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ku=!1;function ez(e,t){switch(e){case"compositionend":return ZO(t);case"keypress":return t.which!==32?null:(hA=!0,fA);case"textInput":return e=t.data,e===fA&&hA?null:e;default:return null}}function tz(e,t){if(ku)return e==="compositionend"||!eI&&JO(e,t)?(e=YO(),$p=XT=Oo=null,ku=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return XO&&t.locale!=="ko"?null:t.data;default:return null}}var nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nz[e.type]:t==="textarea"}function eD(e,t,n,r){PO(r),t=dv(t,"onChange"),0<t.length&&(n=new JT("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var of=null,Pf=null;function rz(e){fD(e,0)}function bg(e){var t=Ru(e);if(SO(t))return e}function iz(e,t){if(e==="change")return t}var tD=!1;if(Yi){var x_;if(Yi){var O_="oninput"in document;if(!O_){var pA=document.createElement("div");pA.setAttribute("oninput","return;"),O_=typeof pA.oninput=="function"}x_=O_}else x_=!1;tD=x_&&(!document.documentMode||9<document.documentMode)}function vA(){of&&(of.detachEvent("onpropertychange",nD),Pf=of=null)}function nD(e){if(e.propertyName==="value"&&bg(Pf)){var t=[];eD(t,Pf,e,HT(e)),LO(rz,t)}}function oz(e,t,n){e==="focusin"?(vA(),of=t,Pf=n,of.attachEvent("onpropertychange",nD)):e==="focusout"&&vA()}function sz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bg(Pf)}function az(e,t){if(e==="click")return bg(t)}function uz(e,t){if(e==="input"||e==="change")return bg(t)}function lz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ei=typeof Object.is=="function"?Object.is:lz;function xf(e,t){if(ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ow.call(t,i)||!ei(e[i],t[i]))return!1}return!0}function gA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mA(e,t){var n=gA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gA(n)}}function rD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iD(){for(var e=window,t=sv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sv(e.document)}return t}function tI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cz(e){var t=iD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rD(n.ownerDocument.documentElement,n)){if(r!==null&&tI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=mA(n,s);var a=mA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fz=Yi&&"documentMode"in document&&11>=document.documentMode,Nu=null,Jw=null,sf=null,Zw=!1;function yA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zw||Nu==null||Nu!==sv(r)||(r=Nu,"selectionStart"in r&&tI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sf&&xf(sf,r)||(sf=r,r=dv(Jw,"onSelect"),0<r.length&&(t=new JT("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nu)))}function pp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Au={animationend:pp("Animation","AnimationEnd"),animationiteration:pp("Animation","AnimationIteration"),animationstart:pp("Animation","AnimationStart"),transitionend:pp("Transition","TransitionEnd")},D_={},oD={};Yi&&(oD=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function Cg(e){if(D_[e])return D_[e];if(!Au[e])return e;var t=Au[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oD)return D_[e]=t[n];return e}var sD=Cg("animationend"),aD=Cg("animationiteration"),uD=Cg("animationstart"),lD=Cg("transitionend"),cD=new Map,_A="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){cD.set(e,t),Aa(t,[e])}for(var L_=0;L_<_A.length;L_++){var M_=_A[L_],hz=M_.toLowerCase(),dz=M_[0].toUpperCase()+M_.slice(1);is(hz,"on"+dz)}is(sD,"onAnimationEnd");is(aD,"onAnimationIteration");is(uD,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(lD,"onTransitionEnd");Yu("onMouseEnter",["mouseout","mouseover"]);Yu("onMouseLeave",["mouseout","mouseover"]);Yu("onPointerEnter",["pointerout","pointerover"]);Yu("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jc));function wA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hq(r,t,void 0,e),e.currentTarget=null}function fD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;wA(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;wA(i,l,h),s=c}}}if(uv)throw e=Gw,uv=!1,Gw=null,e}function Be(e,t){var n=t[iE];n===void 0&&(n=t[iE]=new Set);var r=e+"__bubble";n.has(r)||(hD(t,e,2,!1),n.add(r))}function F_(e,t,n){var r=0;t&&(r|=4),hD(n,e,r,t)}var vp="_reactListening"+Math.random().toString(36).slice(2);function Of(e){if(!e[vp]){e[vp]=!0,_O.forEach(function(n){n!=="selectionchange"&&(pz.has(n)||F_(n,!1,e),F_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vp]||(t[vp]=!0,F_("selectionchange",!1,t))}}function hD(e,t,n,r){switch(QO(t)){case 1:var i=Nq;break;case 4:i=Aq;break;default:i=YT}n=i.bind(null,t,n,e),i=void 0,!Kw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function U_(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Hs(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}LO(function(){var h=s,p=HT(n),v=[];e:{var m=cD.get(e);if(m!==void 0){var y=JT,w=e;switch(e){case"keypress":if(qp(n)===0)break e;case"keydown":case"keyup":y=zq;break;case"focusin":w="focus",y=P_;break;case"focusout":w="blur",y=P_;break;case"beforeblur":case"afterblur":y=P_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=uA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Kq;break;case sD:case aD:case uD:y=Lq;break;case lD:y=Qq;break;case"scroll":y=Rq;break;case"wheel":y=Xq;break;case"copy":case"cut":case"paste":y=Fq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=cA}var T=(t&4)!==0,b=!T&&e==="scroll",I=T?m!==null?m+"Capture":null:m;T=[];for(var S=h,C;S!==null;){C=S;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,I!==null&&(P=kf(S,I),P!=null&&T.push(Df(S,P,C)))),b)break;S=S.return}0<T.length&&(m=new y(m,w,null,n,p),v.push({event:m,listeners:T}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Ww&&(w=n.relatedTarget||n.fromElement)&&(Hs(w)||w[Xi]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?Hs(w):null,w!==null&&(b=Ra(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(T=uA,P="onMouseLeave",I="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(T=cA,P="onPointerLeave",I="onPointerEnter",S="pointer"),b=y==null?m:Ru(y),C=w==null?m:Ru(w),m=new T(P,S+"leave",y,n,p),m.target=b,m.relatedTarget=C,P=null,Hs(p)===h&&(T=new T(I,S+"enter",w,n,p),T.target=C,T.relatedTarget=b,P=T),b=P,y&&w)t:{for(T=y,I=w,S=0,C=T;C;C=gu(C))S++;for(C=0,P=I;P;P=gu(P))C++;for(;0<S-C;)T=gu(T),S--;for(;0<C-S;)I=gu(I),C--;for(;S--;){if(T===I||I!==null&&T===I.alternate)break t;T=gu(T),I=gu(I)}T=null}else T=null;y!==null&&EA(v,m,y,T,!1),w!==null&&b!==null&&EA(v,b,w,T,!0)}}e:{if(m=h?Ru(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=iz;else if(dA(m))if(tD)D=uz;else{D=sz;var x=oz}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=az);if(D&&(D=D(e,h))){eD(v,D,n,p);break e}x&&x(e,m,h),e==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&Vw(m,"number",m.value)}switch(x=h?Ru(h):window,e){case"focusin":(dA(x)||x.contentEditable==="true")&&(Nu=x,Jw=h,sf=null);break;case"focusout":sf=Jw=Nu=null;break;case"mousedown":Zw=!0;break;case"contextmenu":case"mouseup":case"dragend":Zw=!1,yA(v,n,p);break;case"selectionchange":if(fz)break;case"keydown":case"keyup":yA(v,n,p)}var B;if(eI)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ku?JO(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(XO&&n.locale!=="ko"&&(ku||M!=="onCompositionStart"?M==="onCompositionEnd"&&ku&&(B=YO()):(Oo=p,XT="value"in Oo?Oo.value:Oo.textContent,ku=!0)),x=dv(h,M),0<x.length&&(M=new lA(M,e,null,n,p),v.push({event:M,listeners:x}),B?M.data=B:(B=ZO(n),B!==null&&(M.data=B)))),(B=Zq?ez(e,n):tz(e,n))&&(h=dv(h,"onBeforeInput"),0<h.length&&(p=new lA("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=B))}fD(v,t)})}function Df(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kf(e,n),s!=null&&r.unshift(Df(e,s,i)),s=kf(e,t),s!=null&&r.push(Df(e,s,i))),e=e.return}return r}function gu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function EA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=kf(n,s),c!=null&&a.unshift(Df(n,c,l))):i||(c=kf(n,s),c!=null&&a.push(Df(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var vz=/\r\n?/g,gz=/\u0000|\uFFFD/g;function TA(e){return(typeof e=="string"?e:""+e).replace(vz,`
`).replace(gz,"")}function gp(e,t,n){if(t=TA(t),TA(e)!==t&&n)throw Error(V(425))}function pv(){}var eE=null,tE=null;function nE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rE=typeof setTimeout=="function"?setTimeout:void 0,mz=typeof clearTimeout=="function"?clearTimeout:void 0,IA=typeof Promise=="function"?Promise:void 0,yz=typeof queueMicrotask=="function"?queueMicrotask:typeof IA<"u"?function(e){return IA.resolve(null).then(e).catch(_z)}:rE;function _z(e){setTimeout(function(){throw e})}function j_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Rf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rf(t)}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),vi="__reactFiber$"+Rl,Lf="__reactProps$"+Rl,Xi="__reactContainer$"+Rl,iE="__reactEvents$"+Rl,wz="__reactListeners$"+Rl,Ez="__reactHandles$"+Rl;function Hs(e){var t=e[vi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xi]||n[vi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=SA(e);e!==null;){if(n=e[vi])return n;e=SA(e)}return t}e=n,n=e.parentNode}return null}function Th(e){return e=e[vi]||e[Xi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ru(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function kg(e){return e[Lf]||null}var oE=[],Pu=-1;function os(e){return{current:e}}function qe(e){0>Pu||(e.current=oE[Pu],oE[Pu]=null,Pu--)}function Ue(e,t){Pu++,oE[Pu]=e.current,e.current=t}var Xo={},hn=os(Xo),Vn=os(!1),fa=Xo;function Xu(e,t){var n=e.type.contextTypes;if(!n)return Xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(e){return e=e.childContextTypes,e!=null}function vv(){qe(Vn),qe(hn)}function bA(e,t,n){if(hn.current!==Xo)throw Error(V(168));Ue(hn,t),Ue(Vn,n)}function dD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,oq(e)||"Unknown",i));return tt({},n,r)}function gv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xo,fa=hn.current,Ue(hn,e),Ue(Vn,Vn.current),!0}function CA(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=dD(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,qe(Vn),qe(hn),Ue(hn,e)):qe(Vn),Ue(Vn,n)}var Vi=null,Ng=!1,V_=!1;function pD(e){Vi===null?Vi=[e]:Vi.push(e)}function Tz(e){Ng=!0,pD(e)}function ss(){if(!V_&&Vi!==null){V_=!0;var e=0,t=De;try{var n=Vi;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vi=null,Ng=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(e+1)),jO(KT,ss),i}finally{De=t,V_=!1}}return null}var xu=[],Ou=0,mv=null,yv=0,vr=[],gr=0,ha=null,Bi=1,$i="";function js(e,t){xu[Ou++]=yv,xu[Ou++]=mv,mv=e,yv=t}function vD(e,t,n){vr[gr++]=Bi,vr[gr++]=$i,vr[gr++]=ha,ha=e;var r=Bi;e=$i;var i=32-Yr(r)-1;r&=~(1<<i),n+=1;var s=32-Yr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Bi=1<<32-Yr(t)+i|n<<i|r,$i=s+e}else Bi=1<<s|n<<i|r,$i=e}function nI(e){e.return!==null&&(js(e,1),vD(e,1,0))}function rI(e){for(;e===mv;)mv=xu[--Ou],xu[Ou]=null,yv=xu[--Ou],xu[Ou]=null;for(;e===ha;)ha=vr[--gr],vr[gr]=null,$i=vr[--gr],vr[gr]=null,Bi=vr[--gr],vr[gr]=null}var ir=null,er=null,He=!1,Gr=null;function gD(e,t){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ir=e,er=Vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ir=e,er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ha!==null?{id:Bi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ir=e,er=null,!0):!1;default:return!1}}function sE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function aE(e){if(He){var t=er;if(t){var n=t;if(!kA(e,t)){if(sE(e))throw Error(V(418));t=Vo(n.nextSibling);var r=ir;t&&kA(e,t)?gD(r,n):(e.flags=e.flags&-4097|2,He=!1,ir=e)}}else{if(sE(e))throw Error(V(418));e.flags=e.flags&-4097|2,He=!1,ir=e}}}function NA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ir=e}function mp(e){if(e!==ir)return!1;if(!He)return NA(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nE(e.type,e.memoizedProps)),t&&(t=er)){if(sE(e))throw mD(),Error(V(418));for(;t;)gD(e,t),t=Vo(t.nextSibling)}if(NA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){er=Vo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}er=null}}else er=ir?Vo(e.stateNode.nextSibling):null;return!0}function mD(){for(var e=er;e;)e=Vo(e.nextSibling)}function Ju(){er=ir=null,He=!1}function iI(e){Gr===null?Gr=[e]:Gr.push(e)}var Iz=io.ReactCurrentBatchConfig;function Wr(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var _v=os(null),wv=null,Du=null,oI=null;function sI(){oI=Du=wv=null}function aI(e){var t=_v.current;qe(_v),e._currentValue=t}function uE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qu(e,t){wv=e,oI=Du=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Un=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(oI!==e)if(e={context:e,memoizedValue:t,next:null},Du===null){if(wv===null)throw Error(V(308));Du=e,wv.dependencies={lanes:0,firstContext:e}}else Du=Du.next=e;return t}var Ks=null;function uI(e){Ks===null?Ks=[e]:Ks.push(e)}function yD(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,uI(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ji(e,r)}function Ji(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bo=!1;function lI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _D(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ji(e,n)}return i=r.interleaved,i===null?(t.next=t,uI(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ji(e,n)}function zp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,GT(e,n)}}function AA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ev(e,t,n,r){var i=e.updateQueue;bo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,p=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,T=l;switch(m=t,y=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){v=w.call(y,v,m);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,m=typeof w=="function"?w.call(y,v,m):w,m==null)break e;v=tt({},v,m);break e;case 2:bo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=v):p=p.next=y,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);pa|=a,e.lanes=a,e.memoizedState=v}}function RA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var wD=new yO.Component().refs;function lE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ag={isMounted:function(e){return(e=e._reactInternals)?Ra(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kn(),i=qo(e),s=Hi(r,i);s.payload=t,n!=null&&(s.callback=n),t=Bo(e,s,i),t!==null&&(Xr(t,e,i,r),zp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kn(),i=qo(e),s=Hi(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Bo(e,s,i),t!==null&&(Xr(t,e,i,r),zp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),r=qo(e),i=Hi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bo(e,i,r),t!==null&&(Xr(t,e,r,n),zp(t,e,r))}};function PA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!xf(n,r)||!xf(i,s):!0}function ED(e,t,n){var r=!1,i=Xo,s=t.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Bn(t)?fa:hn.current,r=t.contextTypes,s=(r=r!=null)?Xu(e,i):Xo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ag,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function xA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ag.enqueueReplaceState(t,t.state,null)}function cE(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wD,lI(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Bn(t)?fa:hn.current,i.context=Xu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(lE(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ag.enqueueReplaceState(i,i.state,null),Ev(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===wD&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function yp(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OA(e){var t=e._init;return t(e._payload)}function TD(e){function t(I,S){if(e){var C=I.deletions;C===null?(I.deletions=[S],I.flags|=16):C.push(S)}}function n(I,S){if(!e)return null;for(;S!==null;)t(I,S),S=S.sibling;return null}function r(I,S){for(I=new Map;S!==null;)S.key!==null?I.set(S.key,S):I.set(S.index,S),S=S.sibling;return I}function i(I,S){return I=zo(I,S),I.index=0,I.sibling=null,I}function s(I,S,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<S?(I.flags|=2,S):C):(I.flags|=2,S)):(I.flags|=1048576,S)}function a(I){return e&&I.alternate===null&&(I.flags|=2),I}function l(I,S,C,P){return S===null||S.tag!==6?(S=K_(C,I.mode,P),S.return=I,S):(S=i(S,C),S.return=I,S)}function c(I,S,C,P){var D=C.type;return D===Cu?p(I,S,C.props.children,P,C.key):S!==null&&(S.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===So&&OA(D)===S.type)?(P=i(S,C.props),P.ref=jc(I,S,C),P.return=I,P):(P=Yp(C.type,C.key,C.props,null,I.mode,P),P.ref=jc(I,S,C),P.return=I,P)}function h(I,S,C,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=G_(C,I.mode,P),S.return=I,S):(S=i(S,C.children||[]),S.return=I,S)}function p(I,S,C,P,D){return S===null||S.tag!==7?(S=ra(C,I.mode,P,D),S.return=I,S):(S=i(S,C),S.return=I,S)}function v(I,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=K_(""+S,I.mode,C),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ap:return C=Yp(S.type,S.key,S.props,null,I.mode,C),C.ref=jc(I,null,S),C.return=I,C;case bu:return S=G_(S,I.mode,C),S.return=I,S;case So:var P=S._init;return v(I,P(S._payload),C)}if(Yc(S)||Dc(S))return S=ra(S,I.mode,C,null),S.return=I,S;yp(I,S)}return null}function m(I,S,C,P){var D=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:l(I,S,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ap:return C.key===D?c(I,S,C,P):null;case bu:return C.key===D?h(I,S,C,P):null;case So:return D=C._init,m(I,S,D(C._payload),P)}if(Yc(C)||Dc(C))return D!==null?null:p(I,S,C,P,null);yp(I,C)}return null}function y(I,S,C,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return I=I.get(C)||null,l(S,I,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ap:return I=I.get(P.key===null?C:P.key)||null,c(S,I,P,D);case bu:return I=I.get(P.key===null?C:P.key)||null,h(S,I,P,D);case So:var x=P._init;return y(I,S,C,x(P._payload),D)}if(Yc(P)||Dc(P))return I=I.get(C)||null,p(S,I,P,D,null);yp(S,P)}return null}function w(I,S,C,P){for(var D=null,x=null,B=S,M=S=0,ce=null;B!==null&&M<C.length;M++){B.index>M?(ce=B,B=null):ce=B.sibling;var R=m(I,B,C[M],P);if(R===null){B===null&&(B=ce);break}e&&B&&R.alternate===null&&t(I,B),S=s(R,S,M),x===null?D=R:x.sibling=R,x=R,B=ce}if(M===C.length)return n(I,B),He&&js(I,M),D;if(B===null){for(;M<C.length;M++)B=v(I,C[M],P),B!==null&&(S=s(B,S,M),x===null?D=B:x.sibling=B,x=B);return He&&js(I,M),D}for(B=r(I,B);M<C.length;M++)ce=y(B,I,M,C[M],P),ce!==null&&(e&&ce.alternate!==null&&B.delete(ce.key===null?M:ce.key),S=s(ce,S,M),x===null?D=ce:x.sibling=ce,x=ce);return e&&B.forEach(function(Vt){return t(I,Vt)}),He&&js(I,M),D}function T(I,S,C,P){var D=Dc(C);if(typeof D!="function")throw Error(V(150));if(C=D.call(C),C==null)throw Error(V(151));for(var x=D=null,B=S,M=S=0,ce=null,R=C.next();B!==null&&!R.done;M++,R=C.next()){B.index>M?(ce=B,B=null):ce=B.sibling;var Vt=m(I,B,R.value,P);if(Vt===null){B===null&&(B=ce);break}e&&B&&Vt.alternate===null&&t(I,B),S=s(Vt,S,M),x===null?D=Vt:x.sibling=Vt,x=Vt,B=ce}if(R.done)return n(I,B),He&&js(I,M),D;if(B===null){for(;!R.done;M++,R=C.next())R=v(I,R.value,P),R!==null&&(S=s(R,S,M),x===null?D=R:x.sibling=R,x=R);return He&&js(I,M),D}for(B=r(I,B);!R.done;M++,R=C.next())R=y(B,I,M,R.value,P),R!==null&&(e&&R.alternate!==null&&B.delete(R.key===null?M:R.key),S=s(R,S,M),x===null?D=R:x.sibling=R,x=R);return e&&B.forEach(function(Pr){return t(I,Pr)}),He&&js(I,M),D}function b(I,S,C,P){if(typeof C=="object"&&C!==null&&C.type===Cu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ap:e:{for(var D=C.key,x=S;x!==null;){if(x.key===D){if(D=C.type,D===Cu){if(x.tag===7){n(I,x.sibling),S=i(x,C.props.children),S.return=I,I=S;break e}}else if(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===So&&OA(D)===x.type){n(I,x.sibling),S=i(x,C.props),S.ref=jc(I,x,C),S.return=I,I=S;break e}n(I,x);break}else t(I,x);x=x.sibling}C.type===Cu?(S=ra(C.props.children,I.mode,P,C.key),S.return=I,I=S):(P=Yp(C.type,C.key,C.props,null,I.mode,P),P.ref=jc(I,S,C),P.return=I,I=P)}return a(I);case bu:e:{for(x=C.key;S!==null;){if(S.key===x)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(I,S.sibling),S=i(S,C.children||[]),S.return=I,I=S;break e}else{n(I,S);break}else t(I,S);S=S.sibling}S=G_(C,I.mode,P),S.return=I,I=S}return a(I);case So:return x=C._init,b(I,S,x(C._payload),P)}if(Yc(C))return w(I,S,C,P);if(Dc(C))return T(I,S,C,P);yp(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(I,S.sibling),S=i(S,C),S.return=I,I=S):(n(I,S),S=K_(C,I.mode,P),S.return=I,I=S),a(I)):n(I,S)}return b}var Zu=TD(!0),ID=TD(!1),Ih={},yi=os(Ih),Mf=os(Ih),Ff=os(Ih);function Gs(e){if(e===Ih)throw Error(V(174));return e}function cI(e,t){switch(Ue(Ff,t),Ue(Mf,e),Ue(yi,Ih),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$w(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$w(t,e)}qe(yi),Ue(yi,t)}function el(){qe(yi),qe(Mf),qe(Ff)}function SD(e){Gs(Ff.current);var t=Gs(yi.current),n=$w(t,e.type);t!==n&&(Ue(Mf,e),Ue(yi,n))}function fI(e){Mf.current===e&&(qe(yi),qe(Mf))}var Xe=os(0);function Tv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var B_=[];function hI(){for(var e=0;e<B_.length;e++)B_[e]._workInProgressVersionPrimary=null;B_.length=0}var Wp=io.ReactCurrentDispatcher,$_=io.ReactCurrentBatchConfig,da=0,et=null,Tt=null,Pt=null,Iv=!1,af=!1,Uf=0,Sz=0;function tn(){throw Error(V(321))}function dI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function pI(e,t,n,r,i,s){if(da=s,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wp.current=e===null||e.memoizedState===null?Nz:Az,e=n(r,i),af){s=0;do{if(af=!1,Uf=0,25<=s)throw Error(V(301));s+=1,Pt=Tt=null,t.updateQueue=null,Wp.current=Rz,e=n(r,i)}while(af)}if(Wp.current=Sv,t=Tt!==null&&Tt.next!==null,da=0,Pt=Tt=et=null,Iv=!1,t)throw Error(V(300));return e}function vI(){var e=Uf!==0;return Uf=0,e}function di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?et.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function kr(){if(Tt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Pt===null?et.memoizedState:Pt.next;if(t!==null)Pt=t,Tt=e;else{if(e===null)throw Error(V(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Pt===null?et.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function jf(e,t){return typeof t=="function"?t(e):t}function q_(e){var t=kr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((da&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,et.lanes|=p,pa|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,ei(r,t.memoizedState)||(Un=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,et.lanes|=s,pa|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function z_(e){var t=kr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ei(s,t.memoizedState)||(Un=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function bD(){}function CD(e,t){var n=et,r=kr(),i=t(),s=!ei(r.memoizedState,i);if(s&&(r.memoizedState=i,Un=!0),r=r.queue,gI(AD.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Vf(9,ND.bind(null,n,r,i,t),void 0,null),Ft===null)throw Error(V(349));da&30||kD(n,t,i)}return i}function kD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ND(e,t,n,r){t.value=n,t.getSnapshot=r,RD(t)&&PD(e)}function AD(e,t,n){return n(function(){RD(t)&&PD(e)})}function RD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ei(e,n)}catch{return!0}}function PD(e){var t=Ji(e,1);t!==null&&Xr(t,e,1,-1)}function DA(e){var t=di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:e},t.queue=e,e=e.dispatch=kz.bind(null,et,e),[t.memoizedState,e]}function Vf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xD(){return kr().memoizedState}function Hp(e,t,n,r){var i=di();et.flags|=e,i.memoizedState=Vf(1|t,n,void 0,r===void 0?null:r)}function Rg(e,t,n,r){var i=kr();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var a=Tt.memoizedState;if(s=a.destroy,r!==null&&dI(r,a.deps)){i.memoizedState=Vf(t,n,s,r);return}}et.flags|=e,i.memoizedState=Vf(1|t,n,s,r)}function LA(e,t){return Hp(8390656,8,e,t)}function gI(e,t){return Rg(2048,8,e,t)}function OD(e,t){return Rg(4,2,e,t)}function DD(e,t){return Rg(4,4,e,t)}function LD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MD(e,t,n){return n=n!=null?n.concat([e]):null,Rg(4,4,LD.bind(null,t,e),n)}function mI(){}function FD(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function UD(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jD(e,t,n){return da&21?(ei(n,t)||(n=$O(),et.lanes|=n,pa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Un=!0),e.memoizedState=n)}function bz(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=$_.transition;$_.transition={};try{e(!1),t()}finally{De=n,$_.transition=r}}function VD(){return kr().memoizedState}function Cz(e,t,n){var r=qo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BD(e))$D(t,n);else if(n=yD(e,t,n,r),n!==null){var i=kn();Xr(n,e,r,i),qD(n,t,r)}}function kz(e,t,n){var r=qo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BD(e))$D(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,ei(l,a)){var c=t.interleaved;c===null?(i.next=i,uI(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=yD(e,t,i,r),n!==null&&(i=kn(),Xr(n,e,r,i),qD(n,t,r))}}function BD(e){var t=e.alternate;return e===et||t!==null&&t===et}function $D(e,t){af=Iv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,GT(e,n)}}var Sv={readContext:Cr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},Nz={readContext:Cr,useCallback:function(e,t){return di().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:LA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hp(4194308,4,LD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hp(4,2,e,t)},useMemo:function(e,t){var n=di();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=di();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cz.bind(null,et,e),[r.memoizedState,e]},useRef:function(e){var t=di();return e={current:e},t.memoizedState=e},useState:DA,useDebugValue:mI,useDeferredValue:function(e){return di().memoizedState=e},useTransition:function(){var e=DA(!1),t=e[0];return e=bz.bind(null,e[1]),di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=et,i=di();if(He){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Ft===null)throw Error(V(349));da&30||kD(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,LA(AD.bind(null,r,s,e),[e]),r.flags|=2048,Vf(9,ND.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=di(),t=Ft.identifierPrefix;if(He){var n=$i,r=Bi;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Az={readContext:Cr,useCallback:FD,useContext:Cr,useEffect:gI,useImperativeHandle:MD,useInsertionEffect:OD,useLayoutEffect:DD,useMemo:UD,useReducer:q_,useRef:xD,useState:function(){return q_(jf)},useDebugValue:mI,useDeferredValue:function(e){var t=kr();return jD(t,Tt.memoizedState,e)},useTransition:function(){var e=q_(jf)[0],t=kr().memoizedState;return[e,t]},useMutableSource:bD,useSyncExternalStore:CD,useId:VD,unstable_isNewReconciler:!1},Rz={readContext:Cr,useCallback:FD,useContext:Cr,useEffect:gI,useImperativeHandle:MD,useInsertionEffect:OD,useLayoutEffect:DD,useMemo:UD,useReducer:z_,useRef:xD,useState:function(){return z_(jf)},useDebugValue:mI,useDeferredValue:function(e){var t=kr();return Tt===null?t.memoizedState=e:jD(t,Tt.memoizedState,e)},useTransition:function(){var e=z_(jf)[0],t=kr().memoizedState;return[e,t]},useMutableSource:bD,useSyncExternalStore:CD,useId:VD,unstable_isNewReconciler:!1};function tl(e,t){try{var n="",r=t;do n+=iq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function W_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pz=typeof WeakMap=="function"?WeakMap:Map;function zD(e,t,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cv||(Cv=!0,EE=r),fE(e,t)},n}function WD(e,t,n){n=Hi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fE(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fE(e,t),typeof r!="function"&&($o===null?$o=new Set([this]):$o.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function MA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wz.bind(null,e,t,n),t.then(e,e))}function FA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UA(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hi(-1,1),t.tag=2,Bo(n,t,1))),n.lanes|=1),e)}var xz=io.ReactCurrentOwner,Un=!1;function wn(e,t,n,r){t.child=e===null?ID(t,null,n,r):Zu(t,e.child,n,r)}function jA(e,t,n,r,i){n=n.render;var s=t.ref;return qu(t,i),r=pI(e,t,n,r,s,i),n=vI(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zi(e,t,i)):(He&&n&&nI(t),t.flags|=1,wn(e,t,r,i),t.child)}function VA(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!bI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,HD(e,t,s,r,i)):(e=Yp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:xf,n(a,r)&&e.ref===t.ref)return Zi(e,t,i)}return t.flags|=1,e=zo(s,r),e.ref=t.ref,e.return=t,t.child=e}function HD(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(xf(s,r)&&e.ref===t.ref)if(Un=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Un=!0);else return t.lanes=e.lanes,Zi(e,t,i)}return hE(e,t,n,r,i)}function KD(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Mu,Yn),Yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Mu,Yn),Yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(Mu,Yn),Yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ue(Mu,Yn),Yn|=r;return wn(e,t,i,n),t.child}function GD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hE(e,t,n,r,i){var s=Bn(n)?fa:hn.current;return s=Xu(t,s),qu(t,i),n=pI(e,t,n,r,s,i),r=vI(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zi(e,t,i)):(He&&r&&nI(t),t.flags|=1,wn(e,t,n,i),t.child)}function BA(e,t,n,r,i){if(Bn(n)){var s=!0;gv(t)}else s=!1;if(qu(t,i),t.stateNode===null)Kp(e,t),ED(t,n,r),cE(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Cr(h):(h=Bn(n)?fa:hn.current,h=Xu(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&xA(t,a,r,h),bo=!1;var m=t.memoizedState;a.state=m,Ev(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Vn.current||bo?(typeof p=="function"&&(lE(t,n,p,r),c=t.memoizedState),(l=bo||PA(t,n,l,r,m,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,_D(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Wr(t.type,l),a.props=h,v=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Bn(n)?fa:hn.current,c=Xu(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||m!==c)&&xA(t,a,r,c),bo=!1,m=t.memoizedState,a.state=m,Ev(t,r,a,i);var w=t.memoizedState;l!==v||m!==w||Vn.current||bo?(typeof y=="function"&&(lE(t,n,y,r),w=t.memoizedState),(h=bo||PA(t,n,h,r,m,w,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return dE(e,t,n,r,s,i)}function dE(e,t,n,r,i,s){GD(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&CA(t,n,!1),Zi(e,t,s);r=t.stateNode,xz.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Zu(t,e.child,null,s),t.child=Zu(t,null,l,s)):wn(e,t,l,s),t.memoizedState=r.state,i&&CA(t,n,!0),t.child}function QD(e){var t=e.stateNode;t.pendingContext?bA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bA(e,t.context,!1),cI(e,t.containerInfo)}function $A(e,t,n,r,i){return Ju(),iI(i),t.flags|=256,wn(e,t,n,r),t.child}var pE={dehydrated:null,treeContext:null,retryLane:0};function vE(e){return{baseLanes:e,cachePool:null,transitions:null}}function YD(e,t,n){var r=t.pendingProps,i=Xe.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(Xe,i&1),e===null)return aE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Og(a,r,0,null),e=ra(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=vE(n),t.memoizedState=pE,e):yI(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Oz(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=zo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=zo(l,s):(s=ra(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?vE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=pE,r}return s=e.child,e=s.sibling,r=zo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yI(e,t){return t=Og({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _p(e,t,n,r){return r!==null&&iI(r),Zu(t,e.child,null,n),e=yI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Oz(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=W_(Error(V(422))),_p(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Og({mode:"visible",children:r.children},i,0,null),s=ra(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zu(t,e.child,null,a),t.child.memoizedState=vE(a),t.memoizedState=pE,s);if(!(t.mode&1))return _p(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(V(419)),r=W_(s,r,void 0),_p(e,t,a,r)}if(l=(a&e.childLanes)!==0,Un||l){if(r=Ft,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ji(e,i),Xr(r,e,i,-1))}return SI(),r=W_(Error(V(421))),_p(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Hz.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,er=Vo(i.nextSibling),ir=t,He=!0,Gr=null,e!==null&&(vr[gr++]=Bi,vr[gr++]=$i,vr[gr++]=ha,Bi=e.id,$i=e.overflow,ha=t),t=yI(t,r.children),t.flags|=4096,t)}function qA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),uE(e.return,t,n)}function H_(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XD(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wn(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qA(e,n,t);else if(e.tag===19)qA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),H_(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}H_(t,!0,n,null,s);break;case"together":H_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=zo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dz(e,t,n){switch(t.tag){case 3:QD(t),Ju();break;case 5:SD(t);break;case 1:Bn(t.type)&&gv(t);break;case 4:cI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ue(_v,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?YD(e,t,n):(Ue(Xe,Xe.current&1),e=Zi(e,t,n),e!==null?e.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,KD(e,t,n)}return Zi(e,t,n)}var JD,gE,ZD,eL;JD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gE=function(){};ZD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(yi.current);var s=null;switch(n){case"input":i=Uw(e,i),r=Uw(e,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=Bw(e,i),r=Bw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pv)}qw(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(bf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(bf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};eL=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vc(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lz(e,t,n){var r=t.pendingProps;switch(rI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return Bn(t.type)&&vv(),nn(t),null;case 3:return r=t.stateNode,el(),qe(Vn),qe(hn),hI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gr!==null&&(SE(Gr),Gr=null))),gE(e,t),nn(t),null;case 5:fI(t);var i=Gs(Ff.current);if(n=t.type,e!==null&&t.stateNode!=null)ZD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return nn(t),null}if(e=Gs(yi.current),mp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[vi]=t,r[Lf]=s,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Jc.length;i++)Be(Jc[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":JN(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":eA(r,s),Be("invalid",r)}qw(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&gp(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&gp(r.textContent,l,e),i=["children",""+l]):bf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":up(r),ZN(r,s,!0);break;case"textarea":up(r),tA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[vi]=t,e[Lf]=r,JD(e,t,!1,!1),t.stateNode=e;e:{switch(a=zw(n,r),n){case"dialog":Be("cancel",e),Be("close",e),i=r;break;case"iframe":case"object":case"embed":Be("load",e),i=r;break;case"video":case"audio":for(i=0;i<Jc.length;i++)Be(Jc[i],e);i=r;break;case"source":Be("error",e),i=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=r;break;case"details":Be("toggle",e),i=r;break;case"input":JN(e,r),i=Uw(e,r),Be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Be("invalid",e);break;case"textarea":eA(e,r),i=Bw(e,r),Be("invalid",e);break;default:i=r}qw(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?RO(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&NO(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cf(e,c):typeof c=="number"&&Cf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&$T(e,s,c,a))}switch(n){case"input":up(e),ZN(e,r,!1);break;case"textarea":up(e),tA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ju(e,!!r.multiple,s,!1):r.defaultValue!=null&&ju(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)eL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Gs(Ff.current),Gs(yi.current),mp(t)){if(r=t.stateNode,n=t.memoizedProps,r[vi]=t,(s=r.nodeValue!==n)&&(e=ir,e!==null))switch(e.tag){case 3:gp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=t,t.stateNode=r}return nn(t),null;case 13:if(qe(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&er!==null&&t.mode&1&&!(t.flags&128))mD(),Ju(),t.flags|=98560,s=!1;else if(s=mp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[vi]=t}else Ju(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),s=!1}else Gr!==null&&(SE(Gr),Gr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?St===0&&(St=3):SI())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return el(),gE(e,t),e===null&&Of(t.stateNode.containerInfo),nn(t),null;case 10:return aI(t.type._context),nn(t),null;case 17:return Bn(t.type)&&vv(),nn(t),null;case 19:if(qe(Xe),s=t.memoizedState,s===null)return nn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Vc(s,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Tv(e),a!==null){for(t.flags|=128,Vc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Xe,Xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ct()>nl&&(t.flags|=128,r=!0,Vc(s,!1),t.lanes=4194304)}else{if(!r)if(e=Tv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!He)return nn(t),null}else 2*ct()-s.renderingStartTime>nl&&n!==1073741824&&(t.flags|=128,r=!0,Vc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ct(),t.sibling=null,n=Xe.current,Ue(Xe,r?n&1|2:n&1),t):(nn(t),null);case 22:case 23:return II(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Mz(e,t){switch(rI(t),t.tag){case 1:return Bn(t.type)&&vv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return el(),qe(Vn),qe(hn),hI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fI(t),null;case 13:if(qe(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Ju()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Xe),null;case 4:return el(),null;case 10:return aI(t.type._context),null;case 22:case 23:return II(),null;case 24:return null;default:return null}}var wp=!1,sn=!1,Fz=typeof WeakSet=="function"?WeakSet:Set,G=null;function Lu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function mE(e,t,n){try{n()}catch(r){rt(e,t,r)}}var zA=!1;function Uz(e,t){if(eE=fv,e=iD(),tI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,v=e,m=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)m=v,v=y;for(;;){if(v===e)break t;if(m===n&&++h===i&&(l=a),m===s&&++p===r&&(c=a),(y=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tE={focusedElem:e,selectionRange:n},fv=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,b=w.memoizedState,I=t.stateNode,S=I.getSnapshotBeforeUpdate(t.elementType===t.type?T:Wr(t.type,T),b);I.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(P){rt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=zA,zA=!1,w}function uf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&mE(t,n,s)}i=i.next}while(i!==r)}}function Pg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tL(e){var t=e.alternate;t!==null&&(e.alternate=null,tL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vi],delete t[Lf],delete t[iE],delete t[wz],delete t[Ez])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nL(e){return e.tag===5||e.tag===3||e.tag===4}function WA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _E(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pv));else if(r!==4&&(e=e.child,e!==null))for(_E(e,t,n),e=e.sibling;e!==null;)_E(e,t,n),e=e.sibling}function wE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wE(e,t,n),e=e.sibling;e!==null;)wE(e,t,n),e=e.sibling}var qt=null,Kr=!1;function _o(e,t,n){for(n=n.child;n!==null;)rL(e,t,n),n=n.sibling}function rL(e,t,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Ig,n)}catch{}switch(n.tag){case 5:sn||Lu(n,t);case 6:var r=qt,i=Kr;qt=null,_o(e,t,n),qt=r,Kr=i,qt!==null&&(Kr?(e=qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(Kr?(e=qt,n=n.stateNode,e.nodeType===8?j_(e.parentNode,n):e.nodeType===1&&j_(e,n),Rf(e)):j_(qt,n.stateNode));break;case 4:r=qt,i=Kr,qt=n.stateNode.containerInfo,Kr=!0,_o(e,t,n),qt=r,Kr=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&mE(n,t,a),i=i.next}while(i!==r)}_o(e,t,n);break;case 1:if(!sn&&(Lu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,t,l)}_o(e,t,n);break;case 21:_o(e,t,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,_o(e,t,n),sn=r):_o(e,t,n);break;default:_o(e,t,n)}}function HA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fz),t.forEach(function(r){var i=Kz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:qt=l.stateNode,Kr=!1;break e;case 3:qt=l.stateNode.containerInfo,Kr=!0;break e;case 4:qt=l.stateNode.containerInfo,Kr=!0;break e}l=l.return}if(qt===null)throw Error(V(160));rL(s,a,i),qt=null,Kr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){rt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iL(t,e),t=t.sibling}function iL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vr(t,e),hi(e),r&4){try{uf(3,e,e.return),Pg(3,e)}catch(T){rt(e,e.return,T)}try{uf(5,e,e.return)}catch(T){rt(e,e.return,T)}}break;case 1:Vr(t,e),hi(e),r&512&&n!==null&&Lu(n,n.return);break;case 5:if(Vr(t,e),hi(e),r&512&&n!==null&&Lu(n,n.return),e.flags&32){var i=e.stateNode;try{Cf(i,"")}catch(T){rt(e,e.return,T)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&bO(i,s),zw(l,a);var h=zw(l,s);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?RO(i,v):p==="dangerouslySetInnerHTML"?NO(i,v):p==="children"?Cf(i,v):$T(i,p,v,h)}switch(l){case"input":jw(i,s);break;case"textarea":CO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ju(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?ju(i,!!s.multiple,s.defaultValue,!0):ju(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lf]=s}catch(T){rt(e,e.return,T)}}break;case 6:if(Vr(t,e),hi(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(T){rt(e,e.return,T)}}break;case 3:if(Vr(t,e),hi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rf(t.containerInfo)}catch(T){rt(e,e.return,T)}break;case 4:Vr(t,e),hi(e);break;case 13:Vr(t,e),hi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(EI=ct())),r&4&&HA(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(sn=(h=sn)||p,Vr(t,e),sn=h):Vr(t,e),hi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(v=G=p;G!==null;){switch(m=G,y=m.child,m.tag){case 0:case 11:case 14:case 15:uf(4,m,m.return);break;case 1:Lu(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(T){rt(r,n,T)}}break;case 5:Lu(m,m.return);break;case 22:if(m.memoizedState!==null){GA(v);continue}}y!==null?(y.return=m,G=y):GA(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=AO("display",a))}catch(T){rt(e,e.return,T)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(T){rt(e,e.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Vr(t,e),hi(e),r&4&&HA(e);break;case 21:break;default:Vr(t,e),hi(e)}}function hi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nL(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cf(i,""),r.flags&=-33);var s=WA(e);wE(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=WA(e);_E(e,l,a);break;default:throw Error(V(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jz(e,t,n){G=e,oL(e)}function oL(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||wp;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||sn;l=wp;var h=sn;if(wp=a,(sn=c)&&!h)for(G=i;G!==null;)a=G,c=a.child,a.tag===22&&a.memoizedState!==null?QA(i):c!==null?(c.return=a,G=c):QA(i);for(;s!==null;)G=s,oL(s),s=s.sibling;G=i,wp=l,sn=h}KA(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):KA(e)}}function KA(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sn||Pg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&RA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}RA(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&Rf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}sn||t.flags&512&&yE(t)}catch(m){rt(t,t.return,m)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function GA(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function QA(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pg(4,t)}catch(c){rt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){rt(t,i,c)}}var s=t.return;try{yE(t)}catch(c){rt(t,s,c)}break;case 5:var a=t.return;try{yE(t)}catch(c){rt(t,a,c)}}}catch(c){rt(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var Vz=Math.ceil,bv=io.ReactCurrentDispatcher,_I=io.ReactCurrentOwner,Ir=io.ReactCurrentBatchConfig,be=0,Ft=null,vt=null,Gt=0,Yn=0,Mu=os(0),St=0,Bf=null,pa=0,xg=0,wI=0,lf=null,Fn=null,EI=0,nl=1/0,Ui=null,Cv=!1,EE=null,$o=null,Ep=!1,Do=null,kv=0,cf=0,TE=null,Gp=-1,Qp=0;function kn(){return be&6?ct():Gp!==-1?Gp:Gp=ct()}function qo(e){return e.mode&1?be&2&&Gt!==0?Gt&-Gt:Iz.transition!==null?(Qp===0&&(Qp=$O()),Qp):(e=De,e!==0||(e=window.event,e=e===void 0?16:QO(e.type)),e):1}function Xr(e,t,n,r){if(50<cf)throw cf=0,TE=null,Error(V(185));wh(e,n,r),(!(be&2)||e!==Ft)&&(e===Ft&&(!(be&2)&&(xg|=n),St===4&&No(e,Gt)),$n(e,r),n===1&&be===0&&!(t.mode&1)&&(nl=ct()+500,Ng&&ss()))}function $n(e,t){var n=e.callbackNode;Iq(e,t);var r=cv(e,e===Ft?Gt:0);if(r===0)n!==null&&iA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&iA(n),t===1)e.tag===0?Tz(YA.bind(null,e)):pD(YA.bind(null,e)),yz(function(){!(be&6)&&ss()}),n=null;else{switch(qO(r)){case 1:n=KT;break;case 4:n=VO;break;case 16:n=lv;break;case 536870912:n=BO;break;default:n=lv}n=dL(n,sL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sL(e,t){if(Gp=-1,Qp=0,be&6)throw Error(V(327));var n=e.callbackNode;if(zu()&&e.callbackNode!==n)return null;var r=cv(e,e===Ft?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nv(e,r);else{t=r;var i=be;be|=2;var s=uL();(Ft!==e||Gt!==t)&&(Ui=null,nl=ct()+500,na(e,t));do try{qz();break}catch(l){aL(e,l)}while(1);sI(),bv.current=s,be=i,vt!==null?t=0:(Ft=null,Gt=0,t=St)}if(t!==0){if(t===2&&(i=Qw(e),i!==0&&(r=i,t=IE(e,i))),t===1)throw n=Bf,na(e,0),No(e,r),$n(e,ct()),n;if(t===6)No(e,r);else{if(i=e.current.alternate,!(r&30)&&!Bz(i)&&(t=Nv(e,r),t===2&&(s=Qw(e),s!==0&&(r=s,t=IE(e,s))),t===1))throw n=Bf,na(e,0),No(e,r),$n(e,ct()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Vs(e,Fn,Ui);break;case 3:if(No(e,r),(r&130023424)===r&&(t=EI+500-ct(),10<t)){if(cv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){kn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rE(Vs.bind(null,e,Fn,Ui),t);break}Vs(e,Fn,Ui);break;case 4:if(No(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Yr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vz(r/1960))-r,10<r){e.timeoutHandle=rE(Vs.bind(null,e,Fn,Ui),r);break}Vs(e,Fn,Ui);break;case 5:Vs(e,Fn,Ui);break;default:throw Error(V(329))}}}return $n(e,ct()),e.callbackNode===n?sL.bind(null,e):null}function IE(e,t){var n=lf;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=Nv(e,t),e!==2&&(t=Fn,Fn=n,t!==null&&SE(t)),e}function SE(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function Bz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ei(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function No(e,t){for(t&=~wI,t&=~xg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yr(t),r=1<<n;e[n]=-1,t&=~r}}function YA(e){if(be&6)throw Error(V(327));zu();var t=cv(e,0);if(!(t&1))return $n(e,ct()),null;var n=Nv(e,t);if(e.tag!==0&&n===2){var r=Qw(e);r!==0&&(t=r,n=IE(e,r))}if(n===1)throw n=Bf,na(e,0),No(e,t),$n(e,ct()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vs(e,Fn,Ui),$n(e,ct()),null}function TI(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(nl=ct()+500,Ng&&ss())}}function va(e){Do!==null&&Do.tag===0&&!(be&6)&&zu();var t=be;be|=1;var n=Ir.transition,r=De;try{if(Ir.transition=null,De=1,e)return e()}finally{De=r,Ir.transition=n,be=t,!(be&6)&&ss()}}function II(){Yn=Mu.current,qe(Mu)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mz(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(rI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vv();break;case 3:el(),qe(Vn),qe(hn),hI();break;case 5:fI(r);break;case 4:el();break;case 13:qe(Xe);break;case 19:qe(Xe);break;case 10:aI(r.type._context);break;case 22:case 23:II()}n=n.return}if(Ft=e,vt=e=zo(e.current,null),Gt=Yn=t,St=0,Bf=null,wI=xg=pa=0,Fn=lf=null,Ks!==null){for(t=0;t<Ks.length;t++)if(n=Ks[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ks=null}return e}function aL(e,t){do{var n=vt;try{if(sI(),Wp.current=Sv,Iv){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Iv=!1}if(da=0,Pt=Tt=et=null,af=!1,Uf=0,_I.current=null,n===null||n.return===null){St=1,Bf=t,vt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=FA(a);if(y!==null){y.flags&=-257,UA(y,a,l,s,t),y.mode&1&&MA(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var T=new Set;T.add(c),t.updateQueue=T}else w.add(c);break e}else{if(!(t&1)){MA(s,h,t),SI();break e}c=Error(V(426))}}else if(He&&l.mode&1){var b=FA(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),UA(b,a,l,s,t),iI(tl(c,l));break e}}s=c=tl(c,l),St!==4&&(St=2),lf===null?lf=[s]:lf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var I=zD(s,c,t);AA(s,I);break e;case 1:l=c;var S=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($o===null||!$o.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=WD(s,l,t);AA(s,P);break e}}s=s.return}while(s!==null)}cL(n)}catch(D){t=D,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(1)}function uL(){var e=bv.current;return bv.current=Sv,e===null?Sv:e}function SI(){(St===0||St===3||St===2)&&(St=4),Ft===null||!(pa&268435455)&&!(xg&268435455)||No(Ft,Gt)}function Nv(e,t){var n=be;be|=2;var r=uL();(Ft!==e||Gt!==t)&&(Ui=null,na(e,t));do try{$z();break}catch(i){aL(e,i)}while(1);if(sI(),be=n,bv.current=r,vt!==null)throw Error(V(261));return Ft=null,Gt=0,St}function $z(){for(;vt!==null;)lL(vt)}function qz(){for(;vt!==null&&!pq();)lL(vt)}function lL(e){var t=hL(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?cL(e):vt=t,_I.current=null}function cL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mz(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,vt=null;return}}else if(n=Lz(n,t,Yn),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);St===0&&(St=5)}function Vs(e,t,n){var r=De,i=Ir.transition;try{Ir.transition=null,De=1,zz(e,t,n,r)}finally{Ir.transition=i,De=r}return null}function zz(e,t,n,r){do zu();while(Do!==null);if(be&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Sq(e,s),e===Ft&&(vt=Ft=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ep||(Ep=!0,dL(lv,function(){return zu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ir.transition,Ir.transition=null;var a=De;De=1;var l=be;be|=4,_I.current=null,Uz(e,n),iL(n,e),cz(tE),fv=!!eE,tE=eE=null,e.current=n,jz(n),vq(),be=l,De=a,Ir.transition=s}else e.current=n;if(Ep&&(Ep=!1,Do=e,kv=i),s=e.pendingLanes,s===0&&($o=null),yq(n.stateNode),$n(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cv)throw Cv=!1,e=EE,EE=null,e;return kv&1&&e.tag!==0&&zu(),s=e.pendingLanes,s&1?e===TE?cf++:(cf=0,TE=e):cf=0,ss(),null}function zu(){if(Do!==null){var e=qO(kv),t=Ir.transition,n=De;try{if(Ir.transition=null,De=16>e?16:e,Do===null)var r=!1;else{if(e=Do,Do=null,kv=0,be&6)throw Error(V(331));var i=be;for(be|=4,G=e.current;G!==null;){var s=G,a=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(G=h;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:uf(8,p,s)}var v=p.child;if(v!==null)v.return=p,G=v;else for(;G!==null;){p=G;var m=p.sibling,y=p.return;if(tL(p),p===h){G=null;break}if(m!==null){m.return=y,G=m;break}G=y}}}var w=s.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var b=T.sibling;T.sibling=null,T=b}while(T!==null)}}G=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,G=a;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uf(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,G=I;break e}G=s.return}}var S=e.current;for(G=S;G!==null;){a=G;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,G=C;else e:for(a=S;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pg(9,l)}}catch(D){rt(l,l.return,D)}if(l===a){G=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,G=P;break e}G=l.return}}if(be=i,ss(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Ig,e)}catch{}r=!0}return r}finally{De=n,Ir.transition=t}}return!1}function XA(e,t,n){t=tl(n,t),t=zD(e,t,1),e=Bo(e,t,1),t=kn(),e!==null&&(wh(e,1,t),$n(e,t))}function rt(e,t,n){if(e.tag===3)XA(e,e,n);else for(;t!==null;){if(t.tag===3){XA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($o===null||!$o.has(r))){e=tl(n,e),e=WD(t,e,1),t=Bo(t,e,1),e=kn(),t!==null&&(wh(t,1,e),$n(t,e));break}}t=t.return}}function Wz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kn(),e.pingedLanes|=e.suspendedLanes&n,Ft===e&&(Gt&n)===n&&(St===4||St===3&&(Gt&130023424)===Gt&&500>ct()-EI?na(e,0):wI|=n),$n(e,t)}function fL(e,t){t===0&&(e.mode&1?(t=fp,fp<<=1,!(fp&130023424)&&(fp=4194304)):t=1);var n=kn();e=Ji(e,t),e!==null&&(wh(e,t,n),$n(e,n))}function Hz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fL(e,n)}function Kz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),fL(e,n)}var hL;hL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)Un=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Un=!1,Dz(e,t,n);Un=!!(e.flags&131072)}else Un=!1,He&&t.flags&1048576&&vD(t,yv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Kp(e,t),e=t.pendingProps;var i=Xu(t,hn.current);qu(t,n),i=pI(null,t,r,e,i,n);var s=vI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(r)?(s=!0,gv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lI(t),i.updater=Ag,t.stateNode=i,i._reactInternals=t,cE(t,r,e,n),t=dE(null,t,r,!0,s,n)):(t.tag=0,He&&s&&nI(t),wn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Kp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Qz(r),e=Wr(r,e),i){case 0:t=hE(null,t,r,e,n);break e;case 1:t=BA(null,t,r,e,n);break e;case 11:t=jA(null,t,r,e,n);break e;case 14:t=VA(null,t,r,Wr(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wr(r,i),hE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wr(r,i),BA(e,t,r,i,n);case 3:e:{if(QD(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,_D(e,t),Ev(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=tl(Error(V(423)),t),t=$A(e,t,r,n,i);break e}else if(r!==i){i=tl(Error(V(424)),t),t=$A(e,t,r,n,i);break e}else for(er=Vo(t.stateNode.containerInfo.firstChild),ir=t,He=!0,Gr=null,n=ID(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ju(),r===i){t=Zi(e,t,n);break e}wn(e,t,r,n)}t=t.child}return t;case 5:return SD(t),e===null&&aE(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,nE(r,i)?a=null:s!==null&&nE(r,s)&&(t.flags|=32),GD(e,t),wn(e,t,a,n),t.child;case 6:return e===null&&aE(t),null;case 13:return YD(e,t,n);case 4:return cI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zu(t,null,r,n):wn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wr(r,i),jA(e,t,r,i,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ue(_v,r._currentValue),r._currentValue=a,s!==null)if(ei(s.value,a)){if(s.children===i.children&&!Vn.current){t=Zi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Hi(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),uE(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),uE(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}wn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,qu(t,n),i=Cr(i),r=r(i),t.flags|=1,wn(e,t,r,n),t.child;case 14:return r=t.type,i=Wr(r,t.pendingProps),i=Wr(r.type,i),VA(e,t,r,i,n);case 15:return HD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wr(r,i),Kp(e,t),t.tag=1,Bn(r)?(e=!0,gv(t)):e=!1,qu(t,n),ED(t,r,i),cE(t,r,i,n),dE(null,t,r,!0,e,n);case 19:return XD(e,t,n);case 22:return KD(e,t,n)}throw Error(V(156,t.tag))};function dL(e,t){return jO(e,t)}function Gz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,t,n,r){return new Gz(e,t,n,r)}function bI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qz(e){if(typeof e=="function")return bI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zT)return 11;if(e===WT)return 14}return 2}function zo(e,t){var n=e.alternate;return n===null?(n=mr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")bI(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Cu:return ra(n.children,i,s,t);case qT:a=8,i|=8;break;case Dw:return e=mr(12,n,t,i|2),e.elementType=Dw,e.lanes=s,e;case Lw:return e=mr(13,n,t,i),e.elementType=Lw,e.lanes=s,e;case Mw:return e=mr(19,n,t,i),e.elementType=Mw,e.lanes=s,e;case TO:return Og(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wO:a=10;break e;case EO:a=9;break e;case zT:a=11;break e;case WT:a=14;break e;case So:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=mr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ra(e,t,n,r){return e=mr(7,e,r,t),e.lanes=n,e}function Og(e,t,n,r){return e=mr(22,e,r,t),e.elementType=TO,e.lanes=n,e.stateNode={isHidden:!1},e}function K_(e,t,n){return e=mr(6,e,null,t),e.lanes=n,e}function G_(e,t,n){return t=mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N_(0),this.expirationTimes=N_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CI(e,t,n,r,i,s,a,l,c){return e=new Yz(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lI(s),e}function Xz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pL(e){if(!e)return Xo;e=e._reactInternals;e:{if(Ra(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Bn(n))return dD(e,n,t)}return t}function vL(e,t,n,r,i,s,a,l,c){return e=CI(n,r,!0,e,i,s,a,l,c),e.context=pL(null),n=e.current,r=kn(),i=qo(n),s=Hi(r,i),s.callback=t??null,Bo(n,s,i),e.current.lanes=i,wh(e,i,r),$n(e,r),e}function Dg(e,t,n,r){var i=t.current,s=kn(),a=qo(i);return n=pL(n),t.context===null?t.context=n:t.pendingContext=n,t=Hi(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bo(i,t,a),e!==null&&(Xr(e,i,a,s),zp(e,i,a)),a}function Av(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kI(e,t){JA(e,t),(e=e.alternate)&&JA(e,t)}function Jz(){return null}var gL=typeof reportError=="function"?reportError:function(e){console.error(e)};function NI(e){this._internalRoot=e}Lg.prototype.render=NI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Dg(e,t,null,null)};Lg.prototype.unmount=NI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){Dg(null,e,null,null)}),t[Xi]=null}};function Lg(e){this._internalRoot=e}Lg.prototype.unstable_scheduleHydration=function(e){if(e){var t=HO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ko.length&&t!==0&&t<ko[n].priority;n++);ko.splice(n,0,e),n===0&&GO(e)}};function AI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ZA(){}function Zz(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Av(a);s.call(h)}}var a=vL(t,r,e,0,null,!1,!1,"",ZA);return e._reactRootContainer=a,e[Xi]=a.current,Of(e.nodeType===8?e.parentNode:e),va(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Av(c);l.call(h)}}var c=CI(e,0,!1,null,null,!1,!1,"",ZA);return e._reactRootContainer=c,e[Xi]=c.current,Of(e.nodeType===8?e.parentNode:e),va(function(){Dg(t,c,n,r)}),c}function Fg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Av(a);l.call(c)}}Dg(t,a,e,i)}else a=Zz(n,t,e,i,r);return Av(a)}zO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xc(t.pendingLanes);n!==0&&(GT(t,n|1),$n(t,ct()),!(be&6)&&(nl=ct()+500,ss()))}break;case 13:va(function(){var r=Ji(e,1);if(r!==null){var i=kn();Xr(r,e,1,i)}}),kI(e,1)}};QT=function(e){if(e.tag===13){var t=Ji(e,134217728);if(t!==null){var n=kn();Xr(t,e,134217728,n)}kI(e,134217728)}};WO=function(e){if(e.tag===13){var t=qo(e),n=Ji(e,t);if(n!==null){var r=kn();Xr(n,e,t,r)}kI(e,t)}};HO=function(){return De};KO=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Hw=function(e,t,n){switch(t){case"input":if(jw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kg(r);if(!i)throw Error(V(90));SO(r),jw(r,i)}}}break;case"textarea":CO(e,n);break;case"select":t=n.value,t!=null&&ju(e,!!n.multiple,t,!1)}};OO=TI;DO=va;var e6={usingClientEntryPoint:!1,Events:[Th,Ru,kg,PO,xO,TI]},Bc={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},t6={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=FO(e),e===null?null:e.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||Jz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{Ig=Tp.inject(t6),mi=Tp}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e6;lr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AI(t))throw Error(V(200));return Xz(e,t,null,n)};lr.createRoot=function(e,t){if(!AI(e))throw Error(V(299));var n=!1,r="",i=gL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=CI(e,1,!1,null,null,n,!1,r,i),e[Xi]=t.current,Of(e.nodeType===8?e.parentNode:e),new NI(t)};lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=FO(t),e=e===null?null:e.stateNode,e};lr.flushSync=function(e){return va(e)};lr.hydrate=function(e,t,n){if(!Mg(t))throw Error(V(200));return Fg(null,e,t,!0,n)};lr.hydrateRoot=function(e,t,n){if(!AI(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=gL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=vL(t,null,e,1,n??null,i,!1,s,a),e[Xi]=t.current,Of(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Lg(t)};lr.render=function(e,t,n){if(!Mg(t))throw Error(V(200));return Fg(null,e,t,!1,n)};lr.unmountComponentAtNode=function(e){if(!Mg(e))throw Error(V(40));return e._reactRootContainer?(va(function(){Fg(null,null,e,!1,function(){e._reactRootContainer=null,e[Xi]=null})}),!0):!1};lr.unstable_batchedUpdates=TI;lr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mg(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Fg(e,t,n,!1,r)};lr.version="18.2.0-next-9e3b772b8-20220608";function mL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mL)}catch(e){console.error(e)}}mL(),vO.exports=lr;var n6=vO.exports,eR=n6;xw.createRoot=eR.createRoot,xw.hydrateRoot=eR.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(this,arguments)}var Lo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lo||(Lo={}));const tR="popstate";function r6(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return bE("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yL(i)}return o6(t,n,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i6(){return Math.random().toString(36).substr(2,8)}function nR(e,t){return{usr:e.state,key:e.key,idx:t}}function bE(e,t,n,r){return n===void 0&&(n=null),$f({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pl(t):t,{state:n,key:t&&t.key||r||i6()})}function yL(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function o6(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Lo.Pop,c=null,h=p();h==null&&(h=0,a.replaceState($f({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function v(){l=Lo.Pop;let b=p(),I=b==null?null:b-h;h=b,c&&c({action:l,location:T.location,delta:I})}function m(b,I){l=Lo.Push;let S=bE(T.location,b,I);n&&n(S,b),h=p()+1;let C=nR(S,h),P=T.createHref(S);try{a.pushState(C,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(P)}s&&c&&c({action:l,location:T.location,delta:1})}function y(b,I){l=Lo.Replace;let S=bE(T.location,b,I);n&&n(S,b),h=p();let C=nR(S,h),P=T.createHref(S);a.replaceState(C,"",P),s&&c&&c({action:l,location:T.location,delta:0})}function w(b){let I=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof b=="string"?b:yL(b);return Ct(I,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,I)}let T={get action(){return l},get location(){return e(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(tR,v),c=b,()=>{i.removeEventListener(tR,v),c=null}},createHref(b){return t(i,b)},createURL:w,encodeLocation(b){let I=w(b);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:y,go(b){return a.go(b)}};return T}var rR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rR||(rR={}));function s6(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Pl(t):t,i=EL(r.pathname||"/",n);if(i==null)return null;let s=_L(e);a6(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=g6(s[l],_6(i));return a}function _L(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=ia([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),_L(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:p6(h,s.index),routesMeta:p})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of wL(s.path))i(s,a,c)}),t}function wL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=wL(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function a6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:v6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const u6=/^:\w+$/,l6=3,c6=2,f6=1,h6=10,d6=-2,iR=e=>e==="*";function p6(e,t){let n=e.split("/"),r=n.length;return n.some(iR)&&(r+=d6),t&&(r+=c6),n.filter(i=>!iR(i)).reduce((i,s)=>i+(u6.test(s)?l6:s===""?f6:h6),r)}function v6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function g6(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=m6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!p)return null;Object.assign(r,p.params);let v=l.route;s.push({params:r,pathname:ia([i,p.pathname]),pathnameBase:b6(ia([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=ia([i,p.pathnameBase]))}return s}function m6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=y6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,v)=>{if(p==="*"){let m=l[v]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[p]=w6(l[v]||"",p),h},{}),pathname:s,pathnameBase:a,pattern:e}}function y6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),RI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _6(e){try{return decodeURI(e)}catch(t){return RI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function w6(e,t){try{return decodeURIComponent(e)}catch(n){return RI(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function EL(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function E6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Pl(e):e;return{pathname:n?n.startsWith("/")?n:T6(n,t):t,search:C6(r),hash:k6(i)}}function T6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Q_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function S6(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Pl(e):(i=$f({},e),Ct(!i.pathname||!i.pathname.includes("?"),Q_("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Q_("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Q_("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(r||a==null)l=n;else{let v=t.length-1;if(a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),v-=1;i.pathname=m.join("/")}l=v>=0?t[v]:"/"}let c=E6(i,l),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const ia=e=>e.join("/").replace(/\/\/+/g,"/"),b6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,k6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function N6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const TL=["post","put","patch","delete"];new Set(TL);const A6=["get",...TL];new Set(A6);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(this,arguments)}const PI=Y.createContext(null),R6=Y.createContext(null),Ug=Y.createContext(null),jg=Y.createContext(null),xl=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),IL=Y.createContext(null);function Vg(){return Y.useContext(jg)!=null}function SL(){return Vg()||Ct(!1),Y.useContext(jg).location}function bL(e){Y.useContext(Ug).static||Y.useLayoutEffect(e)}function xI(){let{isDataRoute:e}=Y.useContext(xl);return e?q6():P6()}function P6(){Vg()||Ct(!1);let e=Y.useContext(PI),{basename:t,navigator:n}=Y.useContext(Ug),{matches:r}=Y.useContext(xl),{pathname:i}=SL(),s=JSON.stringify(I6(r).map(c=>c.pathnameBase)),a=Y.useRef(!1);return bL(()=>{a.current=!0}),Y.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let p=S6(c,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ia([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}function x6(e,t){return O6(e,t)}function O6(e,t,n){Vg()||Ct(!1);let{navigator:r}=Y.useContext(Ug),{matches:i}=Y.useContext(xl),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=SL(),h;if(t){var p;let T=typeof t=="string"?Pl(t):t;l==="/"||(p=T.pathname)!=null&&p.startsWith(l)||Ct(!1),h=T}else h=c;let v=h.pathname||"/",m=l==="/"?v:v.slice(l.length)||"/",y=s6(e,{pathname:m}),w=U6(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ia([l,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:ia([l,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n);return t&&w?Y.createElement(jg.Provider,{value:{location:Rv({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Lo.Pop}},w):w}function D6(){let e=$6(),t=N6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:i},n):null,s)}const L6=Y.createElement(D6,null);class M6 extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?Y.createElement(xl.Provider,{value:this.props.routeContext},Y.createElement(IL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F6(e){let{routeContext:t,match:n,children:r}=e,i=Y.useContext(PI);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(xl.Provider,{value:t},r)}function U6(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));l>=0||Ct(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let p=c.route.id?a==null?void 0:a[c.route.id]:null,v=null;n&&(v=c.route.errorElement||L6);let m=t.concat(s.slice(0,h+1)),y=()=>{let w;return p?w=v:c.route.Component?w=Y.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,Y.createElement(F6,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?Y.createElement(M6,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var CE;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(CE||(CE={}));var qf;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(qf||(qf={}));function j6(e){let t=Y.useContext(PI);return t||Ct(!1),t}function V6(e){let t=Y.useContext(R6);return t||Ct(!1),t}function B6(e){let t=Y.useContext(xl);return t||Ct(!1),t}function CL(e){let t=B6(),n=t.matches[t.matches.length-1];return n.route.id||Ct(!1),n.route.id}function $6(){var e;let t=Y.useContext(IL),n=V6(qf.UseRouteError),r=CL(qf.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function q6(){let{router:e}=j6(CE.UseNavigateStable),t=CL(qf.UseNavigateStable),n=Y.useRef(!1);return bL(()=>{n.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Rv({fromRouteId:t},s)))},[e,t])}function Eu(e){Ct(!1)}function z6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Lo.Pop,navigator:s,static:a=!1}=e;Vg()&&Ct(!1);let l=t.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=Pl(r));let{pathname:h="/",search:p="",hash:v="",state:m=null,key:y="default"}=r,w=Y.useMemo(()=>{let T=EL(h,l);return T==null?null:{location:{pathname:T,search:p,hash:v,state:m,key:y},navigationType:i}},[l,h,p,v,m,y,i]);return w==null?null:Y.createElement(Ug.Provider,{value:c},Y.createElement(jg.Provider,{children:n,value:w}))}function W6(e){let{children:t,location:n}=e;return x6(kE(t),n)}var oR;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(oR||(oR={}));new Promise(()=>{});function kE(e,t){t===void 0&&(t=[]);let n=[];return Y.Children.forEach(e,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...t,i];if(r.type===Y.Fragment){n.push.apply(n,kE(r.props.children,s));return}r.type!==Eu&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=kE(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const H6="startTransition",sR=H$[H6];function K6(e){let{basename:t,children:n,future:r,window:i}=e,s=Y.useRef();s.current==null&&(s.current=r6({window:i,v5Compat:!0}));let a=s.current,[l,c]=Y.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=Y.useCallback(v=>{h&&sR?sR(()=>c(v)):c(v)},[c,h]);return Y.useLayoutEffect(()=>a.listen(p),[a,p]),Y.createElement(z6,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}var aR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(aR||(aR={}));var uR;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uR||(uR={}));const Sh=()=>(UT.useState(!1),K(_h,{children:K("nav",{children:lt("div",{className:"main-nav",children:[K("div",{className:"logo",children:K("h1",{children:"Code Compass"})}),K("div",{className:"menu",children:lt("ul",{children:[K("li",{children:K("a",{href:"/",children:"Home"})}),K("li",{children:K("a",{href:"/aboutUs",children:"About Us"})}),K("li",{children:K("a",{href:"/login",children:"Login"})}),K("li",{children:K("a",{href:"/signup",children:"SignUp"})})]})})]})})})),G6=()=>{const e=xI();return lt(_h,{children:[K(Sh,{}),K("h1",{children:"Home"}),K("button",{onClick:()=>e("/login"),children:"Go to Login"}),K("button",{onClick:()=>e("/signup"),children:"Go to Signup"})]})};var NE=function(e,t){return NE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},NE(e,t)};function H(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");NE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var re=function(){return re=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},re.apply(this,arguments)};function A(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(v){a(v)}}function c(p){try{h(r.throw(p))}catch(v){a(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ut(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function pe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kL={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(e,t){if(!e)throw Ol(t)},Ol=function(e){return new Error("Firebase Database ("+kL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NL=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Q6=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,v=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(NL(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Q6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,v=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},AL=function(e){var t=NL(e);return Bg.encodeByteArray(t,!0)},lR=function(e){return AL(e).replace(/\./g,"")},cR=function(e){try{return Bg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(e){return zf(void 0,e)}function zf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!Y6(r)||(e[r]=zf(e[r],t[r]));return e}function Y6(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=re({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[lR(JSON.stringify(n)),lR(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ga())}function PL(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X6(){return typeof self=="object"&&self.self===self}function LI(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J6(){return ga().indexOf("Electron/")>=0}function Z6(){var e=ga();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function eW(){return ga().indexOf("MSAppHost/")>=0}function OL(){return kL.NODE_ADMIN===!0}function tW(){return!PL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bh(){return"indexedDB"in self&&indexedDB!=null}function MI(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function DL(){return!(!navigator||!navigator.cookieEnabled)}function nW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rW="FirebaseError",Dl=function(e){H(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=rW,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,oo.prototype.create),s}return t}(Error),oo=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?iW(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Dl(s,c,i);return h},e}();function iW(e,t){return e.replace(oW,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var oW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(e){return JSON.parse(e)}function It(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FI=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Wf(cR(s[0])||""),n=Wf(cR(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},sW=function(e){var t=FI(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},aW=function(e){var t=FI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uW=function(e){var t=FI(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ma(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function AE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cW=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),m=1518500249):(v=l^c^h,m=1859775393):i<60?(v=l&c|h&(l|c),m=2400959708):(v=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+v+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function fW(e,t){var n=new hW(e,t);return n.subscribe.bind(n)}var hW=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dW(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Y_),s.error===void 0&&(s.error=Y_),s.complete===void 0&&(s.complete=Y_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function dW(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Y_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function qn(e,t){return e+" failed: "+t+" argument "}function xt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(qn(e,t)+"must be a valid function.")}function fR(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(qn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pW=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,$(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},$g=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vW=1e3,gW=2,mW=4*60*60*1e3,yW=.5;function RE(e,t,n){t===void 0&&(t=vW),n===void 0&&(n=gW);var r=t*Math.pow(n,e),i=Math.round(yW*r*(Math.random()-.5)*2);return Math.min(mW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return e&&e._delegate?e._delegate:e}var dn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Lt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(wW(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}try{for(var i=Ut(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Ht(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Bs),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(pe(pe([],Ht(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Ht(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Bs),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Bs),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Ut(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var p=Ht(h.value,2),v=p[0],m=p[1],y=this.normalizeInstanceIdentifier(v);a===y&&m.resolve(l)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Ut(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_W(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Bs),this.component?this.component.multipleInstances?t:Bs:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function _W(e){return e===Bs?void 0:e}function wW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new LL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function zr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Us,UI=[],ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ye||(ye={}));var FL={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},EW=ye.INFO,TW=(Us={},Us[ye.DEBUG]="log",Us[ye.VERBOSE]="log",Us[ye.INFO]="info",Us[ye.WARN]="warn",Us[ye.ERROR]="error",Us),IW=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=TW[t];if(s)console[s].apply(console,zr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Pa=function(){function e(t){this.name=t,this._logLevel=EW,this._logHandler=IW,this._userLogHandler=null,UI.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ye))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?FL[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,ye.DEBUG],t)),this._logHandler.apply(this,zr([this,ye.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,ye.VERBOSE],t)),this._logHandler.apply(this,zr([this,ye.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,ye.INFO],t)),this._logHandler.apply(this,zr([this,ye.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,ye.WARN],t)),this._logHandler.apply(this,zr([this,ye.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,ye.ERROR],t)),this._logHandler.apply(this,zr([this,ye.ERROR],t))},e}();function SW(e){UI.forEach(function(t){t.setLogLevel(e)})}function bW(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=FL[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:ye[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=UI;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo,CW=(wo={},wo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",wo["bad-app-name"]="Illegal App name: '{$appName}",wo["duplicate-app"]="Firebase App named '{$appName}' already exists",wo["app-deleted"]="Firebase App named '{$appName}' already deleted",wo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",wo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",wo),Tu=new oo("app","Firebase",CW),UL="@firebase/app",kW="0.6.30",NW="@firebase/analytics",AW="@firebase/app-check",RW="@firebase/auth",PW="@firebase/database",xW="@firebase/functions",OW="@firebase/installations",DW="@firebase/messaging",LW="@firebase/performance",MW="@firebase/remote-config",FW="@firebase/storage",UW="@firebase/firestore",jW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,xv="[DEFAULT]",VW=(rn={},rn[UL]="fire-core",rn[NW]="fire-analytics",rn[AW]="fire-app-check",rn[RW]="fire-auth",rn[PW]="fire-rtdb",rn[xW]="fire-fn",rn[OW]="fire-iid",rn[DW]="fire-fcm",rn[LW]="fire-perf",rn[MW]="fire-rc",rn[FW]="fire-gcs",rn[UW]="fire-fst",rn["fire-js"]="fire-js",rn[jW]="fire-js-all",rn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl=new Pa("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xp=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=RL(t),this.container=new ML(n.name),this._addComponent(new dn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=xv),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=xv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){rl.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Tu.create("app-deleted",{appName:this.name_})},e}();Xp.prototype.name&&Xp.prototype.options||Xp.prototype.delete||console.log("dc");var BW="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:SW,onLog:p,apps:null,SDK_VERSION:BW,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||xv,!sr(t,m))throw Tu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var T=y;T.name===void 0&&(T.name=xv);var b=T.name;if(typeof b!="string"||!b)throw Tu.create("bad-app-name",{appName:String(b)});if(sr(t,b))throw Tu.create("duplicate-app",{appName:b});var I=new e(m,T,r);return t[b]=I,I}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return rl.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var w=function(S){if(S===void 0&&(S=s()),typeof S[y]!="function")throw Tu.create("invalid-app-argument",{appName:y});return S[y]()};m.serviceProps!==void 0&&zf(w,m.serviceProps),r[y]=w,e.prototype[y]=function(){for(var S=[],C=0;C<arguments.length;C++)S[C]=arguments[C];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?S:[])}}for(var T=0,b=Object.keys(t);T<b.length;T++){var I=b[T];t[I]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,w){var T,b=(T=VW[m])!==null&&T!==void 0?T:m;w&&(b+="-"+w);var I=b.match(/\s|\//),S=y.match(/\s|\//);if(I||S){var C=['Unable to register library "'+b+'" with version "'+y+'":'];I&&C.push('library name "'+b+'" contains illegal characters (whitespace or "/")'),I&&S&&C.push("and"),S&&C.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),rl.warn(C.join(" "));return}c(new dn(b+"-version",function(){return{library:b,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw Tu.create("invalid-log-argument");bW(m,y)}function v(m,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){var e=$W(Xp);e.INTERNAL=re(re({},e.INTERNAL),{createFirebaseNamespace:jL,extendNamespace:t,createSubscribe:fW,ErrorFactory:oo,deepExtend:zf});function t(n){zf(e,n)}return e}var jI=jL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qW=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(zW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function zW(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(e,t){e.INTERNAL.registerComponent(new dn("platform-logger",function(n){return new qW(n)},"PRIVATE")),e.registerVersion(UL,kW,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(X6()&&self.firebase!==void 0){rl.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var hR=self.firebase.SDK_VERSION;hR&&hR.indexOf("LITE")>=0&&rl.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var HW=jI.initializeApp;jI.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return PL()&&rl.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),HW.apply(void 0,e)};var ee=jI;WW(ee);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var g=o[d];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{E(k.resolve,k.reject)}catch(L){k.reject(L)}}function f(){this.a=null}function d(E){return E instanceof u?E:new u(function(k){k(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(E)};var g=r.setTimeout;f.prototype.c=function(E){g(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var k=0;k<E.length;++k){var L=E[k];E[k]=null;try{L()}catch(F){this.f(F)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(F){return function(se){L||(L=!0,F.call(k,se))}}var k=this,L=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var k=E!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(E):this.h(E)}},u.prototype.v=function(E){var k=void 0;try{k=E.then}catch(L){this.g(L);return}typeof k=="function"?this.u(k,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,k){if(this.b!=0)throw Error("Cannot settle("+E+", "+k+"): Promise already settled in state"+this.b);this.b=E,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)_.b(this.a[E]);this.a=null}};var _=new f;return u.prototype.s=function(E){var k=this.f();E.Ra(k.resolve,k.reject)},u.prototype.u=function(E,k){var L=this.f();try{E.call(k,L.resolve,L.reject)}catch(F){L.reject(F)}},u.prototype.then=function(E,k){function L(Ce,At){return typeof Ce=="function"?function(Mi){try{F(Ce(Mi))}catch(T_){se(T_)}}:At}var F,se,Pe=new u(function(Ce,At){F=Ce,se=At});return this.Ra(L(E,F),L(k,se)),Pe},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,k){function L(){switch(F.b){case 1:E(F.c);break;case 2:k(F.c);break;default:throw Error("Unexpected state: "+F.b)}}var F=this;this.a==null?_.b(L):this.a.push(L)},u.resolve=d,u.reject=function(E){return new u(function(k,L){L(E)})},u.race=function(E){return new u(function(k,L){for(var F=a(E),se=F.next();!se.done;se=F.next())d(se.value).Ra(k,L)})},u.all=function(E){var k=a(E),L=k.next();return L.done?d([]):new u(function(F,se){function Pe(Mi){return function(T_){Ce[Mi]=T_,At--,At==0&&F(Ce)}}var Ce=[],At=0;do Ce.push(void 0),At++,d(L.value).Ra(Pe(Ce.length-1),se),L=k.next();while(!L.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function T(o){return y(o)=="function"}function b(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function I(o){return Object.prototype.hasOwnProperty.call(o,S)&&o[S]||(o[S]=++C)}var S="closure_uid_"+(1e9*Math.random()>>>0),C=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function D(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function x(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x=P:x=D,x.apply(null,arguments)}function B(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function M(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function ce(o){return o}function R(o,u,f){this.code=Pr+o,this.message=u||ds[o]||"",this.a=f||null}M(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function Vt(o){var u=o&&o.code;return u?new R(u.substring(Pr.length),o.message,o.serverResponse):null}var Pr="auth/",ds={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},za={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ps(o){for(var u in za)if(za[u].id===o)return o=za[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ri;Ri=ps("__EID__")?"__EID__":void 0;function Wa(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function z(o){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}M(z,Error),z.prototype.name="CustomError";function ae(o,u){o=o.split("%s");for(var f="",d=o.length-1,g=0;g<d;g++)f+=o[g]+(g<u.length?u[g]:"%s");z.call(this,f+o[d])}M(ae,z),ae.prototype.name="AssertionError";function ue(o,u){throw new ae("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Ve(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Ve.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function ot(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function vs(){this.b=this.a=null}var ri=new Ve(function(){return new xr},function(o){o.reset()});vs.prototype.add=function(o,u){var f=ri.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function Xl(){var o=P1,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function xr(){this.next=this.b=this.a=null}xr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},xr.prototype.reset=function(){this.next=this.b=this.a=null};var gs=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Qe=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in g&&u.call(f,g[_],_,o)};function C3(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var k3=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],g=0,_=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in _){var k=_[E];u.call(void 0,k,E,o)&&(d[g++]=k)}return d},rd=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(d[_]=u.call(void 0,g[_],_,o));return d},N3=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o))return!0;return!1};function A3(o){e:{for(var u=uV,f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Pi(o,u){return 0<=gs(o,u)}function id(o,u){u=gs(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Or(o,u){var f=0;C3(o,function(d,g){u.call(void 0,d,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function Km(o){return Array.prototype.concat.apply([],arguments)}function ms(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var s1=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},R3=/&/g,P3=/</g,x3=/>/g,O3=/"/g,D3=/'/g,L3=/\x00/g,M3=/[\x00&<>"']/;function Fe(o,u){return o.indexOf(u)!=-1}function Gm(o,u){return o<u?-1:o>u?1:0}var Ha;e:{var a1=c.navigator;if(a1){var u1=a1.userAgent;if(u1){Ha=u1;break e}}Ha=""}function _t(o){return Fe(Ha,o)}function l1(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function ys(o){for(var u in o)return!1;return!0}function lo(o){var u={},f;for(f in o)u[f]=o[f];return u}var c1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xn(o,u){for(var f,d,g=1;g<arguments.length;g++){d=arguments[g];for(f in d)o[f]=d[f];for(var _=0;_<c1.length;_++)f=c1[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function f1(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(b(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;ue("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function ii(o,u){this.a=o===od&&u||"",this.b=h1}ii.prototype.ta=!0,ii.prototype.sa=function(){return this.a},ii.prototype.toString=function(){return"Const{"+this.a+"}"};function Qm(o){return o instanceof ii&&o.constructor===ii&&o.b===h1?o.a:(ue("expected object of type Const, got '"+o+"'"),"type_error:Const")}var h1={},od={},sd;function d1(){if(sd===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:ce,createScript:ce,createScriptURL:ce})}catch(f){c.console&&c.console.error(f.message)}sd=o}else sd=o}return sd}function Ka(o,u){this.a=u===v1?o:""}Ka.prototype.ta=!0,Ka.prototype.sa=function(){return this.a.toString()},Ka.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function p1(o){return o instanceof Ka&&o.constructor===Ka?o.a:(ue("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Ym(o,u){var f=Qm(o);if(!U3.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(F3,function(d,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[g],d instanceof ii?Qm(d):encodeURIComponent(String(d))}),j3(o)}var F3=/%{(\w+)}/g,U3=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,v1={};function j3(o){var u=d1();return o=u?u.createScriptURL(o):o,new Ka(o,v1)}function On(o,u){this.a=u===Jl?o:""}On.prototype.ta=!0,On.prototype.sa=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ad(o){return o instanceof On&&o.constructor===On?o.a:(ue("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var V3=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,B3=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,g1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function m1(o){if(o instanceof On)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),g1.test(o))o=new On(o,Jl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(B3);o=u&&V3.test(u[1])?new On(o,Jl):null}return o}function y1(o){return o instanceof On?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),g1.test(o)||(o="about:invalid#zClosurez"),new On(o,Jl))}var Jl={},_1=new On("about:invalid#zClosurez",Jl);function Ga(o,u,f){this.a=f===w1?o:""}Ga.prototype.ta=!0,Ga.prototype.sa=function(){return this.a.toString()},Ga.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function $3(o){return o instanceof Ga&&o.constructor===Ga?o.a:(ue("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var w1={};function q3(o,u){f1(o,"HTMLScriptElement"),o.src=p1(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(p===null&&(p=v(c.document)),u=p),u&&o.setAttribute("nonce",u)}function E1(o,u,f,d){return o=o instanceof On?o:y1(o),u=u||c,f=f instanceof ii?Qm(f):f||"",u.open(ad(o),f,d,void 0)}function T1(o,u){for(var f=o.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)d+=f.shift()+g.shift();return d+f.join("%s")}function Xm(o){return M3.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(R3,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(P3,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(x3,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(O3,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(D3,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(L3,"&#0;"))),o}function Jm(o){return Jm[" "](o),o}Jm[" "]=m;function z3(o,u){var f=G3;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var W3=_t("Opera"),Dr=_t("Trident")||_t("MSIE"),I1=_t("Edge"),H3=I1||Dr,S1=_t("Gecko")&&!(Fe(Ha.toLowerCase(),"webkit")&&!_t("Edge"))&&!(_t("Trident")||_t("MSIE"))&&!_t("Edge"),K3=Fe(Ha.toLowerCase(),"webkit")&&!_t("Edge");function b1(){var o=c.document;return o?o.documentMode:void 0}var ud;e:{var Zm="",ey=function(){var o=Ha;if(S1)return/rv:([^\);]+)(\)|;)/.exec(o);if(I1)return/Edge\/([\d\.]+)/.exec(o);if(Dr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(K3)return/WebKit\/(\S+)/.exec(o);if(W3)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(ey&&(Zm=ey?ey[1]:""),Dr){var ty=b1();if(ty!=null&&ty>parseFloat(Zm)){ud=String(ty);break e}}ud=Zm}var G3={};function C1(o){return z3(o,function(){for(var u=0,f=s1(String(ud)).split("."),d=s1(String(o)).split("."),g=Math.max(f.length,d.length),_=0;u==0&&_<g;_++){var E=f[_]||"",k=d[_]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;u=Gm(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||Gm(E[2].length==0,k[2].length==0)||Gm(E[2],k[2]),E=E[3],k=k[3]}while(u==0)}return 0<=u})}var ny;if(c.document&&Dr){var k1=b1();ny=k1||parseInt(ud,10)||void 0}else ny=void 0;var co=ny;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Q3=!Dr||9<=Number(co);function Zl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function N1(o,u){l1(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:A1.hasOwnProperty(d)?o.setAttribute(A1[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var A1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Y3(o,u,f){var d=arguments,g=document,_=String(d[0]),E=d[1];if(!Q3&&E&&(E.name||E.type)){if(_=["<",_],E.name&&_.push(' name="',Xm(E.name),'"'),E.type){_.push(' type="',Xm(E.type),'"');var k={};xn(k,E),delete k.type,E=k}_.push(">"),_=_.join("")}return _=ld(g,_),E&&(typeof E=="string"?_.className=E:Array.isArray(E)?_.className=E.join(" "):N1(_,E)),2<d.length&&X3(g,_,d),_}function X3(o,u,f){function d(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var g=2;g<f.length;g++){var _=f[g];if(!w(_)||b(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(b(_)){var E=typeof _.item=="function"||typeof _.item=="string";break e}if(T(_)){E=typeof _.item=="function";break e}}E=!1}Qe(E?ms(_):_,d)}}}function ld(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function R1(o){c.setTimeout(function(){throw o},0)}var ry;function J3(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!_t("Presto")&&(o=function(){var g=ld(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var E="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=x(function(L){(k=="*"||L.origin==k)&&L.data==E&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(E,k)}}}),typeof o<"u"&&!_t("Trident")&&!_t("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Hb;f.Hb=null,g()}},function(g){d.next={Hb:g},d=d.next,u.port2.postMessage(0)}}return function(g){c.setTimeout(g,0)}}function cd(o,u){fd||Z3(),iy||(fd(),iy=!0),P1.add(o,u)}var fd;function Z3(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);fd=function(){o.then(x1)}}else fd=function(){var u=x1;!T(c.setImmediate)||c.Window&&c.Window.prototype&&!_t("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(ry||(ry=J3()),ry(u)):c.setImmediate(u)}}var iy=!1,P1=new vs;function x1(){for(var o;o=Xl();){try{o.a.call(o.b)}catch(u){R1(u)}ot(ri,o)}iy=!1}function _e(o,u){if(this.a=_s,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){ws(f,ec,d)},function(d){if(!(d instanceof Qa))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}ws(f,xi,d)})}catch(d){ws(this,xi,d)}}var _s=0,ec=2,xi=3;function O1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}O1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var D1=new Ve(function(){return new O1},function(o){o.reset()});function oy(o,u,f){var d=D1.get();return d.g=o,d.b=u,d.f=f,d}function ne(o){if(o instanceof _e)return o;var u=new _e(m);return ws(u,ec,o),u}function ze(o){return new _e(function(u,f){f(o)})}function L1(o,u,f){j1(o,u,f,null)||cd(B(u,o))}function ej(o){return new _e(function(u,f){var d=o.length,g=[];if(d)for(var _=function(F,se){d--,g[F]=se,d==0&&u(g)},E=function(F){f(F)},k=0,L;k<o.length;k++)L=o[k],L1(L,B(_,k),E);else u(g)})}function M1(o){return new _e(function(u){var f=o.length,d=[];if(f)for(var g=function(k,L,F){f--,d[k]=L?{Qb:!0,value:F}:{Qb:!1,reason:F},f==0&&u(d)},_=0,E;_<o.length;_++)E=o[_],L1(E,B(g,_,!0),B(g,_,!1));else u(d)})}_e.prototype.then=function(o,u,f){return U1(this,T(o)?o:null,T(u)?u:null,f)},_e.prototype.$goog_Thenable=!0,e=_e.prototype,e.oa=function(o,u){return o=oy(o,o,u),o.c=!0,sy(this,o),this},e.o=function(o,u){return U1(this,null,o,u)},e.cancel=function(o){if(this.a==_s){var u=new Qa(o);cd(function(){F1(this,u)},this)}};function F1(o,u){if(o.a==_s)if(o.c){var f=o.c;if(f.b){for(var d=0,g=null,_=null,E=f.b;E&&(E.c||(d++,E.a==o&&(g=E),!(g&&1<d)));E=E.next)g||(_=E);g&&(f.a==_s&&d==1?F1(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):B1(f),$1(f,g,xi,u)))}o.c=null}else ws(o,xi,u)}function sy(o,u){o.b||o.a!=ec&&o.a!=xi||V1(o),o.f?o.f.next=u:o.b=u,o.f=u}function U1(o,u,f,d){var g=oy(null,null,null);return g.a=new _e(function(_,E){g.g=u?function(k){try{var L=u.call(d,k);_(L)}catch(F){E(F)}}:_,g.b=f?function(k){try{var L=f.call(d,k);L===void 0&&k instanceof Qa?E(k):_(L)}catch(F){E(F)}}:E}),g.a.c=o,sy(o,g),g.a}e.$c=function(o){this.a=_s,ws(this,ec,o)},e.ad=function(o){this.a=_s,ws(this,xi,o)};function ws(o,u,f){o.a==_s&&(o===f&&(u=xi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,j1(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,V1(o),u!=xi||f instanceof Qa||nj(o,f)))}function j1(o,u,f,d){if(o instanceof _e)return sy(o,oy(u||m,f||null,d)),!0;if(Wa(o))return o.then(u,f,d),!0;if(b(o))try{var g=o.then;if(T(g))return tj(o,g,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function tj(o,u,f,d,g){function _(L){k||(k=!0,d.call(g,L))}function E(L){k||(k=!0,f.call(g,L))}var k=!1;try{u.call(o,E,_)}catch(L){_(L)}}function V1(o){o.h||(o.h=!0,cd(o.gc,o))}function B1(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=B1(this);)$1(this,o,this.a,this.i);this.h=!1};function $1(o,u,f,d){if(f==xi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,q1(u,f,d);else try{u.c?u.g.call(u.f):q1(u,f,d)}catch(g){z1.call(null,g)}ot(D1,u)}function q1(o,u,f){u==ec?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function nj(o,u){o.g=!0,cd(function(){o.g&&z1.call(null,u)})}var z1=R1;function Qa(o){z.call(this,o)}M(Qa,z),Qa.prototype.name="cancel";function hd(){this.ya=this.ya,this.pa=this.pa}var rj=0;hd.prototype.ya=!1;function W1(o){!o.ya&&(o.ya=!0,o.Da(),rj!=0)&&I(o)}hd.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ij=Object.freeze||function(o){return o},H1=!Dr||9<=Number(co),oj=Dr&&!C1("9"),sj=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Dn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Dn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Es(o,u){if(Dn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(S1){e:{try{Jm(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:aj[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}M(Es,Dn);var aj=ij({2:"touch",3:"pen",4:"mouse"});Es.prototype.preventDefault=function(){Es.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,oj)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Es.prototype.g=function(){return this.a};var tc="closure_listenable_"+(1e6*Math.random()|0),uj=0;function lj(o,u,f,d,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=g,this.key=++uj,this.wa=this.Qa=!1}function dd(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function pd(o){this.src=o,this.a={},this.b=0}pd.prototype.add=function(o,u,f,d,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var E=uy(o,u,d,g);return-1<E?(u=o[E],f||(u.Qa=!1)):(u=new lj(u,this.src,_,!!d,g),u.Qa=f,o.push(u)),u};function ay(o,u){var f=u.type;f in o.a&&id(o.a[f],u)&&(dd(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function uy(o,u,f,d){for(var g=0;g<o.length;++g){var _=o[g];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==d)return g}return-1}var ly="closure_lm_"+(1e6*Math.random()|0),cy={};function fr(o,u,f,d,g){if(d&&d.once)fy(o,u,f,d,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)fr(o,u[_],f,d,g);else f=dy(f),o&&o[tc]?J1(o,u,f,b(d)?!!d.capture:!!d,g):K1(o,u,f,!1,d,g)}function K1(o,u,f,d,g,_){if(!u)throw Error("Invalid event type");var E=b(g)?!!g.capture:!!g,k=vd(o);if(k||(o[ly]=k=new pd(o)),f=k.add(u,f,d,E,_),!f.proxy)if(d=cj(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)sj||(g=E),g===void 0&&(g=!1),o.addEventListener(u.toString(),d,g);else if(o.attachEvent)o.attachEvent(Q1(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function cj(){var o=fj,u=H1?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function fy(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)fy(o,u[_],f,d,g);else f=dy(f),o&&o[tc]?py(o,u,f,b(d)?!!d.capture:!!d,g):K1(o,u,f,!0,d,g)}function Kn(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Kn(o,u[_],f,d,g);else d=b(d)?!!d.capture:!!d,f=dy(f),o&&o[tc]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=uy(_,f,d,g),-1<f&&(dd(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=vd(o))&&(u=o.a[u.toString()],o=-1,u&&(o=uy(u,f,d,g)),(f=-1<o?u[o]:null)&&G1(f))}function G1(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[tc])ay(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(Q1(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=vd(u))?(ay(f,o),f.b==0&&(f.src=null,u[ly]=null)):dd(o)}}}function Q1(o){return o in cy?cy[o]:cy[o]="on"+o}function Y1(o,u,f,d){var g=!0;if((o=vd(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=X1(_,d),g=g&&_!==!1)}return g}function X1(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&G1(o),f.call(d,u)}function fj(o,u){if(o.wa)return!0;if(!H1){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new Es(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=u.b;g;g=g.parentNode)d.push(g);for(o=o.type,g=d.length-1;0<=g;g--){u.b=d[g];var _=Y1(d[g],o,!0,u);f=f&&_}for(g=0;g<d.length;g++)u.b=d[g],_=Y1(d[g],o,!1,u),f=f&&_}return f}return X1(o,new Es(u,this))}function vd(o){return o=o[ly],o instanceof pd?o:null}var hy="__closure_events_fn_"+(1e9*Math.random()>>>0);function dy(o){return T(o)?o:(o[hy]||(o[hy]=function(u){return o.handleEvent(u)}),o[hy])}function gn(){hd.call(this),this.v=new pd(this),this.bc=this,this.hb=null}M(gn,hd),gn.prototype[tc]=!0,gn.prototype.addEventListener=function(o,u,f,d){fr(this,o,u,f,d)},gn.prototype.removeEventListener=function(o,u,f,d){Kn(this,o,u,f,d)},gn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Dn(o,f);else if(o instanceof Dn)o.target=o.target||f;else{var g=o;o=new Dn(d,f),xn(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var E=o.b=u[_];g=gd(E,d,!0,o)&&g}if(E=o.b=f,g=gd(E,d,!0,o)&&g,g=gd(E,d,!1,o)&&g,u)for(_=0;_<u.length;_++)E=o.b=u[_],g=gd(E,d,!1,o)&&g;return g},gn.prototype.Da=function(){if(gn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)dd(f[d]);delete o.a[u],o.b--}}this.hb=null};function J1(o,u,f,d,g){o.v.add(String(u),f,!1,d,g)}function py(o,u,f,d,g){o.v.add(String(u),f,!0,d,g)}function gd(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var E=u[_];if(E&&!E.wa&&E.capture==f){var k=E.listener,L=E.Wa||E.src;E.Qa&&ay(o.v,E),g=k.call(L,d)!==!1&&g}}return g&&!d.defaultPrevented}function vy(o,u,f){if(T(o))f&&(o=x(o,f));else if(o&&typeof o.handleEvent=="function")o=x(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Ya(o){var u=null;return new _e(function(f,d){u=vy(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function Z1(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function eC(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function hj(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Qe(o,u,void 0);else for(var f=eC(o),d=Z1(o),g=d.length,_=0;_<g;_++)u.call(void 0,d[_],f&&f[_],o)}function Xa(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof Xa)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=Xa.prototype,e.X=function(){gy(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return gy(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function gy(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];Ts(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)d=o.a[u],Ts(g,d)||(o.a[f++]=d,g[d]=1),u++;o.a.length=f}}e.get=function(o,u){return Ts(this.b,o)?this.b[o]:u},e.set=function(o,u){Ts(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var g=f[d],_=this.get(g);o.call(u,_,g,this)}};function Ts(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var tC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dj(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),g=null;if(0<=d){var _=o[f].substring(0,d);g=o[f].substring(d+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function fo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof fo?(this.i=u!==void 0?u:o.i,nc(this,o.c),this.l=o.l,this.a=o.a,rc(this,o.g),this.f=o.f,my(this,oC(o.b)),this.h=o.h):o&&(f=String(o).match(tC))?(this.i=!!u,nc(this,f[1]||"",!0),this.l=ic(f[2]||""),this.a=ic(f[3]||"",!0),rc(this,f[4]),this.f=ic(f[5]||"",!0),my(this,f[6]||"",!0),this.h=ic(f[7]||"")):(this.i=!!u,this.b=new Is(null,this.i))}fo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(oc(u,nC,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(oc(u,nC,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(oc(f,f.charAt(0)=="/"?gj:vj,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",oc(f,yj)),o.join("")},fo.prototype.resolve=function(o){var u=new fo(this),f=!!o.c;f?nc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)rc(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=u.f.lastIndexOf("/");g!=-1&&(d=u.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(Fe(g,"./")||Fe(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],E=0;E<g.length;){var k=g[E++];k=="."?d&&E==g.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&E==g.length&&_.push("")):(_.push(k),d=!0)}d=_.join("/")}else d=g}return f?u.f=d:f=o.b.toString()!=="",f?my(u,oC(o.b)):f=!!o.h,f&&(u.h=o.h),u};function nc(o,u,f){o.c=f?ic(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function rc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function my(o,u,f){u instanceof Is?(o.b=u,_j(o.b,o.i)):(f||(u=oc(u,mj)),o.b=new Is(u,o.i))}function st(o,u,f){o.b.set(u,f)}function hr(o,u){return o.b.get(u)}function Ln(o){return o instanceof fo?new fo(o):new fo(o,void 0)}function md(o,u,f,d){var g=new fo(null,void 0);return o&&nc(g,o),u&&(g.a=u),f&&rc(g,f),d&&(g.f=d),g}function ic(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function oc(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,pj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function pj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var nC=/[#\/\?@]/g,vj=/[#\?:]/g,gj=/[#\?]/g,mj=/[#\?@]/g,yj=/#/g;function Is(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function ho(o){o.a||(o.a=new Xa,o.b=0,o.c&&dj(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function rC(o){var u=eC(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Is(null,void 0);o=Z1(o);for(var d=0;d<u.length;d++){var g=u[d],_=o[d];Array.isArray(_)?iC(f,g,_):f.add(g,_)}return f}e=Is.prototype,e.add=function(o,u){ho(this),this.c=null,o=Ja(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function oi(o,u){ho(o),u=Ja(o,u),Ts(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Ts(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&gy(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function yy(o,u){return ho(o),u=Ja(o,u),Ts(o.a.b,u)}e.forEach=function(o,u){ho(this),this.a.forEach(function(f,d){Qe(f,function(g){o.call(u,g,d,this)},this)},this)},e.Y=function(){ho(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var g=o[d],_=0;_<g.length;_++)f.push(u[d]);return f},e.X=function(o){ho(this);var u=[];if(typeof o=="string")yy(this,o)&&(u=Km(u,this.a.get(Ja(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Km(u,o[f])}return u},e.set=function(o,u){return ho(this),this.c=null,o=Ja(this,o),yy(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function iC(o,u,f){oi(o,u),0<f.length&&(o.c=null,o.a.set(Ja(o,u),ms(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],g=encodeURIComponent(String(d));d=this.X(d);for(var _=0;_<d.length;_++){var E=g;d[_]!==""&&(E+="="+encodeURIComponent(String(d[_]))),o.push(E)}}return this.c=o.join("&")};function oC(o){var u=new Is;return u.c=o.c,o.a&&(u.a=new Xa(o.a),u.b=o.b),u}function Ja(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function _j(o,u){u&&!o.f&&(ho(o),o.c=null,o.a.forEach(function(f,d){var g=d.toLowerCase();d!=g&&(oi(this,d),iC(this,g,f))},o)),o.f=u}function sC(o){var u=[];return _y(new wj,o,u),u.join("")}function wj(){}function _y(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),_y(o,d[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(g),uC(d,f),f.push(":"),_y(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":uC(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var aC={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Ej=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function uC(o,u){u.push('"',o.replace(Ej,function(f){var d=aC[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),aC[f]=d),d}),'"')}function wy(){var o=Bt();return Dr&&!!co&&co==11||/Edge\/\d+/.test(o)}function sc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function lC(o,u){u=u||c.window;var f="about:blank";o&&(f=ad(m1(o)||_1)),u.location.href=f}function cC(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<cC(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function Tj(){var o=Bt();return o=Za(o)!=pC?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Dr||!co||9<co}function fC(o){return o=(o||Bt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Ss(o){o=o||c.window;try{o.close()}catch{}}function hC(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=Bt().toLowerCase(),d&&(u.target=d,Fe(f,"crios/")&&(u.target="_blank")),Za(Bt())==Iy&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof On?f:m1(typeof f.href<"u"?f.href:String(f))||_1,f=o.target||f.target,g=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(o[E]?1:0))}var E=g.join(",");if((_t("iPhone")&&!_t("iPod")&&!_t("iPad")||_t("iPad")||_t("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(E=ld(document,"A"),f1(E,"HTMLAnchorElement"),u=u instanceof On?u:y1(u),E.href=ad(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=E1("",d,f,E),o=ad(u),E&&(H3&&Fe(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Xm(o)+'">',o=(d=d1())?d.createHTML(o):o,o=new Ga(o,null,w1),d=E.document)&&(d.write($3(o)),d.close())):(E=E1(u,d,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function Ij(o){return new _e(function(u){function f(){Ya(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var Sj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bj=/^[^@]+@[^@]+$/;function yd(){var o=null;return new _e(function(u){c.document.readyState=="complete"?u():(o=function(){u()},fy(window,"load",o))}).o(function(u){throw Kn(window,"load",o),u})}function Cj(){return Ey(void 0)?yd().then(function(){return new _e(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):ze(Error("Cordova must run in an Android or iOS file scheme."))}function Ey(o){return o=o||Bt(),!(tu()!=="file:"&&tu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ty(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Lr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function si(){return ee.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ee.INTERNAL.hasOwnProperty("node")?"Node":Lr()?"Worker":"Browser"}function dC(){var o=si();return o==="ReactNative"||o==="Node"}function kj(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Iy="Firefox",pC="Chrome";function Za(o){var u=o.toLowerCase();if(Fe(u,"opera/")||Fe(u,"opr/")||Fe(u,"opios/"))return"Opera";if(Fe(u,"iemobile"))return"IEMobile";if(Fe(u,"msie")||Fe(u,"trident/"))return"IE";if(Fe(u,"edge/"))return"Edge";if(Fe(u,"firefox/"))return Iy;if(Fe(u,"silk/"))return"Silk";if(Fe(u,"blackberry"))return"Blackberry";if(Fe(u,"webos"))return"Webos";if(!Fe(u,"safari/")||Fe(u,"chrome/")||Fe(u,"crios/")||Fe(u,"android"))if(!Fe(u,"chrome/")&&!Fe(u,"crios/")||Fe(u,"edge/")){if(Fe(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return pC;else return"Safari";return"Other"}var vC={md:"FirebaseCore-web",od:"FirebaseUI-web"};function eu(o,u){u=u||[];var f=[],d={},g;for(g in vC)d[vC[g]]=!0;for(g=0;g<u.length;g++)typeof d[u[g]]<"u"&&(delete d[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=si(),f==="Browser"?(d=Bt(),f=Za(d)):f==="Worker"&&(d=Bt(),f=Za(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function Bt(){return c.navigator&&c.navigator.userAgent||""}function We(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Sy(){try{var o=c.localStorage,u=Cs();if(o)return o.setItem(u,"1"),o.removeItem(u),wy()?!!c.indexedDB:!0}catch{return Lr()&&!!c.indexedDB}return!1}function bs(){return(_d()||tu()==="chrome-extension:"||Ey())&&!dC()&&Sy()&&!Lr()}function _d(){return tu()==="http:"||tu()==="https:"}function tu(){return c.location&&c.location.protocol||null}function ac(o){return o=o||Bt(),!(fC(o)||Za(o)==Iy)}function uc(o){return typeof o>"u"?null:sC(o)}function gC(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function nu(o){if(o!==null)return JSON.parse(o)}function Cs(o){return o||Math.floor(1e9*Math.random()).toString()}function mC(o){return o=o||Bt(),!(Za(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function yC(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function po(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Bt(),u=si(),this.b=fC(o)||u==="ReactNative"}po.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(_d()||tu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function by(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function Nj(){var o=c.document,u=null;return by()||!o?ne():new _e(function(f){u=function(){by()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function lc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function _C(){return!(!We("fireauth.oauthhelper",c)&&!We("fireauth.iframe",c))}function Aj(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function Rj(){var o=c.navigator;return o&&o.serviceWorker?ne().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ne(null)}var wC={};function Cy(o){wC[o]||(wC[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var ky;try{var Ny={};Object.defineProperty(Ny,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ny,"abcd",{configurable:!0,enumerable:!0,value:2}),ky=Ny.abcd==2}catch{ky=!1}function J(o,u,f){ky?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function mn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&J(o,f,u[f])}function ai(o){var u={};return mn(u,o),u}function Pj(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function xj(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function Ay(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)J(u,f,Ay(o[f]))}return u}function Ry(o){var u=o&&(o[Dy]?"phone":null);if(u&&o&&o[Oy]){J(this,"uid",o[Oy]),J(this,"displayName",o[EC]||null);var f=null;o[xy]&&(f=new Date(o[xy]).toUTCString()),J(this,"enrollmentTime",f),J(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}Ry.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Py(o){try{var u=new cc(o)}catch{u=null}return u}var EC="displayName",xy="enrolledAt",Oy="mfaEnrollmentId",Dy="phoneInfo";function cc(o){Ry.call(this,o),J(this,"phoneNumber",o[Dy])}M(cc,Ry),cc.prototype.w=function(){var o=cc.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function Oj(o){var u={},f=o[Dj],d=o[Mj],g=o[Fj];if(o=Py(o[Lj]),!g||g!=wd&&g!=fc&&!f||g==fc&&!d||g==Ly&&!o)throw Error("Invalid checkActionCode response!");g==fc?(u[IC]=f||null,u[SC]=f||null,u[TC]=d):(u[IC]=d||null,u[SC]=d||null,u[TC]=f||null),u[Uj]=o||null,J(this,Vj,g),J(this,jj,Ay(u))}var Ly="REVERT_SECOND_FACTOR_ADDITION",wd="EMAIL_SIGNIN",fc="VERIFY_AND_CHANGE_EMAIL",Dj="email",Lj="mfaInfo",Mj="newEmail",Fj="requestType",TC="email",IC="fromEmail",Uj="multiFactorInfo",SC="previousEmail",jj="data",Vj="operation";function My(o){o=Ln(o);var u=hr(o,bC)||null,f=hr(o,CC)||null,d=hr(o,kC)||null;if(d=d&&zj[d]||null,!u||!f||!d)throw new R("argument-error",bC+", "+CC+"and "+kC+" are required in a valid action code URL.");mn(this,{apiKey:u,operation:d,code:f,continueUrl:hr(o,Bj)||null,languageCode:hr(o,$j)||null,tenantId:hr(o,qj)||null})}var bC="apiKey",CC="oobCode",Bj="continueUrl",$j="languageCode",kC="mode",qj="tenantId",zj={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ly,signIn:wd,verifyAndChangeEmail:fc,verifyEmail:"VERIFY_EMAIL"};function NC(o){try{return new My(o)}catch{return null}}function Ed(o){var u=o[Wj];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[AC];if(f&&typeof f=="object"){u=f[DC];var d=f[xC];if(f=f[OC],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new R("argument-error",xC+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",OC+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",DC+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",AC+" property must be a non null object when specified.");if(this.f=null,(u=o[PC])&&typeof u=="object"){if(u=u[LC],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",LC+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",PC+" property must be a non null object when specified.");if(u=o[Fy],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",Fy+" property must be a boolean when specified.");if(this.c=!!u,o=o[RC],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",RC+" property must be a non empty string when specified.");this.i=o||null}var AC="android",RC="dynamicLinkDomain",Fy="handleCodeInApp",PC="iOS",Wj="url",xC="installApp",OC="minimumVersion",DC="packageName",LC="bundleId";function Td(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function Hj(o){return rd(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var hc=null;function Kj(o){var u=[];return Gj(o,function(f){u.push(f)}),u}function Gj(o,u){function f(L){for(;d<o.length;){var F=o.charAt(d++),se=hc[F];if(se!=null)return se;if(!/^[\s\xa0]*$/.test(F))throw Error("Unknown base64 encoding at char: "+F)}return L}Qj();for(var d=0;;){var g=f(-1),_=f(0),E=f(64),k=f(64);if(k===64&&g===-1)break;u(g<<2|_>>4),E!=64&&(u(_<<4&240|E>>2),k!=64&&u(E<<6&192|k))}}function Qj(){if(!hc){hc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),g=0;g<d.length;g++){var _=d[g];hc[_]===void 0&&(hc[_]=g)}}}function Id(o){var u=MC(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Id.prototype.T=function(){return this.f},Id.prototype.l=function(){return this.c},Id.prototype.toString=function(){return this.h};function Sd(o){try{return new Id(o)}catch{return null}}function MC(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=Kj(o);for(o=[],f=u=0;u<d.length;){var g=d[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=d[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=d[u++];var E=d[u++],k=d[u++],L=((g&7)<<18|(_&63)<<12|(E&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(L>>10)),o[f++]=String.fromCharCode(56320+(L&1023))}else _=d[u++],E=d[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var FC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),bd=["client_id","response_type","scope","redirect_uri","state"],Uy={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:bd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:bd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:bd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:FC},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function jy(o){for(var u in Uy)if(Uy[u].fa==o)return Uy[u];return null}function UC(o){var u={};u["facebook.com"]=VC,u["google.com"]=$C,u["github.com"]=BC,u["twitter.com"]=qC;var f=o&&o[jC];try{if(f)return u[f]?new u[f](o):new ui(o);if(typeof o[Vy]<"u")return new By(o)}catch{}return null}var Vy="idToken",jC="providerId";function By(o){var u=o[jC];if(!u&&o[Vy]){var f=Sd(o[Vy]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),J(this,"providerId",u),J(this,"isNewUser",f)}function ui(o){By.call(this,o),o=nu(o.rawUserInfo||"{}"),J(this,"profile",Ay(o||{}))}M(ui,By);function VC(o){if(ui.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(VC,ui);function BC(o){if(ui.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");J(this,"username",this.profile&&this.profile.login||null)}M(BC,ui);function $C(o){if(ui.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}M($C,ui);function qC(o){if(ui.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");J(this,"username",o.screenName||null)}M(qC,ui);function zC(o){var u=Ln(o),f=hr(u,"link"),d=hr(Ln(f),"link");return u=hr(u,"deep_link_id"),hr(Ln(u),"link")||u||d||f||o}function Cd(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?dc:kd}var dc="enroll",kd="signin";Cd.prototype.Ha=function(){return this.a?ne(this.a):ne(this.b)},Cd.prototype.w=function(){return this.type==dc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ru(){}ru.prototype.ka=function(){},ru.prototype.b=function(){},ru.prototype.c=function(){},ru.prototype.w=function(){};function iu(o,u){return o.then(function(f){if(f[Ur]){var d=Sd(f[Ur]);if(!d||u!=d.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Pr+"user-not-found"?new R("user-mismatch"):f})}function ks(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",o)}ks.prototype.ka=function(o){return f0(o,$y(this))},ks.prototype.b=function(o,u){var f=$y(this);return f.idToken=u,h0(o,f)},ks.prototype.c=function(o,u){return iu(d0(o,$y(this)),u)};function $y(o){return{pendingToken:o.a,requestUri:"http://localhost"}}ks.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Yj(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new ks(o.providerId,o.pendingToken)}catch{}return null}function Oi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&J(this,"idToken",u.idToken),u.accessToken&&J(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&J(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)J(this,"accessToken",u.oauthToken),J(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",f)}Oi.prototype.ka=function(o){return f0(o,qy(this))},Oi.prototype.b=function(o,u){var f=qy(this);return f.idToken=u,h0(o,f)},Oi.prototype.c=function(o,u){var f=qy(this);return iu(d0(o,f),u)};function qy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:rC(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Oi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function Xj(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Oi(o.providerId,u,o.signInMethod)}catch{}}return null}function Ns(o,u){this.Qc=u||[],mn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(jy(o)||{}).Ja||null,this.pb=null}Ns.prototype.Ka=function(o){return this.Jb=lo(o),this};function WC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Ns.call(this,o,[])}M(WC,Ns);function Gn(o){Ns.call(this,o,bd),this.a=[]}M(Gn,Ns),Gn.prototype.Ca=function(o){return Pi(this.a,o)||this.a.push(o),this},Gn.prototype.Rb=function(){return ms(this.a)},Gn.prototype.credential=function(o,u){var f;if(b(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Oi(this.providerId,f,this.providerId)};function As(){Gn.call(this,"facebook.com")}M(As,Gn),J(As,"PROVIDER_ID","facebook.com"),J(As,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function HC(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return b(o)&&(u=o.accessToken),new As().credential({accessToken:u})}function Rs(){Gn.call(this,"github.com")}M(Rs,Gn),J(Rs,"PROVIDER_ID","github.com"),J(Rs,"GITHUB_SIGN_IN_METHOD","github.com");function KC(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return b(o)&&(u=o.accessToken),new Rs().credential({accessToken:u})}function Ps(){Gn.call(this,"google.com"),this.Ca("profile")}M(Ps,Gn),J(Ps,"PROVIDER_ID","google.com"),J(Ps,"GOOGLE_SIGN_IN_METHOD","google.com");function GC(o,u){var f=o;return b(o)&&(f=o.idToken,u=o.accessToken),new Ps().credential({idToken:f,accessToken:u})}function ou(){Ns.call(this,"twitter.com",FC)}M(ou,Ns),J(ou,"PROVIDER_ID","twitter.com"),J(ou,"TWITTER_SIGN_IN_METHOD","twitter.com");function QC(o,u){var f=o;if(b(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Oi("twitter.com",f,"twitter.com")}function vo(o,u,f){this.a=o,this.f=u,J(this,"providerId","password"),J(this,"signInMethod",f===dr.EMAIL_LINK_SIGN_IN_METHOD?dr.EMAIL_LINK_SIGN_IN_METHOD:dr.EMAIL_PASSWORD_SIGN_IN_METHOD)}vo.prototype.ka=function(o){return this.signInMethod==dr.EMAIL_LINK_SIGN_IN_METHOD?we(o,LV,{email:this.a,oobCode:this.f}):we(o,Ik,{email:this.a,password:this.f})},vo.prototype.b=function(o,u){return this.signInMethod==dr.EMAIL_LINK_SIGN_IN_METHOD?we(o,MV,{idToken:u,email:this.a,oobCode:this.f}):we(o,Tk,{idToken:u,email:this.a,password:this.f})},vo.prototype.c=function(o,u){return iu(this.ka(o),u)},vo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Jj(o){return o&&o.email&&o.password?new vo(o.email,o.password,o.signInMethod):null}function dr(){mn(this,{providerId:"password",isOAuthProvider:!1})}function YC(o,u){if(u=zy(u),!u)throw new R("argument-error","Invalid email link!");return new vo(o,u.code,dr.EMAIL_LINK_SIGN_IN_METHOD)}function zy(o){return o=zC(o),(o=NC(o))&&o.operation===wd?o:null}mn(dr,{PROVIDER_ID:"password"}),mn(dr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),mn(dr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function go(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,J(this,"providerId","phone"),this.fa="phone",J(this,"signInMethod","phone")}go.prototype.ka=function(o){return o.gb(pc(this))},go.prototype.b=function(o,u){var f=pc(this);return f.idToken=u,we(o,nB,f)},go.prototype.c=function(o,u){var f=pc(this);return f.operation="REAUTH",o=we(o,rB,f),iu(o,u)},go.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function Zj(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Qe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new go(u)}return null}function pc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Di(o){try{this.a=o||ee.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mn(this,{providerId:"phone",isOAuthProvider:!1})}Di.prototype.gb=function(o,u){var f=this.a.a;return ne(u.verify()).then(function(d){if(typeof d!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=b(o)?o.session:null,_=b(o)?o.phoneNumber:o,E;return g&&g.type==dc?E=g.Ha().then(function(k){return CV(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):g&&g.type==kd?E=g.Ha().then(function(k){return kV(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=bV(f,{phoneNumber:_,recaptchaToken:d}),E.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function XC(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new go({fb:o,eb:u})}mn(Di,{PROVIDER_ID:"phone"}),mn(Di,{PHONE_SIGN_IN_METHOD:"phone"});function Wy(o){if(o.temporaryProof&&o.phoneNumber)return new go({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return GC(_,f);case"facebook.com":return HC(f);case"github.com":return KC(f);case"twitter.com":return QC(f,d);default:return f||d||_||E?E?u.indexOf("saml.")==0?new ks(u,E):new Oi(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Gn(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function Hy(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function Mr(o,u,f,d,g,_,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}Mr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Mr.prototype.T=function(){return this.h},Mr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function JC(o){return o=o||{},o.type?new Mr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Vt(o.error),o.postBody,o.tenantId):null}function eV(){this.b=null,this.a=[]}var Ky=null;function tV(o){var u=Ky;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=We("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Gy(o){var u="unauthorized-domain",f=void 0,d=Ln(o);o=d.a,d=d.c,d=="chrome-extension"?f=T1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=T1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}M(Gy,R);function vc(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&J(this,"email",o.Kb),o.ea&&J(this,"phoneNumber",o.ea),o.credential&&J(this,"credential",o.credential),o.$b&&J(this,"tenantId",o.$b)}M(vc,R),vc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&xn(o,u),o},vc.prototype.toJSON=function(){return this.w()};function Nd(o){if(o.code){var u=o.code||"";u.indexOf(Pr)==0&&(u=u.substring(Pr.length));var f={credential:Wy(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new vc(u,f,o.message)}return null}function gc(){}gc.prototype.c=null;function ZC(o){return o.c||(o.c=o.b())}var Qy;function Ad(){}M(Ad,gc),Ad.prototype.a=function(){var o=ek(this);return o?new ActiveXObject(o):new XMLHttpRequest},Ad.prototype.b=function(){var o={};return ek(this)&&(o[0]=!0,o[1]=!0),o};function ek(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Qy=new Ad;function Rd(){}M(Rd,gc),Rd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new tk;throw Error("Unsupported browser")},Rd.prototype.b=function(){return{}};function tk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Tb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}e=tk.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yy(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Yy(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Yy(this,1)};function Yy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Xy(o,u,f){this.reset(o,u,f,void 0,void 0)}Xy.prototype.a=null,Xy.prototype.reset=function(o,u,f,d,g){delete this.a};function Jy(o){this.f=o,this.b=this.c=this.a=null}function mc(o,u){this.name=o,this.value=u}mc.prototype.toString=function(){return this.name};var nk=new mc("SEVERE",1e3),Zy=new mc("WARNING",900),nV=new mc("CONFIG",700),rV=new mc("FINE",500);function rk(o){return o.c?o.c:o.a?rk(o.a):(ue("Root logger has no level set."),null)}Jy.prototype.log=function(o,u,f){if(o.value>=rk(this).value)for(T(u)&&(u=u()),o=new Xy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var e0={},Pd=null;function t0(o){Pd||(Pd=new Jy(""),e0[""]=Pd,Pd.c=nV);var u;if(!(u=e0[o])){u=new Jy(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=t0(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,e0[o]=u}return u}function pr(o,u){o&&o.log(rV,u,void 0)}function xd(o){this.f=o}M(xd,gc),xd.prototype.a=function(){return new Od(this.f)},xd.prototype.b=function(o){return function(){return o}}({});function Od(o){gn.call(this),this.u=o,this.h=void 0,this.readyState=n0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=t0("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(Od,gn);var n0=0;e=Od.prototype,e.open=function(o,u){if(this.readyState!=n0)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,_c(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,yc(this)),this.readyState=n0},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,_c(this)),this.a&&(this.readyState=3,_c(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,ik(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function ik(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?yc(this):_c(this),this.readyState==3&&ik(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,yc(this))},e.sc=function(o){this.a&&(this.response=o,yc(this))},e.Va=function(o){var u=this.i;u&&u.log(Zy,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&yc(this)};function yc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,_c(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Zy,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Zy,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function _c(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function wc(o){gn.call(this),this.headers=new Xa,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ok,this.u=this.S=!1}M(wc,gn);var ok="";wc.prototype.b=t0("goog.net.XhrIo");var iV=/^https?$/i,oV=["POST","PUT"];function sV(o,u,f,d,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Qy.a(),o.C=o.D?ZC(o.D):ZC(Qy),o.a.onreadystatechange=x(o.Wb,o);try{pr(o.b,Li(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(E){pr(o.b,Li(o,"Error opening Xhr: "+E.message)),sk(o,E);return}u=d||"";var _=new Xa(o.headers);g&&hj(g,function(E,k){_.set(k,E)}),g=A3(_.Y()),d=c.FormData&&u instanceof c.FormData,!Pi(oV,f)||g||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(E,k){this.a.setRequestHeader(k,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{lk(o),0<o.g&&(o.u=aV(o.a),pr(o.b,Li(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=x(o.Ma,o)):o.s=vy(o.Ma,o.g,o)),pr(o.b,Li(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){pr(o.b,Li(o,"Send error: "+E.message)),sk(o,E)}}function aV(o){return Dr&&C1(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function uV(o){return o.toLowerCase()=="content-type"}e=wc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pr(this.b,Li(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function sk(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,ak(o),Dd(o)}function ak(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(pr(this.b,Li(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Dd(this,!0)),wc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?uk(this):this.Jc())},e.Jc=function(){uk(this)};function uk(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Ec(o)==4&&Ld(o)==2)pr(o.b,Li(o,"Local request error detected and ignored"));else if(o.i&&Ec(o)==4)vy(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Ec(o)==4){pr(o.b,Li(o,"Request complete")),o.c=!1;try{var u=Ld(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var g;if(g=u===0){var _=String(o.l).match(tC)[1]||null;if(!_&&c.self&&c.self.location){var E=c.self.location.protocol;_=E.substr(0,E.length-1)}g=!iV.test(_?_.toLowerCase():"")}d=g}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<Ec(o)?o.a.statusText:""}catch(L){pr(o.b,"Can not get status: "+L.message),k=""}o.h=k+" ["+Ld(o)+"]",ak(o)}}finally{Dd(o)}}}}function Dd(o,u){if(o.a){lk(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(g){(o=o.b)&&o.log(nk,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function lk(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Ec(o){return o.a?o.a.readyState:0}function Ld(o){try{return 2<Ec(o)?o.a.status:-1}catch{return-1}}function lV(o){try{return o.a?o.a.responseText:""}catch(u){return pr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ok:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(nk,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return pr(this.b,"Can not get response: "+u.message),null}};function Li(o,u){return u+" ["+o.P+" "+o.l+" "+Ld(o)+"]"}function xs(o){var u=hV;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}xs.prototype.cancel=function(o){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Ic,Md(this),Tc(this,!1,o))}},xs.prototype.m=function(o,u){this.i=!1,Tc(this,o,u)};function Tc(o,u,f){o.a=!0,o.c=f,o.f=!u,fk(o)}function Md(o){if(o.a){if(!o.v)throw new Fd;o.v=!1}}function cV(o,u){r0(o,null,u,void 0)}function r0(o,u,f,d){o.g.push([u,f,d]),o.a&&fk(o)}xs.prototype.then=function(o,u,f){var d,g,_=new _e(function(E,k){d=E,g=k});return r0(this,d,function(E){E instanceof Ic?_.cancel():g(E)}),_.then(o,u,f)},xs.prototype.$goog_Thenable=!0;function ck(o){return N3(o.g,function(u){return T(u[1])})}function fk(o){if(o.h&&o.a&&ck(o)){var u=o.h,f=Ud[u];f&&(c.clearTimeout(f.a),delete Ud[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],E=g[1];if(g=g[2],_=o.f?E:_)try{var k=_.call(g||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(Wa(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(L){u=L,o.f=!0,ck(o)||(f=!0)}}o.c=u,d&&(k=x(o.m,o,!0),d=x(o.m,o,!1),u instanceof xs?(r0(u,k,d),u.C=!0):u.then(k,d)),f&&(u=new hk(u),Ud[u.a]=u,o.h=u.a)}function Fd(){z.call(this)}M(Fd,z),Fd.prototype.message="Deferred has already fired",Fd.prototype.name="AlreadyCalledError";function Ic(){z.call(this)}M(Ic,z),Ic.prototype.message="Deferred was canceled",Ic.prototype.name="CanceledError";function hk(o){this.a=c.setTimeout(x(this.c,this),0),this.b=o}hk.prototype.c=function(){throw delete Ud[this.a],this.b};var Ud={};function i0(o){var u={},f=u.document||document,d=p1(o).toString(),g=ld(document,"SCRIPT"),_={Xb:g,Ma:void 0},E=new xs(_),k=null,L=u.timeout!=null?u.timeout:5e3;return 0<L&&(k=window.setTimeout(function(){jd(g,!0);var F=new o0(pV,"Timeout reached for loading script "+d);Md(E),Tc(E,!1,F)},L),_.Ma=k),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(jd(g,u.xd||!1,k),Md(E),Tc(E,!0,null))},g.onerror=function(){jd(g,!0,k);var F=new o0(dV,"Error while loading script "+d);Md(E),Tc(E,!1,F)},_=u.attributes||{},xn(_,{type:"text/javascript",charset:"UTF-8"}),N1(g,_),q3(g,o),fV(f).appendChild(g),E}function fV(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function hV(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&jd(o,!0,this.Ma)}}function jd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var dV=0,pV=1;function o0(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),z.call(this,f),this.code=o}M(o0,z);function Vd(o){this.f=o}M(Vd,gc),Vd.prototype.a=function(){return new this.f},Vd.prototype.b=function(){return{}};function Fr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||vV,this.g=lo(o.secureTokenHeaders||gV),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||mV,this.a=lo(o.firebaseHeaders||yV),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=si()=="Node",f=c.XMLHttpRequest||f&&ee.INTERNAL.node&&ee.INTERNAL.node.XMLHttpRequest,!f&&!Lr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Lr()?this.f=new xd(self):dC()?this.f=new Vd(f):this.f=new Rd,this.b=null}var s0,Ur="idToken",vV=new po(3e4,6e4),gV={"Content-Type":"application/x-www-form-urlencoded"},mV=new po(3e4,6e4),yV={"Content-Type":"application/json"};function dk(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Bd(o,u){u&&(o.l=a0("https://securetoken.googleapis.com/v1/token",u),o.h=a0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=a0("https://identitytoolkit.googleapis.com/v2/",u))}function a0(o,u){return o=Ln(o),u=Ln(u.url),o.f=o.a+o.f,nc(o,u.c),o.a=u.a,rc(o,u.g),o.toString()}function pk(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Fr.prototype.T=function(){return this.b};function vk(o,u,f,d,g,_,E){Tj()||Lr()?o=x(o.u,o):(s0||(s0=new _e(function(k,L){wV(k,L)})),o=x(o.s,o)),o(u,f,d,g,_,E)}Fr.prototype.u=function(o,u,f,d,g,_){if(Lr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new wc(this.f);if(_){E.g=Math.max(0,_);var k=setTimeout(function(){E.dispatchEvent("timeout")},_)}J1(E,"complete",function(){k&&clearTimeout(k);var L=null;try{L=JSON.parse(lV(this))||null}catch{L=null}u&&u(L)}),py(E,"ready",function(){k&&clearTimeout(k),W1(this)}),py(E,"timeout",function(){k&&clearTimeout(k),W1(this),u&&u(null)}),sV(E,o,f,d,g)};var _V=new ii(od,"https://apis.google.com/js/client.js?onload=%{onload}"),gk="__fcb"+Math.floor(1e6*Math.random()).toString();function wV(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[gk]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Ym(_V,{onload:gk});cV(i0(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Fr.prototype.s=function(o,u,f,d,g){var _=this;s0.then(function(){window.gapi.client.setApiKey(_.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:g,authType:"none",callback:function(k){window.gapi.auth.setToken(E),u&&u(k)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function EV(o,u){return new _e(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?vk(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?d(v0(g)):g.access_token&&g.refresh_token?f(g):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",rC(u).toString(),o.g,o.m.get()):d(new R("internal-error"))})}function mk(o,u,f,d,g,_,E){var k=Ln(u+f);st(k,"key",o.c),E&&st(k,"cb",Date.now().toString());var L=d=="GET";if(L)for(var F in g)g.hasOwnProperty(F)&&st(k,F,g[F]);return new _e(function(se,Pe){vk(o,k.toString(),function(Ce){Ce?Ce.error?Pe(v0(Ce,_||{})):se(Ce):Pe(new R("network-request-failed"))},d,L?void 0:sC(gC(g)),o.a,o.v.get())})}function Os(o){if(o=o.email,typeof o!="string"||!bj.test(o))throw new R("invalid-email")}function yk(o){"email"in o&&Os(o)}function TV(o,u){return we(o,xV,{identifier:u,continueUri:_d()?sc():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function IV(o){return we(o,zV,{}).then(function(u){return u.authorizedDomains||[]})}function Mn(o){if(!o[Ur])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,lo(o)):new R("internal-error")}function u0(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}Fr.prototype.Ab=function(){return we(this,GV,{})},Fr.prototype.Cb=function(o,u){return we(this,Ek,{idToken:o,email:u})},Fr.prototype.Db=function(o,u){return we(this,Tk,{idToken:o,password:u})};var SV={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Fr.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return l1(SV,function(g,_){var E=u[_];E===null?d.push(g):_ in u&&(f[_]=E)}),d.length&&(f.deleteAttribute=d),we(this,Ek,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},xn(o,u),we(this,qV,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},xn(o,u),we(this,VV,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},xn(o,u),we(this,BV,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},xn(o,f),we(this,$V,o)};function bV(o,u){return we(o,KV,u)}e.gb=function(o){return we(this,tB,o)};function CV(o,u){return we(o,QV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function _k(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function kV(o,u){return we(o,YV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function NV(o,u,f){return we(o,DV,{idToken:u,deleteProvider:f})}function l0(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function c0(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Is(o.postBody),yy(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function wk(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Nd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Nd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Nd(o)):o.errorMessage&&(u=Sk(o.errorMessage)),u)throw u;Mn(o)}function f0(o,u){return u.returnIdpCredential=!0,we(o,XV,u)}function h0(o,u){return u.returnIdpCredential=!0,we(o,ZV,u)}function d0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,we(o,JV,u)}function p0(o){if(!o.oobCode)throw new R("invalid-action-code")}e.ob=function(o,u){return we(this,HV,{oobCode:o,newPassword:u})},e.Sa=function(o){return we(this,RV,{oobCode:o})},e.kb=function(o){return we(this,AV,{oobCode:o})};var AV={endpoint:"setAccountInfo",A:p0,Z:"email",B:!0},RV={endpoint:"resetPassword",A:p0,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},PV={endpoint:"signupNewUser",A:function(o){if(Os(o),!o.password)throw new R("weak-password")},G:Mn,V:!0,B:!0},xV={endpoint:"createAuthUri",B:!0},OV={endpoint:"deleteAccount",O:["idToken"]},DV={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},LV={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Os,G:Mn,V:!0,B:!0},MV={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Os,G:Mn,V:!0},FV={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:_k,G:Mn,B:!0,Na:!0},UV={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:_k,G:Mn,B:!0,Na:!0},jV={endpoint:"getAccountInfo"},VV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");Os(o)},Z:"email",B:!0},BV={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},$V={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},qV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");Os(o)},Z:"email",B:!0},zV={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},WV={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},HV={endpoint:"resetPassword",A:p0,Z:"email",B:!0},KV={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ek={endpoint:"setAccountInfo",O:["idToken"],A:yk,V:!0},Tk={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(yk(o),!o.password)throw new R("weak-password")},G:Mn,V:!0},GV={endpoint:"signupNewUser",G:Mn,V:!0,B:!0},QV={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},YV={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},XV={endpoint:"verifyAssertion",A:l0,Za:c0,G:wk,V:!0,B:!0},JV={endpoint:"verifyAssertion",A:l0,Za:c0,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw Sk(o.errorMessage);Mn(o)},V:!0,B:!0},ZV={endpoint:"verifyAssertion",A:function(o){if(l0(o),!o.idToken)throw new R("internal-error")},Za:c0,G:wk,V:!0},eB={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:Mn,V:!0,B:!0},Ik={endpoint:"verifyPassword",A:function(o){if(Os(o),!o.password)throw new R("wrong-password")},G:Mn,V:!0,B:!0},tB={endpoint:"verifyPhoneNumber",A:u0,G:Mn,B:!0},nB={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");u0(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Nd(o);Mn(o)}},rB={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:u0,G:Mn,B:!0},iB={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Ur]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function we(o,u,f){if(!xj(f,u.O))return ze(new R("internal-error"));var d=!!u.Na,g=u.Vb||"POST",_;return ne(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?mk(o,o.i,u.endpoint,g,f,u.Ib,u.mb||!1):mk(o,o.h,u.endpoint,g,f,u.Ib,u.mb||!1)}).then(function(E){return _=E,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function Sk(o){return v0({error:{errors:[{message:o}],code:400,message:o}})}function v0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new R(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},xn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in d)if(f.indexOf(g)===0)return new R(d[g],u);return!u&&o&&(u=uc(o)),new R("internal-error",u)}function oB(o){this.b=o,this.a=null,this.sb=sB(this)}function sB(o){return hB().then(function(){return new _e(function(u,f){We("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:We("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},fB.get());d.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function aB(o,u){return o.sb.then(function(){return new _e(function(f){o.a.send(u.type,u,f,We("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function uB(o,u){o.sb.then(function(){o.a.register("authEvent",u,We("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var lB=new ii(od,"https://apis.google.com/js/api.js?onload=%{onload}"),cB=new po(3e4,6e4),fB=new po(5e3,15e3),$d=null;function hB(){return $d||($d=new _e(function(o,u){function f(){yC(),We("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){yC(),u(Error("Network Error"))},timeout:cB.get()})}if(We("gapi.iframes.Iframe"))o();else if(We("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){We("gapi.load")?f():u(Error("Network Error"))},d=Ym(lB,{onload:d}),ne(i0(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw $d=null,o}))}function bk(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=Ln(this.g.url),o=md(o.c,o.a,o.g,"/emulator/auth/iframe")):o=md("https",this.l,null,"/__/auth/iframe"),this.a=o,st(this.a,"apiKey",this.h),st(this.a,"appName",this.i),this.b=null,this.c=[]}bk.prototype.toString=function(){return this.f?st(this.a,"v",this.f):oi(this.a.b,"v"),this.b?st(this.a,"eid",this.b):oi(this.a.b,"eid"),this.c.length?st(this.a,"fw",this.c.join(",")):oi(this.a.b,"fw"),this.a.toString()};function g0(o,u,f,d,g,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}g0.prototype.zb=function(o){return this.h=o,this},g0.prototype.toString=function(){if(this.v){var o=Ln(this.v.url);o=md(o.c,o.a,o.g,"/emulator/auth/handler")}else o=md("https",this.u,null,"/__/auth/handler");if(st(o,"apiKey",this.s),st(o,"appName",this.c),st(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ee.app(this.c).auth().la()}catch{f=null}u.pb=f,st(o,"providerId",this.a.providerId),f=this.a,u=gC(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=lo(u);for(var g=0;g<d.length;g++){var _=d[g];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),ys(u)||st(o,"customParameters",uc(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&st(o,"scopes",f.join(","))),this.l?st(o,"redirectUrl",this.l):oi(o.b,"redirectUrl"),this.g?st(o,"eventId",this.g):oi(o.b,"eventId"),this.i?st(o,"v",this.i):oi(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!hr(o,E)&&st(o,E,this.b[E]);return this.h?st(o,"tid",this.h):oi(o.b,"tid"),this.f?st(o,"eid",this.f):oi(o.b,"eid"),E=m0(this.c),E.length&&st(o,"fw",E.join(",")),o.toString()};function m0(o){try{return ee.app(o).auth().Ga()}catch{return[]}}function Ck(o,u,f,d,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function kk(o){var u=sc();return IV(o).then(function(f){e:{var d=Ln(u),g=d.c;d=d.a;for(var _=0;_<f.length;_++){var E=f[_],k=d,L=g;if(E.indexOf("chrome-extension://")==0?k=Ln(E).a==k&&L=="chrome-extension":L!="http"&&L!="https"?k=!1:Sj.test(E)?k=k==E:(E=E.split(".").join("\\."),k=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new Gy(sc())})}function Nk(o){return o.m||(o.m=yd().then(function(){if(!o.u){var u=o.c,f=o.i,d=m0(o.b),g=new bk(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=ms(d||[]),o.u=g.toString()}o.v=new oB(o.u),dB(o)})),o.m}e=Ck.prototype,e.Pb=function(o,u,f){var d=new R("popup-closed-by-user"),g=new R("web-storage-unsupported"),_=this,E=!1;return this.ma().then(function(){pB(_).then(function(k){k||(o&&Ss(o),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return Ij(o)}).then(function(){if(!E)return Ya(f).then(function(){u(d)})})},e.Yb=function(){var o=Bt();return!ac(o)&&!mC(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,g,_,E,k){if(!o)return ze(new R("popup-blocked"));if(E&&!ac())return this.ma().o(function(F){Ss(o),g(F)}),d(),ne();this.a||(this.a=kk(Ak(this)));var L=this;return this.a.then(function(){var F=L.ma().o(function(se){throw Ss(o),g(se),se});return d(),F}).then(function(){if(Hy(f),!E){var F=Sc(L.s,L.g,L.b,u,f,null,_,L.c,void 0,L.i,k,L.f);lC(F,o)}}).o(function(F){throw F.code=="auth/network-request-failed"&&(L.a=null),F})};function Ak(o){return o.l||(o.C=o.c?eu(o.c,m0(o.b)):null,o.l=new Fr(o.g,ps(o.i),o.C),o.f&&Bd(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=kk(Ak(this)));var g=this;return this.a.then(function(){Hy(u);var _=Sc(g.s,g.g,g.b,o,u,sc(),f,g.c,void 0,g.i,d,g.f);lC(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return Nk(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.ac=function(){return!0};function Sc(o,u,f,d,g,_,E,k,L,F,se,Pe){return o=new g0(o,u,f,d,g,Pe),o.l=_,o.g=E,o.i=k,o.b=lo(L||null),o.f=F,o.zb(se).toString()}function dB(o){if(!o.v)throw Error("IfcHandler must be initialized!");uB(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=JC(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",ne(f)}return f.status="ERROR",ne(f)})}function pB(o){var u={type:"webStorageSupport"};return Nk(o).then(function(){return aB(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Or(this.h,function(u){return u==o})};function Rk(o){if(this.a=o||ee.INTERNAL.reactNative&&ee.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Rk.prototype,e.get=function(o){return ne(this.a.getItem(o)).then(function(u){return u&&nu(u)})},e.set=function(o,u){return ne(this.a.setItem(o,uc(u)))},e.U=function(o){return ne(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function Pk(o){this.b=o,this.a={},this.f=x(this.c,this)}var xk=[];function vB(){var o=Lr()?self:null;if(Qe(xk,function(f){f.b==o&&(u=f)}),!u){var u=new Pk(o);xk.push(u)}return u}Pk.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];Qe(d,function(_){g.push(ne().then(function(){return _(o.origin,o.data.data)}))}),M1(g).then(function(_){var E=[];Qe(_,function(k){E.push({fulfilled:k.Qb,value:k.value,reason:k.reason?k.reason.message:void 0})}),Qe(E,function(k){for(var L in k)typeof k[L]>"u"&&delete k[L]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function Ok(o,u,f){ys(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function Dk(o){this.a=o}Dk.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function Lk(o){this.c=o,this.b=!1,this.a=[]}function Mk(o,u,f,d){var g,_=f||{},E,k,L,F=null;if(o.b)return ze(Error("connection_unavailable"));var se=d?800:50,Pe=typeof MessageChannel<"u"?new MessageChannel:null;return new _e(function(Ce,At){Pe?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Pe.port1.start(),k=setTimeout(function(){At(Error("unsupported_event"))},se),E=function(Mi){Mi.data.eventId===g&&(Mi.data.status==="ack"?(clearTimeout(k),L=setTimeout(function(){At(Error("timeout"))},3e3)):Mi.data.status==="done"?(clearTimeout(L),typeof Mi.data.response<"u"?Ce(Mi.data.response):At(Error("unknown_error"))):(clearTimeout(k),clearTimeout(L),At(Error("invalid_response"))))},F={messageChannel:Pe,onMessage:E},o.a.push(F),Pe.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:g,data:_},[Pe.port2])):At(Error("connection_unavailable"))}).then(function(Ce){return y0(o,F),Ce}).o(function(Ce){throw y0(o,F),Ce})}function y0(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Or(o.a,function(g){return g==u})}}Lk.prototype.close=function(){for(;0<this.a.length;)y0(this,this.a[0]);this.b=!0};function Fk(){if(!E0())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Lr()&&self?(this.v=vB(),Ok(this.v,"keyChanged",function(u,f){return Vk(o).then(function(d){return 0<d.length&&Qe(o.a,function(g){g(d)}),{keyProcessed:Pi(d,f.key)}})}),Ok(this.v,"ping",function(){return ne(["keyChanged"])})):Rj().then(function(u){(o.h=u)&&(o.g=new Lk(new Dk(u)),Mk(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Pi(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var _0;function gB(o){return new _e(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(g){f(Error(g.target.error))}})}function Uk(o){return new _e(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):gB(o).then(function(){return Uk(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function w0(o){return o.i||(o.i=Uk(o)),o.i}function qd(o,u){function f(g,_){w0(o).then(u).then(g).o(function(E){if(3<++d)_(E);else return w0(o).then(function(k){return k.close(),o.i=void 0,f(g,_)}).o(function(k){_(k)})})}var d=0;return new _e(f)}function E0(){try{return!!c.indexedDB}catch{return!1}}function bc(o){return o.objectStore("firebaseLocalStorage")}function Cc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function su(o){return new _e(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=Fk.prototype,e.set=function(o,u){var f=this,d=!1;return qd(this,function(g){return g=bc(Cc(g,!0)),su(g.get(o))}).then(function(g){return qd(f,function(_){if(_=bc(Cc(_,!0)),g)return g.value=u,su(_.put(g));f.b++,d=!0;var E={};return E.fbase_key=o,E.value=u,su(_.add(E))})}).then(function(){return f.c[o]=u,jk(f,o)}).oa(function(){d&&f.b--})};function jk(o,u){return o.g&&o.h&&Aj()===o.h?Mk(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ne()}e.get=function(o){return qd(this,function(u){return su(bc(Cc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return qd(this,function(d){return f=!0,u.b++,su(bc(Cc(d,!0)).delete(o))}).then(function(){return delete u.c[o],jk(u,o)}).oa(function(){f&&u.b--})};function Vk(o){return w0(o).then(function(u){var f=bc(Cc(u,!1));return f.getAll?su(f.getAll()):new _e(function(d,g){var _=[],E=f.openCursor();E.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):d(_)},E.onerror=function(k){g(k.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=cC(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&mB(this),this.a.push(o)},e.ia=function(o){Or(this.a,function(u){return u==o}),this.a.length==0&&Bk(this)};function mB(o){function u(){o.f=setTimeout(function(){o.l=Vk(o).then(function(f){0<f.length&&Qe(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}Bk(o),u()}function Bk(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function $k(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ne().then(function(){if(E0()){var d=Cs(),g="__sak"+d;return _0||(_0=new Fk),f=_0,f.set(g,d).then(function(){return f.get(g)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(g){Qe(u.a,function(_){_(g)})}),d})}e=$k.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Or(this.a,function(u){return u==o})};function kc(){this.a={},this.type="inMemory"}e=kc.prototype,e.get=function(o){return ne(this.a[o])},e.set=function(o,u){return this.a[o]=u,ne()},e.U=function(o){return delete this.a[o],ne()},e.ca=function(){},e.ia=function(){};function zd(){if(!yB())throw si()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=qk()||ee.INTERNAL.node.localStorage,this.type="localStorage"}function qk(){try{var o=c.localStorage,u=Cs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function yB(){var o=si()=="Node";if(o=qk()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=zd.prototype,e.get=function(o){var u=this;return ne().then(function(){var f=u.a.getItem(o);return nu(f)})},e.set=function(o,u){var f=this;return ne().then(function(){var d=uc(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ne().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&fr(c.window,"storage",o)},e.ia=function(o){c.window&&Kn(c.window,"storage",o)};function T0(){this.type="nullStorage"}e=T0.prototype,e.get=function(){return ne(null)},e.set=function(){return ne()},e.U=function(){return ne()},e.ca=function(){},e.ia=function(){};function I0(){if(!_B())throw si()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=zk()||ee.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zk(){try{var o=c.sessionStorage,u=Cs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function _B(){var o=si()=="Node";if(o=zk()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=I0.prototype,e.get=function(o){var u=this;return ne().then(function(){var f=u.a.getItem(o);return nu(f)})},e.set=function(o,u){var f=this;return ne().then(function(){var d=uc(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ne().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function wB(){var o={};o.Browser=EB,o.Node=TB,o.ReactNative=IB,o.Worker=SB,this.a=o[si()]}var S0,EB={F:zd,cb:I0},TB={F:zd,cb:I0},IB={F:Rk,cb:T0},SB={F:zd,cb:T0},au={rd:"local",NONE:"none",td:"session"};function bB(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(d in au)if(au[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(si()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!E0()&&o!=="none")throw f;break;default:if(!Sy()&&o!=="none")throw f}}function Wk(){var o=!!(!mC(Bt())&&Ty()),u=ac(),f=Sy();this.m=o,this.h=u,this.l=f,this.a={},S0||(S0=new wB),o=S0;try{this.g=!wy()&&_C()||!c.indexedDB?new o.a.F:new $k(Lr()?new kc:new o.a.F)}catch{this.g=new kc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new kc}this.v=new kc,this.f=x(this.Zb,this),this.b={}}var b0;function Nc(){return b0||(b0=new Wk),b0}function Ds(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function uu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function CB(o,u,f){var d=uu(u,f),g=Ds(o,u.F);return o.get(u,f).then(function(_){var E=null;try{E=nu(c.localStorage.getItem(d))}catch{}if(E&&!_)return c.localStorage.removeItem(d),o.set(u,E,f);E&&_&&g.type!="localStorage"&&c.localStorage.removeItem(d)})}e=Wk.prototype,e.get=function(o,u){return Ds(this,o.F).get(uu(o,u))};function lu(o,u,f){return f=uu(u,f),u.F=="local"&&(o.b[f]=null),Ds(o,u.F).U(f)}e.set=function(o,u,f){var d=uu(o,f),g=this,_=Ds(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(E){o.F=="local"&&(g.b[d]=E)})},e.addListener=function(o,u,f){o=uu(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),ys(this.a)&&(Ds(this,"local").ca(this.f),this.h||(wy()||!_C())&&c.indexedDB||!this.l||kB(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=uu(o,u),this.a[o]&&(Or(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),ys(this.a)&&(Ds(this,"local").ia(this.f),C0(this))};function kB(o){C0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new Es({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function C0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var g=c.localStorage.getItem(f);g!==d&&(this.b[f]=g,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ds(this,"local").ia(this.f):C0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},Dr&&co&&co==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Qe(o,x(this.nb,this))},e.nb=function(o){this.a[o]&&Qe(this.a[o],function(u){u()})};function NB(o){this.a=o,this.b=Nc()}var k0={name:"authEvent",F:"local"};function AB(o){return o.b.get(k0,o.a).then(function(u){return JC(u)})}function RB(){this.a=Nc()}function PB(){this.b=-1}function Wd(o,u){this.b=Hk,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Hd===void 0&&(c.Int32Array?Hd=new Int32Array(Qk):Hd=Qk),this.reset()}var Hd;M(Wd,PB);for(var Hk=64,xB=Hk-1,Kk=[],N0=0;N0<xB;N0++)Kk[N0]=0;var Gk=Km(128,Kk);Wd.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ms(this.h)};function A0(o){for(var u=o.f,f=o.l,d=0,g=0;g<u.length;)f[d++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*d;for(u=16;64>u;u++){g=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+E|0}d=o.a[0]|0,g=o.a[1]|0;var k=o.a[2]|0,L=o.a[3]|0,F=o.a[4]|0,se=o.a[5]|0,Pe=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Ce=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&k^g&k)|0;E=F&se^~F&Pe,_=_+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))|0,E=E+(Hd[u]|0)|0,E=_+(E+(f[u]|0)|0)|0,_=Pe,Pe=se,se=F,F=L+E|0,L=k,k=g,g=d,d=E+Ce|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+L|0,o.a[4]=o.a[4]+F|0,o.a[5]=o.a[5]+se|0,o.a[6]=o.a[6]+Pe|0,o.a[7]=o.a[7]+_|0}function R0(o,u,f){f===void 0&&(f=u.length);var d=0,g=o.c;if(typeof u=="string")for(;d<f;)o.f[g++]=u.charCodeAt(d++),g==o.b&&(A0(o),g=0);else if(w(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(A0(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var Qk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yk(){Wd.call(this,8,OB)}M(Yk,Wd);var OB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Xk(o,u,f,d,g,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new RB,this.g=new NB(this.h),this.f=null,this.b=[],this.a=this.c=null}function Kd(o){return new R("invalid-cordova-configuration",o)}e=Xk.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=Cj().then(function(){if(typeof We("universalLinks.subscribe",c)!="function")throw Kd("cordova-universal-links-plugin-fix is not installed");if(typeof We("BuildInfo.packageName",c)>"u")throw Kd("cordova-plugin-buildinfo is not installed");if(typeof We("cordova.plugins.browsertab.openUrl",c)!="function")throw Kd("cordova-plugin-browsertab is not installed");if(typeof We("cordova.InAppBrowser.open",c)!="function")throw Kd("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function DB(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function LB(o){var u=new Yk;R0(u,o),o=[];var f=8*u.g;56>u.c?R0(u,Gk,56-u.c):R0(u,Gk,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(A0(u),d=f=0;d<u.i;d++)for(var g=24;0<=g;g-=8)o[f++]=u.a[d]>>g&255;return Hj(o)}e.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),ne()},e.Nb=function(){return ze(new R("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return ze(new R("redirect-operation-pending"));var g=this,_=c.document,E=null,k=null,L=null,F=null;return this.c=ne().then(function(){return Hy(u),Zk(g)}).then(function(){return MB(g,o,u,f,d)}).then(function(){return new _e(function(se,Pe){k=function(){var Ce=We("cordova.plugins.browsertab.close",c);return se(),typeof Ce=="function"&&Ce(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(k),L=function(){E||(E=Ya(2e3).then(function(){Pe(new R("redirect-cancelled-by-user"))}))},F=function(){by()&&L()},_.addEventListener("resume",L,!1),Bt().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",F,!1)}).o(function(se){return P0(g).then(function(){throw se})})}).oa(function(){L&&_.removeEventListener("resume",L,!1),F&&_.removeEventListener("visibilitychange",F,!1),E&&E.cancel(),k&&g.Ta(k),g.c=null})};function MB(o,u,f,d,g){var _=DB(),E=new Mr(u,d,null,_,new R("no-auth-event"),null,g),k=We("BuildInfo.packageName",c);if(typeof k!="string")throw new R("invalid-cordova-configuration");var L=We("BuildInfo.displayName",c),F={};if(Bt().toLowerCase().match(/iphone|ipad|ipod/))F.ibi=k;else if(Bt().toLowerCase().match(/android/))F.apn=k;else return ze(new R("operation-not-supported-in-this-environment"));L&&(F.appDisplayName=L),_=LB(_),F.sessionId=_;var se=Sc(o.v,o.i,o.l,u,f,null,d,o.m,F,o.u,g,o.s);return o.ma().then(function(){var Pe=o.h;return o.C.a.set(k0,E.w(),Pe)}).then(function(){var Pe=We("cordova.plugins.browsertab.isAvailable",c);if(typeof Pe!="function")throw new R("invalid-cordova-configuration");var Ce=null;Pe(function(At){if(At){if(Ce=We("cordova.plugins.browsertab.openUrl",c),typeof Ce!="function")throw new R("invalid-cordova-configuration");Ce(se)}else{if(Ce=We("cordova.InAppBrowser.open",c),typeof Ce!="function")throw new R("invalid-cordova-configuration");At=Bt(),o.a=Ce(se,At.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||At.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Jk(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function Zk(o){return o.f||(o.f=o.ma().then(function(){return new _e(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),FB(o)})})),o.f}function P0(o){var u=null;return AB(o.g).then(function(f){return u=f,f=o.g,lu(f.b,k0,f.a)}).then(function(){return u})}function FB(o){function u(E){d=!0,g&&g.cancel(),P0(o).then(function(k){var L=f;if(k&&E&&E.url){var F=null;L=zC(E.url),L.indexOf("/__/auth/callback")!=-1&&(F=Ln(L),F=nu(hr(F,"firebaseError")||null),F=(F=typeof F=="object"?Vt(F):null)?new Mr(k.c,k.b,null,null,F,null,k.T()):new Mr(k.c,k.b,L,k.f,null,null,k.T())),L=F||f}Jk(o,L)})}var f=new Mr("unknown",null,null,null,new R("no-auth-event")),d=!1,g=Ya(500).then(function(){return P0(o).then(function(){d||Jk(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(E){if(E.toLowerCase().indexOf(We("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:E}),typeof _=="function")try{_(E)}catch(k){console.error(k)}},Ky||(Ky=new eV),tV(u)}e.Ea=function(o){this.b.push(o),Zk(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Mr("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Ta=function(o){Or(this.b,function(u){return u==o})};function UB(o){this.a=o,this.b=Nc()}var x0={name:"pendingRedirect",F:"session"};function jB(o){return o.b.set(x0,"pending",o.a)}function O0(o){return lu(o.b,x0,o.a)}function VB(o){return o.b.get(x0,o.a).then(function(u){return u=="pending"})}function Gd(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new Yd,this.C=new lN,this.g=new UB(sN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=eN(this.D,this.v,this.m,Ri,this.J)}function eN(o,u,f,d,g){var _=ee.SDK_VERSION||null;return Ey()?new Xk(o,u,f,_,d,g):new Ck(o,u,f,_,d,g)}Gd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=eN(this.D,this.v,this.m,null,this.J),this.i={}};function tN(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function nN(o){o.a.Yb()&&tN(o).o(function(u){var f=new Mr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));L0(u)&&o.s(f)}),o.a.Ub()||aN(o.b)}function Qd(o,u){Pi(o.h,u)||o.h.push(u),o.f||VB(o.g).then(function(f){f?O0(o.g).then(function(){tN(o).o(function(d){var g=new Mr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));L0(d)&&o.s(g)})}):nN(o)}).o(function(){nN(o)})}function D0(o,u){Or(o.h,function(f){return f==u})}Gd.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return aN(this.b),u};var BB=new po(2e3,1e4),$B=new po(3e4,6e4);Gd.prototype.ra=function(){return this.b.ra()};function rN(o,u,f,d,g,_,E){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,E)}function L0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function iN(o,u,f,d,g){var _;return jB(o.g).then(function(){return o.a.Ob(u,f,d,g).o(function(E){if(L0(E))throw new R("operation-not-supported-in-this-environment");return _=E,O0(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new _e(function(){}):O0(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function oN(o,u,f,d,g){return o.a.Pb(d,function(_){u.na(f,null,_,g)},BB.get())}var M0={};function sN(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function F0(o,u,f,d){var g=sN(u,f,d);return M0[g]||(M0[g]=new Gd(o,u,f,d)),M0[g]}function Yd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Yd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(Ls(this,!0,null,o.a),ne()):u.Fa(f,d)?qB(this,o,u):ze(new R("invalid-auth-event")):(Ls(this,!1,null,null),ne())}else ze(new R("invalid-auth-event"))};function aN(o){o.g||(o.g=!0,Ls(o,!1,null,null))}function Xd(o){o.g&&!o.i&&Ls(o,!1,null,null)}function qB(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,g=u.f,_=u.i,E=u.T(),k=!!u.c.match(/Redirect$/);f(d,g,E,_).then(function(L){Ls(o,k,L,null)}).o(function(L){Ls(o,k,null,L)})}function zB(o,u){if(o.b=function(){return ze(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function uN(o,u){if(o.b=function(){return ne(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Ls(o,u,f,d){u?d?zB(o,d):uN(o,f):uN(o,{user:null}),o.f=[],o.c=[]}Yd.prototype.ra=function(){var o=this;return new _e(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),WB(o))})};function WB(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=Ya($B.get()).then(function(){o.b||(o.g=!0,Ls(o,!0,null,u))})}function lN(){}lN.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),ne()):u.Fa(f,d)?HB(o,u):ze(new R("invalid-auth-event"))}else ze(new R("invalid-auth-event"))};function HB(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(d,g,null,f)}).o(function(g){u.na(d,null,g,f)})}function cN(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function U0(o,u){this.a=u,J(this,"verificationId",o)}U0.prototype.confirm=function(o){return o=XC(this.verificationId,o),this.a(o)};function j0(o,u,f,d){return new Di(o).gb(u,f).then(function(g){return new U0(g,d)})}function KB(o){var u=MC(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");mn(this,{token:o,expirationTime:lc(1e3*u.exp),authTime:lc(1e3*u.auth_time),issuedAtTime:lc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function V0(o,u,f){var d=u&&u[hN];if(!d)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=lo(u),this.g=f,this.c=new Cd(null,d),this.b=[];var g=this;Qe(u[fN]||[],function(_){(_=Py(_))&&g.b.push(_)}),J(this,"auth",this.a),J(this,"session",this.c),J(this,"hints",this.b)}var fN="mfaInfo",hN="mfaPendingCredential";V0.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=lo(u.f);return delete d[fN],delete d[hN],xn(d,f),u.g(d)})};function B0(o,u,f,d){R.call(this,"multi-factor-auth-required",d,u),this.b=new V0(o,u,f),J(this,"resolver",this.b)}M(B0,R);function dN(o,u,f){if(o&&b(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new B0(u,o.serverResponse,f,o.message)}catch{}return null}function pN(){}pN.prototype.tb=function(o,u,f){return u.type==dc?GB(this,o,u,f):QB(this,o,u)};function GB(o,u,f,d){return f.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),xn(g,{phoneVerificationInfo:pc(o.a)}),we(u,FV,g)})}function QB(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},xn(d,{phoneVerificationInfo:pc(o.a)}),we(u,UV,d)})}function $0(o){J(this,"factorId",o.fa),this.a=o}M($0,pN);function vN(o){if($0.call(this,o),this.a.fa!=Di.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(vN,$0);function cu(o,u){Dn.call(this,o);for(var f in u)this[f]=u[f]}M(cu,Dn);function q0(o,u){this.a=o,this.b=[],this.c=x(this.yc,this),fr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Qe(u.multiFactor.enrolledFactors,function(d){var g=null,_={};if(d){d.uid&&(_[Oy]=d.uid),d.displayName&&(_[EC]=d.displayName),d.enrollmentTime&&(_[xy]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[Dy]=d.phoneNumber);try{g=new cc(_)}catch{}d=g}else d=null;d&&f.push(d)}),Jd(this,f)}function YB(o){var u=[];return Qe(o.mfaInfo||[],function(f){(f=Py(f))&&u.push(f)}),u}e=q0.prototype,e.yc=function(o){Jd(this,YB(o.hd))};function Jd(o,u){o.b=u,J(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new Cd(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(g){return o.tb(d,g,u)}).then(function(g){return li(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(g){return we(d,iB,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=k3(u.b,function(E){return E.uid!=f});return Jd(u,_),li(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:rd(this.b,function(o){return o.w()})}}};function z0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}z0.prototype.start=function(){this.a=this.c,W0(this,!0)};function XB(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function W0(o,u){o.stop(),o.b=Ya(XB(o,u)).then(function(){return Nj()}).then(function(){return o.h()}).then(function(){W0(o,!0)}).o(function(f){o.i(f)&&W0(o,!1)})}z0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function H0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}H0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function gN(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function mN(o,u){o.b=Sd(u[Ur]||""),o.a=u.refreshToken,u=u.expiresIn,gN(o,typeof u<"u"?Number(u):void 0)}function JB(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function ZB(o,u){return EV(o.f,u).then(function(f){return o.b=Sd(f.access_token),o.a=f.refresh_token,gN(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}H0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?ze(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?ZB(this,{grant_type:"refresh_token",refresh_token:this.a}):ne(null):ne({accessToken:this.b.toString(),refreshToken:this.a})};function Zd(o,u){this.a=o||null,this.b=u||null,mn(this,{lastSignInTime:lc(u||null),creationTime:lc(o||null)})}function e$(o){return new Zd(o.a,o.b)}Zd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function t$(o,u,f,d,g,_){mn(this,{uid:o,displayName:d||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function Qn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=ee.SDK_VERSION?eu(ee.SDK_VERSION):null;this.a=new Fr(this.l,ps(Ri),d),(this.u=o.emulatorConfig||null)&&Bd(this.a,this.u),this.h=new H0(this.a),Z0(this,u[Ur]),mN(this.h,u),J(this,"refreshToken",this.h.a),_N(this,f||{}),gn.call(this),this.P=!1,this.s&&bs()&&(this.b=F0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=n$(this),this.ba=x(this.ib,this);var g=this;this.za=null,this.Pa=function(_){g.xa(_.h)},this.qa=null,this.Ba=function(_){K0(g,_.c)},this.$=null,this.aa=[],this.Oa=function(_){Ac(g,_.f)},this.ja=null,this.S=new q0(this,f),J(this,"multiFactor",this.S)}M(Qn,gn),Qn.prototype.xa=function(o){this.za=o,dk(this.a,o)};function K0(o,u){o.u=u,Bd(o.a,u),o.b&&(u=o.b,o.b=F0(o.s,o.l,o.m,o.u),o.P&&(D0(u,o),Qd(o.b,o)))}Qn.prototype.la=function(){return this.za};function G0(o,u){o.qa&&Kn(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&fr(u,"languageCodeChanged",o.Pa)}function Q0(o,u){o.$&&Kn(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&fr(u,"emulatorConfigChanged",o.Ba)}function Ac(o,u){o.aa=u,pk(o.a,ee.SDK_VERSION?eu(ee.SDK_VERSION,o.aa):null)}Qn.prototype.Ga=function(){return ms(this.aa)};function Y0(o,u){o.ja&&Kn(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&fr(u,"frameworkChanged",o.Oa)}Qn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function X0(o){try{return ee.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function n$(o){return new z0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function yN(o){o.J||o.D.b||(o.D.start(),Kn(o,"tokenChanged",o.ba),fr(o,"tokenChanged",o.ba))}function J0(o){Kn(o,"tokenChanged",o.ba),o.D.stop()}function Z0(o,u){o.Aa=u,J(o,"_lat",u)}function r$(o,u){Or(o.W,function(f){return f==u})}function Ms(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return M1(u).then(function(){return o})}function Rc(o){o.b&&!o.P&&(o.P=!0,Qd(o.b,o))}function _N(o,u){mn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Zd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}J(Qn.prototype,"providerId","firebase");function wN(){}function e_(o){return ne().then(function(){if(o.J)throw new R("app-deleted")})}function t_(o){return rd(o.providerData,function(u){return u.providerId})}function n_(o,u){u&&(EN(o,u.providerId),o.providerData.push(u))}function EN(o,u){Or(o.providerData,function(f){return f.providerId==u})}function mo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&J(o,u,f)}function ep(o,u){o!=u&&(mn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?J(o,"metadata",e$(u.metadata)):J(o,"metadata",new Zd),Qe(u.providerData,function(f){n_(o,f)}),JB(o.h,u.h),J(o,"refreshToken",o.h.a),Jd(o.S,u.S.b))}e=Qn.prototype,e.reload=function(){var o=this;return wt(this,e_(this).then(function(){return r_(o).then(function(){return Ms(o)}).then(wN)}))};function r_(o){return o.I().then(function(u){var f=o.isAnonymous;return i$(o,u).then(function(){return f||mo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new KB(u)})},e.I=function(o){var u=this;return wt(this,e_(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&(Z0(u,f.accessToken),u.dispatchEvent(new cu("tokenChanged"))),mo(u,"refreshToken",f.refreshToken),f.accessToken}))};function li(o,u){u[Ur]&&o.Aa!=u[Ur]&&(mN(o.h,u),o.dispatchEvent(new cu("tokenChanged")),Z0(o,u[Ur]),mo(o,"refreshToken",o.h.a))}function i$(o,u){return we(o.a,jV,{idToken:u}).then(x(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],_N(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=o$(o),f=0;f<u.length;f++)n_(this,u[f]);mo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new cu("userReloaded",{hd:o}))};function o$(o){return(o=o.providerUserInfo)&&o.length?rd(o,function(u){return new t$(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return Cy("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return wt(this,o.c(this.a,this.uid).then(function(d){return li(u,d),f=Pc(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function tp(o,u){return r_(o).then(function(){if(Pi(t_(o),u))return Ms(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return Cy("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return wt(this,tp(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=Pc(u,d,"link"),TN(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return wt(this,tp(this,"phone").then(function(){return j0(X0(f),o,u,x(f.rb,f))}))},e.Mc=function(o,u){var f=this;return wt(this,ne().then(function(){return j0(X0(f),o,u,x(f.ub,f))}),!0)};function Pc(o,u,f){var d=Wy(u);return u=UC(u),ai({user:o,credential:d,additionalUserInfo:u,operationType:f})}function TN(o,u){return li(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return wt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return li(u,f),u.reload()}))},e.ed=function(o){var u=this;return wt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return li(u,f),u.reload()}))},e.Db=function(o){var u=this;return wt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return li(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return e_(this);var u=this;return wt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return li(u,f),mo(u,"displayName",f.displayName||null),mo(u,"photoURL",f.photoUrl||null),Qe(u.providerData,function(d){d.providerId==="password"&&(J(d,"displayName",u.displayName),J(d,"photoURL",u.photoURL))}),Ms(u)}).then(wN))},e.cd=function(o){var u=this;return wt(this,r_(this).then(function(f){return Pi(t_(u),o)?NV(u.a,f,[o]).then(function(d){var g={};return Qe(d.providerUserInfo||[],function(_){g[_.providerId]=!0}),Qe(t_(u),function(_){g[_]||EN(u,_)}),g[Di.PROVIDER_ID]||J(u,"phoneNumber",null),Ms(u)}):Ms(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return wt(this,this.I().then(function(u){return we(o.a,OV,{idToken:u})}).then(function(){o.dispatchEvent(new cu("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");G0(o,null),Q0(o,null),Y0(o,null),o.N=[],o.J=!0,J0(o),J(o,"refreshToken",null),o.b&&D0(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?x(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?x(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?x(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?x(this.Mb,this):null},e.Ec=function(o){var u=this;return IN(this,"linkViaPopup",o,function(){return tp(u,o.providerId).then(function(){return Ms(u)})},!1)},e.Nc=function(o){return IN(this,"reauthViaPopup",o,function(){return ne()},!0)};function IN(o,u,f,d,g){if(!bs())return ze(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return ze(o.i);var _=jy(f.providerId),E=Cs(o.uid+":::"),k=null;(!ac()||Ty())&&o.s&&f.isOAuthProvider&&(k=Sc(o.s,o.l,o.m,u,f,null,E,ee.SDK_VERSION||null,null,null,o.tenantId,o.u));var L=hC(k,_&&_.va,_&&_.ua);return d=d().then(function(){if(bN(o),!g)return o.I().then(function(){})}).then(function(){return rN(o.b,L,u,f,E,!!k,o.tenantId)}).then(function(){return new _e(function(F,se){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=F,o.C=se,o.g=E,o.c=oN(o.b,o,u,L,E)})}).then(function(F){return L&&Ss(L),F?ai(F):null}).o(function(F){throw L&&Ss(L),F}),wt(o,d,g)}e.Fc=function(o){var u=this;return SN(this,"linkViaRedirect",o,function(){return tp(u,o.providerId)},!1)},e.Oc=function(o){return SN(this,"reauthViaRedirect",o,function(){return ne()},!0)};function SN(o,u,f,d,g){if(!bs())return ze(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return ze(o.i);var _=null,E=Cs(o.uid+":::");return d=d().then(function(){if(bN(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=E,Ms(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(i_,o.w(),k.a)),k}).then(function(){return iN(o.b,u,f,E,o.tenantId)}).o(function(k){if(_=k,o.ha)return kN(o.ha);throw _}).then(function(){if(_)throw _}),wt(o,d,g)}function bN(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}e.Lb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(E){return h0(g.a,{requestUri:o,postBody:d,sessionId:u,idToken:E})}).then(function(E){return _=Pc(g,E,"link"),TN(g,E)}).then(function(){return _}),wt(this,f)},e.Mb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,E=ne().then(function(){return iu(d0(g.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),g.uid)}).then(function(k){return _=Pc(g,k,"reauthenticate"),li(g,k),g.i=null,g.reload()}).then(function(){return _});return wt(this,E,!0)},e.vb=function(o){var u=this,f=null;return wt(this,this.I().then(function(d){return f=d,typeof o>"u"||ys(o)?{}:Td(new Ed(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return wt(this,this.I().then(function(g){return d=g,typeof u>"u"||ys(u)?{}:Td(new Ed(u))}).then(function(g){return f.a.Fb(d,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function wt(o,u,f){var d=s$(o,u,f);return o.N.push(d),d.oa(function(){id(o.N,d)}),d.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=dN(g.w(),X0(o),x(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=iu(ne(o),f.uid).then(function(d){return u=Pc(f,d,"reauthenticate"),li(f,d),f.i=null,f.reload()}).then(function(){return u}),wt(this,o,!0)};function s$(o,u,f){return o.i&&!f?(u.cancel(),ze(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new cu("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&xn(o,this.metadata.w()),Qe(this.providerData,function(u){o.providerData.push(Pj(u))}),xn(o,this.S.w()),o};function CN(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Ur]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Qn(u,f,o);return o.providerData&&Qe(o.providerData,function(_){_&&n_(g,ai(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function a$(o,u,f,d){var g=new Qn(o,u);return f&&(g.ha=f),d&&Ac(g,d),g.reload().then(function(){return g})}function u$(o,u,f,d){var g=o.h,_={};return _[Ur]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new Qn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&Ac(u,d),ep(u,o),u}function l$(o){this.a=o,this.b=Nc()}var i_={name:"redirectUser",F:"session"};function kN(o){return lu(o.b,i_,o.a)}function c$(o,u){return o.b.get(i_,o.a).then(function(f){return f&&u&&(f.authDomain=u),CN(f||{})})}function o_(o){this.a=o,this.b=Nc(),this.c=null,this.f=f$(this),this.b.addListener(ci("local"),this.a,x(this.g,this))}o_.prototype.g=function(){var o=this,u=ci("local");fu(this,function(){return ne().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return s_(o,"local").then(function(){o.c=u})})})};function s_(o,u){var f=[],d;for(d in au)au[d]!==u&&f.push(lu(o.b,ci(au[d]),o.a));return f.push(lu(o.b,a_,o.a)),ej(f)}function f$(o){var u=ci("local"),f=ci("session"),d=ci("none");return CB(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(a_,o.a).then(function(k){return k?ci(k):u})})})}).then(function(g){return o.c=g,s_(o,g.F)}).o(function(){o.c||(o.c=u)})}var a_={name:"persistence",F:"session"};function ci(o){return{name:"authUser",F:o}}o_.prototype.yb=function(o){var u=null,f=this;return bB(o),fu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,s_(f,o)}).then(function(){if(f.c=ci(o),u)return f.b.set(f.c,u,f.a)}):ne()})};function h$(o){return fu(o,function(){return o.b.set(a_,o.c.F,o.a)})}function NN(o,u){return fu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function AN(o){return fu(o,function(){return lu(o.b,o.c,o.a)})}function RN(o,u,f){return fu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),CN(d||{})})})}function fu(o,u){return o.f=o.f.then(u,u),o.f}function jr(o){if(this.l=!1,J(this,"settings",new cN),J(this,"app",o),Le(this).options&&Le(this).options.apiKey)o=ee.SDK_VERSION?eu(ee.SDK_VERSION):null,this.a=new Fr(Le(this).options&&Le(this).options.apiKey,ps(Ri),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ee.INTERNAL.createSubscribe(x(this.zc,this)),this.W=void 0,this.ib=ee.INTERNAL.createSubscribe(x(this.Ac,this)),hu(this,null),this.i=new o_(Le(this).options.apiKey+":"+Le(this).name),this.D=new l$(Le(this).options.apiKey+":"+Le(this).name),this.$=nt(this,y$(this)),this.h=nt(this,_$(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.qa=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,v$(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,gn.call(this),p$(this),this.J=[],this.R=null}M(jr,gn);function PN(o){Dn.call(this,"languageCodeChanged"),this.h=o}M(PN,Dn);function xN(o){Dn.call(this,"emulatorConfigChanged"),this.c=o}M(xN,Dn);function ON(o){Dn.call(this,"frameworkChanged"),this.f=o}M(ON,Dn),e=jr.prototype,e.yb=function(o){return o=this.i.yb(o),nt(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,dk(this.a,this.aa),this.dispatchEvent(new PN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,d$(u),this.R={url:o,ec:u},this.settings.jb=!0,Bd(this.a,this.R),this.dispatchEvent(new xN(this.R))}};function d$(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&yd().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),pk(this.a,ee.SDK_VERSION?eu(ee.SDK_VERSION,this.J):null),this.dispatchEvent(new ON(this.J))},e.Ga=function(){return ms(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function p$(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=Ln(this.R.url);u=ai({protocol:u.c,host:u.a,port:u.g,options:ai({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Le(this).options.apiKey,authDomain:Le(this).options.authDomain,appName:Le(this).name,currentUser:he(this)&&he(this).w()}};function u_(o){return o.Oa||ze(new R("auth-domain-config-required"))}function v$(o){var u=Le(o).options.authDomain,f=Le(o).options.apiKey;u&&bs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=F0(u,f,Le(o).name,o.R),Qd(o.b,o),he(o)&&Rc(he(o)),o.m){Rc(o.m);var d=o.m;d.xa(o.la()),G0(d,o),d=o.m,Ac(d,o.J),Y0(d,o),d=o.m,K0(d,o.R),Q0(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?x(this.ic,this):null},e.ic=function(o,u,f,d){var g=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Fs(g,f0(g.a,_))})},e.Xc=function(o){if(!bs())return ze(new R("operation-not-supported-in-this-environment"));var u=this,f=jy(o.providerId),d=Cs(),g=null;(!ac()||Ty())&&Le(this).options.authDomain&&o.isOAuthProvider&&(g=Sc(Le(this).options.authDomain,Le(this).options.apiKey,Le(this).name,"signInViaPopup",o,null,d,ee.SDK_VERSION||null,null,null,this.T(),this.R));var _=hC(g,f&&f.va,f&&f.ua);return f=u_(this).then(function(E){return rN(E,_,"signInViaPopup",o,d,!!g,u.T())}).then(function(){return new _e(function(E,k){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=E,u.C=k,u.g=d,u.c=oN(u.b,u,"signInViaPopup",_,d)})}).then(function(E){return _&&Ss(_),E?ai(E):null}).o(function(E){throw _&&Ss(_),E}),nt(this,f)},e.Yc=function(o){if(!bs())return ze(new R("operation-not-supported-in-this-environment"));var u=this,f=u_(this).then(function(){return h$(u.i)}).then(function(){return iN(u.b,"signInViaRedirect",o,void 0,u.T())});return nt(this,f)};function DN(o){if(!bs())return ze(new R("operation-not-supported-in-this-environment"));var u=u_(o).then(function(){return o.b.ra()}).then(function(f){return f?ai(f):null});return nt(o,u)}e.ra=function(){var o=this;return DN(this).then(function(u){return o.b&&Xd(o.b.b),u}).o(function(u){throw o.b&&Xd(o.b.b),u})},e.dd=function(o){if(!o)return ze(new R("null-user"));if(this.S!=o.tenantId)return ze(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=Le(this).options.apiKey,f.authDomain=Le(this).options.authDomain,f.appName=Le(this).name;var d=u$(o,f,u.D,u.Ga());return nt(this,this.h.then(function(){if(Le(u).options.apiKey!=o.l)return d.reload()}).then(function(){return he(u)&&o.uid==he(u).uid?(ep(he(u),o),u.da(o)):(hu(u,d),Rc(d),u.da(d))}).then(function(){xc(u)}))};function g$(o,u){var f={};return f.apiKey=Le(o).options.apiKey,f.authDomain=Le(o).options.authDomain,f.appName=Le(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return a$(f,u,o.D,o.Ga())}).then(function(d){return he(o)&&d.uid==he(o).uid?(ep(he(o),d),o.da(d)):(hu(o,d),Rc(d),o.da(d))}).then(function(){xc(o)})}function hu(o,u){he(o)&&(r$(he(o),o.Ba),Kn(he(o),"tokenChanged",o.qa),Kn(he(o),"userDeleted",o.za),Kn(he(o),"userInvalidated",o.Aa),J0(he(o))),u&&(u.W.push(o.Ba),fr(u,"tokenChanged",o.qa),fr(u,"userDeleted",o.za),fr(u,"userInvalidated",o.Aa),0<o.u&&yN(u)),J(o,"currentUser",u),u&&(u.xa(o.la()),G0(u,o),Ac(u,o.J),Y0(u,o),K0(u,o.R),Q0(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&Xd(o.b.b),he(o)?(hu(o,null),AN(o.i).then(function(){xc(o)})):ne()});return nt(this,u)};function m$(o){var u=c$(o.D,Le(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),kN(o.D)});return nt(o,u)}function y$(o){var u=Le(o).options.authDomain,f=m$(o).then(function(){return RN(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return NN(o.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:AN(o.i)})):null}).then(function(d){hu(o,d||null)});return nt(o,f)}function _$(o){return o.$.then(function(){return DN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(ci("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return RN(this.i,Le(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=he(o)&&u){f=he(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return ep(he(o),u),he(o).I();(he(o)||u)&&(hu(o,u),u&&(Rc(u),u.ha=o.D),o.b&&Qd(o.b,o),xc(o))}})},e.da=function(o){return NN(this.i,o)},e.mc=function(){xc(this),this.da(he(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Fs(o,u){var f=null,d=null;return nt(o,u.then(function(g){return f=Wy(g),d=UC(g),g$(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=dN(g.w(),o,x(o.kc,o))),_||g}).then(function(){return ai({user:he(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Fs(u,ne(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(he(u))})},e.Ac=function(o){var u=this;w$(this,function(){o.next(he(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return he(u)?he(u).I(o).then(function(d){return{accessToken:d}}):null});return nt(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Fs(u,we(u.a,eB,{token:o}))}).then(function(f){var d=f.user;return mo(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Fs(f,we(f.a,Ik,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Fs(f,we(f.a,PV,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Fs(u,o.ka(u.a))})},e.Sc=function(o){return Cy("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=he(o);if(u&&u.isAnonymous){var f=ai({providerId:null,isNewUser:!1});return ai({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Fs(o,o.a.Ab()).then(function(d){var g=d.user;return mo(g,"isAnonymous",!0),o.da(g),d})})};function Le(o){return o.app}function he(o){return o.currentUser}e.getUid=function(){return he(this)&&he(this).uid||null};function np(o){return he(o)&&he(o)._lat||null}function xc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](np(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](np(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&he(this)&&yN(he(this))},e.Pc=function(o){var u=this;Qe(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&he(this)&&J0(he(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),nt(this,this.h.then(function(){u.l||Pi(u.s,o)&&o(np(u))}))},e.removeAuthTokenListener=function(o){Or(this.s,function(u){return u==o})};function w$(o,u){o.N.push(u),nt(o,o.h.then(function(){!o.l&&Pi(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(np(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(ci("local"),o.a,this.ja)),this.b&&(D0(this.b,this),Xd(this.b.b)),Promise.resolve()};function nt(o,u){return o.P.push(u),u.oa(function(){id(o.P,u)}),u}e.hc=function(o){return nt(this,TV(this.a,o))},e.Bc=function(o){return!!zy(o)},e.xb=function(o,u){var f=this;return nt(this,ne().then(function(){var d=new Ed(u);if(!d.c)throw new R("argument-error",Fy+" must be true when sending sign in link to email");return Td(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return nt(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return nt(this,this.a.Sa(o).then(function(u){return new Oj(u)}))},e.kb=function(o){return nt(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return nt(this,ne().then(function(){return typeof u>"u"||ys(u)?{}:Td(new Ed(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return nt(this,j0(this,o,u,x(this.ab,this)))},e.Vc=function(o,u){var f=this;return nt(this,ne().then(function(){var d=u||sc(),g=YC(o,d);if(d=zy(d),!d)throw new R("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(g)}))};function Oc(){}Oc.prototype.render=function(){},Oc.prototype.reset=function(){},Oc.prototype.getResponse=function(){},Oc.prototype.execute=function(){};function du(){this.a={},this.b=1e12}var l_=null;du.prototype.render=function(o,u){return this.a[this.b.toString()]=new rp(o,u),this.b++},du.prototype.reset=function(o){var u=c_(this,o);o=LN(o),u&&o&&(u.delete(),delete this.a[o])},du.prototype.getResponse=function(o){return(o=c_(this,o))?o.getResponse():null},du.prototype.execute=function(o){(o=c_(this,o))&&o.execute()};function c_(o,u){return(u=LN(u))&&o.a[u]||null}function LN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function rp(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Zl(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():fr(this.f,"click",this.i)}rp.prototype.getResponse=function(){return f_(this),this.b},rp.prototype.execute=function(){f_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=kj();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},rp.prototype.delete=function(){f_(this),this.g=!0,clearTimeout(this.a),this.a=null,Kn(this.f,"click",this.i)};function f_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function h_(){}J(h_,"FACTOR_ID","phone");function d_(){}d_.prototype.g=function(){return l_||(l_=new du),ne(l_)},d_.prototype.c=function(){};var p_=null;function v_(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var E$=new ii(od,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),T$=new po(3e4,6e4);v_.prototype.g=function(o){var u=this;return new _e(function(f,d){var g=setTimeout(function(){d(new R("network-request-failed"))},T$.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var E=c.grecaptcha.render;c.grecaptcha.render=function(k,L){return k=E(k,L),u.b++,k},clearTimeout(g),f(c.grecaptcha)}else clearTimeout(g),d(new R("internal-error"));delete c[u.a]};var _=Ym(E$,{onload:u.a,hl:o||""});ne(i0(_)).o(function(){clearTimeout(g),d(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(c.grecaptcha)})},v_.prototype.c=function(){this.b--};var g_=null;function m_(o,u,f,d,g,_,E){if(J(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(p_||(p_=new d_),E=p_):(g_||(g_=new v_),E=g_),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[UN])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[I$]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Zl(u)||!this.i&&Zl(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Fr(o,_||null,g||null),this.u=d||function(){return null};var k=this;this.l=[];var L=this.a[MN];this.a[MN]=function(se){if(jN(k,se),typeof L=="function")L(se);else if(typeof L=="string"){var Pe=We(L,c);typeof Pe=="function"&&Pe(se)}};var F=this.a[FN];this.a[FN]=function(){if(jN(k,null),typeof F=="function")F();else if(typeof F=="string"){var se=We(F,c);typeof se=="function"&&se()}}}var MN="callback",FN="expired-callback",UN="sitekey",I$="size";function jN(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function S$(o,u){Or(o.l,function(f){return f==u})}function y_(o,u){return o.h.push(u),u.oa(function(){id(o.h,u)}),u}e=m_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=y_(this,ne().then(function(){if(_d()&&!Lr())return yd();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,we(o.s,WV,{})}).then(function(u){o.a[UN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){ip(this);var o=this;return y_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Zl(u);u=Y3("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){ip(this);var o=this;return y_(this,this.render().then(function(u){return new _e(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var g=function(_){_&&(S$(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){ip(this),this.c!==null&&this.g.reset(this.c)};function ip(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){ip(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Zl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function __(o,u,f){var d=!1;try{this.b=f||ee.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=ee.SDK_VERSION?eu(ee.SDK_VERSION,_):null,m_.call(this,f,o,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},_,ps(Ri),d)}M(__,m_);function VN(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,E=0;E<u.length;E++)if(u[E].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)d="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=BN.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=BN[g],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new R("argument-error",o+" failed: "+d)}var BN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function X(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function w_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function ht(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:b}}function pu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function fi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function b$(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function C$(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof jr)}}}function k$(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ee.app.App)}}}function yo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function $N(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function vu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function E_(o,u){return b(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function qN(o){return b(o)&&typeof o.uid=="string"}function op(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function at(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(g){return o.M(g)||u.M(g)}}}function Ye(o,u){for(var f in u){var d=u[f].name;o[d]=WN(d,o[f],u[f].j)}}function zN(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:B(function(g){return this[g]},f),set:B(function(g,_,E,k){VN(g,[E],[k],!0),this[_]=k},d,f,u[f].lb),enumerable:!0})}}function ut(o,u,f,d){o[u]=WN(u,f,d)}function WN(o,u,f){function d(){var E=Array.prototype.slice.call(arguments);return VN(g,f,E),u.apply(this,E)}if(!f)return u;var g=N$(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function N$(o){return o=o.split("."),o[o.length-1]}Ye(jr.prototype,{kb:{name:"applyActionCode",j:[X("code")]},Sa:{name:"checkActionCode",j:[X("code")]},ob:{name:"confirmPasswordReset",j:[X("code"),X("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[X("email"),X("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[X("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[X("emailLink")]},Hc:{name:"onAuthStateChanged",j:[at(ht(),pu(),"nextOrObserver"),pu("opt_error",!0),pu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[at(ht(),pu(),"nextOrObserver"),pu("opt_error",!0),pu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[X("email"),at(ht("opt_actionCodeSettings",!0),fi(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[X("email"),ht("actionCodeSettings")]},yb:{name:"setPersistence",j:[X("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[yo()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[yo()]},Tc:{name:"signInWithCustomToken",j:[X("token")]},Uc:{name:"signInWithEmailAndPassword",j:[X("email"),X("password")]},Vc:{name:"signInWithEmailLink",j:[X("email"),X("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[X("phoneNumber"),op()]},Xc:{name:"signInWithPopup",j:[vu()]},Yc:{name:"signInWithRedirect",j:[vu()]},dd:{name:"updateCurrentUser",j:[at(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Qn)}}}(),fi(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[X(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[X("url"),ht("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[X("code")]}}),zN(jr.prototype,{lc:{name:"languageCode",lb:at(X(),fi(),"languageCode")},ti:{name:"tenantId",lb:at(X(),fi(),"tenantId")}}),jr.Persistence=au,jr.Persistence.LOCAL="local",jr.Persistence.SESSION="session",jr.Persistence.NONE="none",Ye(Qn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[w_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[w_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[yo()]},rb:{name:"linkWithCredential",j:[yo()]},Dc:{name:"linkWithPhoneNumber",j:[X("phoneNumber"),op()]},Ec:{name:"linkWithPopup",j:[vu()]},Fc:{name:"linkWithRedirect",j:[vu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[yo()]},ub:{name:"reauthenticateWithCredential",j:[yo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[X("phoneNumber"),op()]},Nc:{name:"reauthenticateWithPopup",j:[vu()]},Oc:{name:"reauthenticateWithRedirect",j:[vu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[at(ht("opt_actionCodeSettings",!0),fi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[X(null,!0)]},cd:{name:"unlink",j:[X("provider")]},Cb:{name:"updateEmail",j:[X("email")]},Db:{name:"updatePassword",j:[X("password")]},ed:{name:"updatePhoneNumber",j:[yo("phone")]},Eb:{name:"updateProfile",j:[ht("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[X("email"),at(ht("opt_actionCodeSettings",!0),fi(null,!0),"opt_actionCodeSettings",!0)]}}),Ye(du.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ye(Oc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ye(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),zN(cN.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:w_("appVerificationDisabledForTesting")}}),Ye(U0.prototype,{confirm:{name:"confirm",j:[X("verificationCode")]}}),ut(ru,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[Xj,Jj,Zj,Yj],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[at(X(),ht(),"json")]),ut(dr,"credential",function(o,u){return new vo(o,u)},[X("email"),X("password")]),Ye(vo.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Ye(As.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),ut(As,"credential",HC,[at(X(),ht(),"token")]),ut(dr,"credentialWithLink",YC,[X("email"),X("emailLink")]),Ye(Rs.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),ut(Rs,"credential",KC,[at(X(),ht(),"token")]),Ye(Ps.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),ut(Ps,"credential",GC,[at(X(),at(ht(),fi()),"idToken"),at(X(),fi(),"accessToken",!0)]),Ye(ou.prototype,{Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),ut(ou,"credential",QC,[at(X(),ht(),"token"),X("secret",!0)]),Ye(Gn.prototype,{Ca:{name:"addScope",j:[X("scope")]},credential:{name:"credential",j:[at(X(),at(ht(),fi()),"optionsOrIdToken"),at(X(),fi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ht("customOAuthParameters")]}}),Ye(Oi.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Ye(ks.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),ut(Di,"credential",XC,[X("verificationId"),X("verificationCode")]),Ye(Di.prototype,{gb:{name:"verifyPhoneNumber",j:[at(X(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?E_(f.session,dc)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?E_(f.session,kd)&&qN(f.multiFactorHint):f.session&&f.multiFactorUid?E_(f.session,kd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),op()]}}),Ye(go.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Ye(R.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ye(vc.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ye(Gy.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ye(B0.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ye(V0.prototype,{Rc:{name:"resolveSignIn",j:[$N()]}}),Ye(q0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[$N(),X("displayName",!0)]},bd:{name:"unenroll",j:[at({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:qN},X(),"multiFactorInfoIdentifier")]}}),Ye(__.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ut(My,"parseLink",NC,[X("link")]),ut(h_,"assertion",function(o){return new vN(o)},[yo("phone")]),function(){if(typeof ee<"u"&&ee.INTERNAL&&ee.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ly,VERIFY_AND_CHANGE_EMAIL:fc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:jr,AuthCredential:ru,Error:R};ut(o,"EmailAuthProvider",dr,[]),ut(o,"FacebookAuthProvider",As,[]),ut(o,"GithubAuthProvider",Rs,[]),ut(o,"GoogleAuthProvider",Ps,[]),ut(o,"TwitterAuthProvider",ou,[]),ut(o,"OAuthProvider",Gn,[X("providerId")]),ut(o,"SAMLAuthProvider",WC,[X("providerId")]),ut(o,"PhoneAuthProvider",Di,[C$()]),ut(o,"RecaptchaVerifier",__,[at(X(),b$(),"recaptchaContainer"),ht("recaptchaParameters",!0),k$()]),ut(o,"ActionCodeURL",My,[]),ut(o,"PhoneMultiFactorGenerator",h_,[]),ee.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new jr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),ee.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:x(u.getUid,u),getToken:x(u.nc,u),addAuthTokenListener:x(u.cc,u),removeAuthTokenListener:x(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ee.registerVersion("@firebase/auth","0.16.8"),ee.INTERNAL.extendNamespace({User:Qn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var KW="@firebase/database",GW="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL="";function BL(e){VL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QW=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),It(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Wf(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YW=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return sr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new QW(t)}}catch{}return new YW},Qs=$L("localStorage"),PE=$L("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=new Pa("@firebase/database"),qL=function(){var e=1;return function(){return e++}}(),zL=function(e){var t=pW(e),n=new cW;n.update(t);var r=n.digest();return Bg.encodeByteArray(r)},Ch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Ch.apply(null,i):typeof i=="object"?n+=It(i):n+=i,n+=" "}return n},oa=null,dR=!0,WL=function(e,t){$(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Wu.logLevel=ye.VERBOSE,oa=Wu.log.bind(Wu),t&&PE.set("logging_enabled",!0)):typeof e=="function"?oa=e:(oa=null,PE.remove("logging_enabled"))},Ot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(dR===!0&&(dR=!1,oa===null&&PE.get("logging_enabled")===!0&&WL(!0)),oa){var n=Ch.apply(null,e);oa(n)}},kh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Ot.apply(void 0,pe([e],Ht(t)))}},xE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Ch.apply(void 0,pe([],Ht(e)));Wu.error(n)},Si=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Ch.apply(void 0,pe([],Ht(e)));throw Wu.error(n),new Error(n)},Qt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Ch.apply(void 0,pe([],Ht(e)));Wu.warn(n)},XW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},JW=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},eo="[MIN_NAME]",bi="[MAX_NAME]",xa=function(e,t){if(e===t)return 0;if(e===eo||t===bi)return-1;if(t===eo||e===bi)return 1;var n=Ov(e),r=Ov(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},ZW=function(e,t){return e===t?0:e<t?-1:1},$c=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+It(t))},VI=function(e){if(typeof e!="object"||e===null)return It(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=It(t[i]),r+=":",r+=VI(e[t[i]]);return r+="}",r},HL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Nt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var KL=function(e){$(!qg(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),v="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},eH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nH(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var rH=new RegExp("^-?(0*)\\d{1,10}$"),GL=-2147483648,BI=2147483647,Ov=function(e){if(rH.test(e)){var t=Number(e);if(t>=GL&&t<=BI)return t}return null},Ll=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Qt("Exception was thrown by user callback.",n),t},Math.floor(0))}},iH=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ff=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oH=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Qt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sH=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qt(t)},e}(),hf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $I="5",QL="v",YL="s",XL="r",JL="f",ZL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e2="ls",aH="p",OE="ac",t2="websocket",n2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qI=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qs.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Qs.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function uH(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function r2(e,t,n){$(typeof t=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");var r;if(t===t2)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===n2)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);uH(e)&&(n.ns=e.namespace);var i=[];return Nt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lH=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),sr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return RL(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X_={},J_={};function zI(e){var t=e.toString();return X_[t]||(X_[t]=new lH),X_[t]}function cH(e,t){var n=e.toString();return J_[n]||(J_[n]=t()),J_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fH=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&Ll(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pR="start",hH="close",dH="pLPCommand",pH="pRTLPCB",i2="id",o2="pw",s2="ser",vH="cb",gH="seg",mH="ts",yH="d",_H="dframe",a2=1870,u2=30,wH=a2-u2,EH=25e3,TH=3e4,WI=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kh(t),this.stats_=zI(n),this.urlFn=function(h){return c.appCheckToken&&(h[OE]=c.appCheckToken),r2(n,n2,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fH(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(TH)),JW(function(){if(!r.isClosed_){r.scriptTagHolder=new IH(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Ht(a,5),h=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===pR)r.id=p,r.password=v;else if(h===hH)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Ht(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[pR]="t",i[s2]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[vH]=r.scriptTagHolder.uniqueCallbackIdentifier),i[QL]=$I,r.transportSessionId&&(i[YL]=r.transportSessionId),r.lastSessionId&&(i[e2]=r.lastSessionId),r.applicationId&&(i[aH]=r.applicationId),r.appCheckToken&&(i[OE]=r.appCheckToken),typeof location<"u"&&location.hostname&&ZL.test(location.hostname)&&(i[XL]=JL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eH()&&!tH()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=It(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=AL(n),i=HL(r,wH),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[_H]="t",r[i2]=t,r[o2]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=It(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),IH=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qL(),window[dH+this.uniqueCallbackIdentifier]=t,window[pH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Ot("frame writing exception"),c.stack&&Ot(c.stack),Ot(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Ot("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[i2]=this.myID,t[o2]=this.myPW,t[s2]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+u2+r.length<=a2){var a=this.pendingSegs.shift();r=r+"&"+gH+i+"="+a.seg+"&"+mH+i+"="+a.ts+"&"+yH+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(EH)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Ot("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SH=16384,bH=45e3,Dv=null;typeof MozWebSocket<"u"?Dv=MozWebSocket:typeof WebSocket<"u"&&(Dv=WebSocket);var zs=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kh(this.connId),this.stats_=zI(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[QL]=$I,typeof location<"u"&&location.hostname&&ZL.test(location.hostname)&&(s[XL]=JL),n&&(s[YL]=n),r&&(s[e2]=r),i&&(s[OE]=i),r2(t,t2,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qs.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!OL()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Dv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Dv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Qs.isInMemoryStorage||Qs.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Qs.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Wf(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if($(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=It(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=HL(n,SH);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(bH))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CH=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[WI,zs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=zs&&zs.isAvailable(),s=i&&!zs.previouslyFailed();if(t.webSocketOnly&&(i||Qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[zs];else{var a=this.transports_=[];try{for(var l=Ut(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kH=6e4,NH=5e3,AH=10*1024,RH=100*1024,Z_="t",vR="d",PH="s",gR="r",xH="e",mR="o",yR="a",_R="n",wR="p",OH="h",l2=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kh("c:"+this.id+":"),this.transportManager_=new CH(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=ff(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>RH?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>AH?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(Z_ in t){var n=t[Z_];n===yR?this.upgradeIfSecondaryHealthy_():n===gR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=$c("t",t),r=$c("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_R,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=$c("t",t),r=$c("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=$c(Z_,t);if(vR in t){var r=t[vR];if(n===OH)this.onHandshake_(r);else if(n===_R){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===PH?this.onConnectionShutdown_(r):n===gR?this.onReset_(r):n===xH?xE("Server Error: "+r):n===mR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xE("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$I!==r&&Qt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),ff(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(kH))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ff(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(NH))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c2=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f2=function(){function e(t){this.allowedEvents_=t,this.listeners_={},$(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=pe([],Ht(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){$(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ER=function(e){H(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!DI()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(f2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TR=32,IR=768,Re=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Ne(){return new Re("")}function ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Jo(e){return e.pieces_.length-e.pieceNum_}function Me(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Re(e.pieces_,t)}function HI(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function DH(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Hf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function h2(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Re(t,0)}function Ge(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Re)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Re(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function bn(e,t){var n=ve(e),r=ve(t);if(n===null)return t;if(n===r)return bn(Me(e),Me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function LH(e,t){for(var n=Hf(e,0),r=Hf(t,0),i=0;i<n.length&&i<r.length;i++){var s=xa(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function KI(e,t){if(Jo(e)!==Jo(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function yr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Jo(e)>Jo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var MH=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Hf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=$g(this.parts_[r]);d2(this)}return e}();function FH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$g(t),d2(e)}function UH(e){var t=e.parts_.pop();e.byteLength_-=$g(t),e.parts_.length>0&&(e.byteLength_-=1)}function d2(e){if(e.byteLength_>IR)throw new Error(e.errorPrefix_+"has a key path longer than "+IR+" bytes ("+e.byteLength_+").");if(e.parts_.length>TR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+TR+") or object contains a cycle "+$s(e))}function $s(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jH=function(e){H(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="visible","Unknown event type: "+n),[this.visible_]},t}(f2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=1e3,VH=60*5*1e3,BH=3*1e3,SR=30*1e3,$H=1.3,qH=3e4,zH="server_kill",bR=3,sa=function(e){H(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=kh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=qc,p.maxReconnectDelay_=VH,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!OL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return jH.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&ER.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(It(a)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Lt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},BH),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,v=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&sr(n,"w")){var i=ma(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Qt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||uW(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=SR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=aW(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+It(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):xE("Unrecognized action received from server: "+It(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>qH&&(this.reconnectDelay_=qc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$H)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,T,b=this;return N(this,function(I){switch(I.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(S){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(S)},this.realtime_={close:h,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=Ht.apply(void 0,[I.sent(),2]),y=m[0],w=m[1],l?Ot("getToken() completed but was canceled"):(Ot("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new l2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(S){Qt(S+" ("+b.repoInfo_.toString()+")"),b.interrupt(zH)},a)),[3,4];case 3:return T=I.sent(),this.log_("Failed to get token: "+T),l||(this.repoInfo_.nodeAdmin&&Qt(T),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Ot("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Ot("Resuming connection for reason: "+n),delete this.interruptReasons_[n],AE(this.interruptReasons_)&&(this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return VI(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Re(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Ot("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bR&&(this.reconnectDelay_=SR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Ot("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Ut(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,Ut(c.values())),p=h.next();!p.done;p=h.next()){var v=p.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+VL.replace(/\./g,"-")]=1,DI()?n["framework.cordova"]=1:xL()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=ER.getInstance().currentlyOnline();return AE(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(c2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Te(eo,t),i=new Te(eo,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Te.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ip,p2=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ip},set:function(n){Ip=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return xa(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Ol("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(bi,Ip)},t.prototype.makePost=function(n,r){return $(typeof n=="string","KeyIndex indexValue must always be a string."),new Te(n,Ip)},t.prototype.toString=function(){return".key"},t}(zg),_i=new p2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Hr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??qi.EMPTY_NODE,this.right=s??qi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return qi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return qi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),WH=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Hr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),qi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Hr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Hr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Sp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Sp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Sp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Sp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new WH,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(e,t){return xa(e.name,t.name)}function GI(e,t){return xa(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DE;function KH(e){DE=e}var v2=function(e){return typeof e=="number"?"number:"+KL(e):"string:"+e},g2=function(e){if(e.isLeafNode()){var t=e.val();$(typeof t=="string"||typeof t=="number"||typeof t=="object"&&sr(t,".sv"),"Priority must be a string or number.")}else $(e===DE||e.isEmpty(),"priority of unexpected type.");$(e===DE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CR,il=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),g2(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return CR},set:function(t){CR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ge(t)?this:ve(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ve(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Jo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+v2(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=KL(this.value_):t+=this.value_,this.lazyHash_=zL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m2,y2;function GH(e){m2=e}function QH(e){y2=e}var YH=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?xa(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(bi,new il("[PRIORITY-POST]",y2))},t.prototype.makePost=function(n,r){var i=m2(n);return new Te(r,new il("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(zg),je=new YH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XH=Math.log(2),JH=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/XH,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Lv=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,v,m;if(p===0)return null;if(p===1)return v=e[c],m=n?n(v):v,new Hr(m,v.node,Hr.BLACK,null,null);var y=parseInt(p/2,10)+c,w=i(c,y),T=i(y+1,h);return v=e[y],m=n?n(v):v,new Hr(m,v.node,Hr.BLACK,w,T)},s=function(c){for(var h=null,p=null,v=e.length,m=function(I,S){var C=v-I,P=v;v-=I;var D=i(C+1,P),x=e[C],B=n?n(x):x;y(new Hr(B,x.node,S,null,D))},y=function(I){h?(h.left=I,h=I):(p=I,h=I)},w=0;w<c.count;++w){var T=c.nextBitIsOne(),b=Math.pow(2,c.count-(w+1));T?m(b,Hr.BLACK):(m(b,Hr.BLACK),m(b,Hr.RED))}return p},a=new JH(e.length),l=s(a);return new qi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ew,mu={},Mv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return $(mu&&je,"ChildrenNode.ts has not been loaded"),ew=ew||new e({".priority":mu},{".priority":je}),ew},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=ma(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof qi?n:null},e.prototype.hasIndex=function(t){return sr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){$(t!==_i,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Te.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=Lv(r,t.getCompare()):l=mu;var c=t.toString(),h=re({},this.indexSet_);h[c]=t;var p=re({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Pv(this.indexes_,function(s,a){var l=ma(r.indexSet_,a);if($(l,"Missing index implementation for "+a),s===mu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Te.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),Lv(c,l.getCompare())}else return mu;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new Te(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Pv(this.indexes_,function(i){if(i===mu)return i;var s=n.get(t.name);return s?i.remove(new Te(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc,fe=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&g2(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return zc||(zc=new e(new qi(GI),null,Mv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||zc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?zc:n},e.prototype.getChild=function(t){var n=ve(t);return n===null?this:this.getImmediateChild(n).getChild(Me(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if($(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Te(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?zc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ve(t);if(r===null)return n;$(ve(t)!==".priority"||Jo(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Me(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(je,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+v2(this.getPriority().val())+":"),this.forEachChild(je,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":zL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Te(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Nh?-1:0},e.prototype.withIndex=function(t){if(t===_i||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===_i||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(je),i=n.getIterator(je),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===_i?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ZH=function(e){H(t,e);function t(){return e.call(this,new qi(GI),fe.EMPTY_NODE,Mv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return fe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(fe),Nh=new ZH;Object.defineProperties(Te,{MIN:{value:new Te(eo,fe.EMPTY_NODE)},MAX:{value:new Te(bi,Nh)}});p2.__EMPTY_NODE=fe.EMPTY_NODE;il.__childrenNodeConstructor=fe;KH(Nh);QH(Nh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eK=!0;function Je(e,t){if(t===void 0&&(t=null),e===null)return fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),$(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new il(n,Je(t))}if(!(e instanceof Array)&&eK){var r=[],i=!1,s=e;if(Nt(s,function(h,p){if(h.substring(0,1)!=="."){var v=Je(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Te(h,v)))}}),r.length===0)return fe.EMPTY_NODE;var a=Lv(r,HH,function(h){return h.name},GI);if(i){var l=Lv(r,je.getCompare());return new fe(a,Je(t),new Mv({".priority":l},{".priority":je}))}else return new fe(a,Je(t),Mv.Default)}else{var c=fe.EMPTY_NODE;return Nt(e,function(h,p){if(sr(e,h)&&h.substring(0,1)!=="."){var v=Je(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(Je(t))}}GH(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QI=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,$(!ge(n)&&ve(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?xa(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Je(n),s=fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(r,s)},t.prototype.maxPost=function(){var n=fe.EMPTY_NODE.updateChild(this.indexPath_,Nh);return new Te(bi,n)},t.prototype.toString=function(){return Hf(this.indexPath_,0).join("/")},t}(zg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tK=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?xa(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return Te.MAX},t.prototype.makePost=function(n,r){var i=Je(n);return new Te(r,i)},t.prototype.toString=function(){return".value"},t}(zg),YI=new tK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ol="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LE="-",_2="z",w2=786,nK=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=ol.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=ol.charAt(t[i]);return $(a.length===20,"nextPushId: Length should be 20."),a}}(),kR=function(e){if(e===""+BI)return LE;var t=Ov(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<w2)return n.push(LE),n.join("");for(var i=n.length-1;i>=0&&n[i]===_2;)i--;if(i===-1)return bi;var s=n[i],a=ol.charAt(ol.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},NR=function(e){if(e===""+GL)return eo;var t=Ov(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===LE?n.length===1?""+BI:(delete n[n.length-1],n.join("")):(n[n.length-1]=ol.charAt(ol.indexOf(n[n.length-1])-1),n.join("")+_2.repeat(w2-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(e){return{type:"value",snapshotNode:e}}function sl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Kf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Gf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function rK(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XI=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){$(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Kf(n,l)):$(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(sl(n,r)):a.trackChildChange(Gf(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(je,function(i,s){n.hasChild(i)||r.trackChildChange(Kf(i,s))}),n.isLeafNode()||n.forEachChild(je,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Gf(i,s,a))}else r.trackChildChange(sl(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?fe.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T2=function(){function e(t){this.indexedFilter_=new XI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Te(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);var s=this;return n.forEachChild(je,function(a,l){s.matches(new Te(a,l))||(i=i.updateImmediateChild(a,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iK=function(){function e(t){this.rangedFilter_=new T2(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Te(n,r))||(r=fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);var h=void 0,p=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(b,I){return m(I,b)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(S,C){return l(C,S)}}else a=this.index_.getCompare();var c=t;$(c.numChildren()===this.limit_,"");var h=new Te(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),T=v&&!r.isEmpty()&&w>=0;if(T)return s!=null&&s.trackChildChange(Gf(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Kf(n,m));var b=c.updateImmediateChild(n,fe.EMPTY_NODE),I=y!=null&&this.rangedFilter_.matches(y);return I?(s!=null&&s.trackChildChange(sl(y.name,y.node)),b.updateImmediateChild(y.name,y.node)):b}else return r.isEmpty()?t:v&&a(p,h)>=0?(s!=null&&(s.trackChildChange(Kf(p.name,p.node)),s.trackChildChange(sl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,fe.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I2=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eo},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===je},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function oK(e){return e.loadsAllData()?new XI(e.getIndex()):e.hasLimit()?new iK(e):new T2(e)}function sK(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function aK(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function ME(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function uK(e,t,n){var r;if(e.index_===_i)typeof t=="string"&&(t=kR(t)),r=ME(e,t,n);else{var i=void 0;n==null?i=bi:i=kR(n),r=ME(e,t,i)}return r.startAfterSet_=!0,r}function FE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function lK(e,t,n){var r,i;return e.index_===_i?(typeof t=="string"&&(t=NR(t)),i=FE(e,t,n)):(n==null?r=eo:r=NR(n),i=FE(e,t,r)),i.endBeforeSet_=!0,i}function Wg(e,t){var n=e.copy();return n.index_=t,n}function AR(e){var t={};if(e.isDefault())return t;var n;return e.index_===je?n="$priority":e.index_===YI?n="$value":e.index_===_i?n="$key":($(e.index_ instanceof QI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=It(n),e.startSet_&&(t.startAt=It(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+It(e.indexStartName_))),e.endSet_&&(t.endAt=It(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+It(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function RR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==je&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cK=function(e){H(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=kh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:($(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=AR(n._queryParams);this.restRequest_(l+".json",p,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),ma(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=AR(n._queryParams),s=n._path.toString(),a=new Lt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Ht(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+lW(r);s.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=Wf(v.responseText)}catch{Qt("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&Qt("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},t}(c2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fK=function(){function e(){this.rootNode_=fe.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){return{value:null,children:new Map}}function Ml(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ve(t);e.children.has(r)||e.children.set(r,Fv());var i=e.children.get(r);t=Me(t),Ml(i,t,n)}}function UE(e,t){if(ge(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(je,function(s,a){Ml(e,new Re(s),a)}),UE(e,t)}else if(e.children.size>0){var r=ve(t);if(t=Me(t),e.children.has(r)){var i=UE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function jE(e,t,n){e.value!==null?n(t,e.value):hK(e,function(r,i){var s=new Re(t.toString()+"/"+r);jE(i,s,n)})}function hK(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S2=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=re({},t);return this.last_&&Nt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PR=10*1e3,dK=30*1e3,pK=5*60*1e3,vK=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new S2(t);var r=PR+(dK-PR)*Math.random();ff(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Nt(n,function(s,a){a>0&&sr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),ff(this.reportStats_.bind(this),Math.floor(Math.random()*2*pK))},e}();function gK(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qr||(Qr={}));function JI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ZI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function eS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mK=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Qr.ACK_USER_WRITE,this.source=JI()}return e.prototype.operationForChild=function(t){if(ge(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Re(t));return new e(Ne(),n,this.revert)}else return $(ve(this.path)===t,"operationForChild called for unrelated child."),new e(Me(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b2=function(){function e(t,n){this.source=t,this.path=n,this.type=Qr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,Ne()):new e(this.source,Me(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hg=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Qr.OVERWRITE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,Ne(),this.snap.getImmediateChild(t)):new e(this.source,Me(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tS=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Qr.MERGE}return e.prototype.operationForChild=function(t){if(ge(this.path)){var n=this.children.subtree(new Re(t));return n.isEmpty()?null:n.value?new Hg(this.source,Ne(),n.value):new e(this.source,Ne(),n)}else return $(ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Me(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zo=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(ge(t))return this.isFullyInitialized()&&!this.filtered_;var n=ve(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yK=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function _K(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(rK(a.childName,a.snapshotNode))}),Wc(e,i,"child_removed",t,r,n),Wc(e,i,"child_added",t,r,n),Wc(e,i,"child_moved",s,r,n),Wc(e,i,"child_changed",t,r,n),Wc(e,i,"value",t,r,n),i}function Wc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return EK(e,l,c)}),a.forEach(function(l){var c=wK(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function wK(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function EK(e,t,n){if(t.childName==null||n.childName==null)throw Ol("Should only compare child_ events.");var r=new Te(t.childName,t.snapshotNode),i=new Te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(e,t){return{eventCache:e,serverCache:t}}function df(e,t,n,r){return Kg(new Zo(t,n,r),e.serverCache)}function C2(e,t,n,r){return Kg(e.eventCache,new Zo(t,n,r))}function Uv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ya(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tw,TK=function(){return tw||(tw=new qi(ZW)),tw},ar=function(){function e(t,n){n===void 0&&(n=TK()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Nt(t,function(r,i){n=n.set(new Re(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(ge(t))return null;var r=ve(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Me(t),n);if(s!=null){var a=Ge(new Re(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(ge(t))return this;var n=ve(t),r=this.children.get(n);return r!==null?r.subtree(Me(t)):new e(null)},e.prototype.set=function(t,n){if(ge(t))return new e(n,this.children);var r=ve(t),i=this.children.get(r)||new e(null),s=i.set(Me(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(ge(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ve(t),r=this.children.get(n);if(r){var i=r.remove(Me(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(ge(t))return this.value;var n=ve(t),r=this.children.get(n);return r?r.get(Me(t)):null},e.prototype.setTree=function(t,n){if(ge(t))return n;var r=ve(t),i=this.children.get(r)||new e(null),s=i.setTree(Me(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Ne(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Ge(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Ne(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(ge(t))return null;var s=ve(t),a=this.children.get(s);return a?a.findOnPath_(Me(t),Ge(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Ne(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(ge(t))return this;this.value&&r(n,this.value);var i=ve(t),s=this.children.get(i);return s?s.foreachOnPath_(Me(t),Ge(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Ne(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ge(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new ar(null))},e}();function pf(e,t,n){if(ge(t))return new Ki(new ar(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=bn(i,t);return s=s.updateChild(a,n),new Ki(e.writeTree_.set(i,s))}else{var l=new ar(n),c=e.writeTree_.setTree(t,l);return new Ki(c)}}function VE(e,t,n){var r=e;return Nt(n,function(i,s){r=pf(r,Ge(t,i),s)}),r}function xR(e,t){if(ge(t))return Ki.empty();var n=e.writeTree_.setTree(t,new ar(null));return new Ki(n)}function BE(e,t){return Oa(e,t)!=null}function Oa(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(bn(n.path,t)):null}function OR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,function(r,i){t.push(new Te(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Te(r,i.value))}),t}function Wo(e,t){if(ge(t))return e;var n=Oa(e,t);return n!=null?new Ki(new ar(n)):new Ki(e.writeTree_.subtree(t))}function $E(e){return e.writeTree_.isEmpty()}function al(e,t){return k2(Ne(),e.writeTree_,t)}function k2(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=k2(Ge(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ge(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(e,t){return P2(t,e)}function IK(e,t,n,r,i){$(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=pf(e.visibleWrites,t,n)),e.lastWriteId=r}function SK(e,t,n,r){$(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=VE(e.visibleWrites,t,n),e.lastWriteId=r}function bK(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function CK(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});$(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&kK(l,r.path)?i=!1:yr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return NK(e),!0;if(r.snap)e.visibleWrites=xR(e.visibleWrites,r.path);else{var c=r.children;Nt(c,function(h){e.visibleWrites=xR(e.visibleWrites,Ge(r.path,h))})}return!0}else return!1}function kK(e,t){if(e.snap)return yr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&yr(Ge(e.path,n),t))return!0;return!1}function NK(e){e.visibleWrites=N2(e.allWrites,AK,Ne()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function AK(e){return e.visible}function N2(e,t,n){for(var r=Ki.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)yr(n,a)?(l=bn(n,a),r=pf(r,l,s.snap)):yr(a,n)&&(l=bn(a,n),r=pf(r,Ne(),s.snap.getChild(l)));else if(s.children){if(yr(n,a))l=bn(n,a),r=VE(r,l,s.children);else if(yr(a,n))if(l=bn(a,n),ge(l))r=VE(r,Ne(),s.children);else{var c=ma(s.children,ve(l));if(c){var h=c.getChild(Me(l));r=pf(r,Ne(),h)}}}else throw Ol("WriteRecord should have .snap or .children")}}return r}function A2(e,t,n,r,i){if(!r&&!i){var s=Oa(e.visibleWrites,t);if(s!=null)return s;var a=Wo(e.visibleWrites,t);if($E(a))return n;if(n==null&&!BE(a,Ne()))return null;var l=n||fe.EMPTY_NODE;return al(a,l)}else{var c=Wo(e.visibleWrites,t);if(!i&&$E(c))return n;if(!i&&n==null&&!BE(c,Ne()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(yr(m.path,t)||yr(t,m.path))},p=N2(e.allWrites,h,t),l=n||fe.EMPTY_NODE;return al(p,l)}}function RK(e,t,n){var r=fe.EMPTY_NODE,i=Oa(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(je,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Wo(e.visibleWrites,t);return n.forEachChild(je,function(l,c){var h=al(Wo(s,new Re(l)),c);r=r.updateImmediateChild(l,h)}),OR(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Wo(e.visibleWrites,t);return OR(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function PK(e,t,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Ge(t,n);if(BE(e.visibleWrites,s))return null;var a=Wo(e.visibleWrites,s);return $E(a)?i.getChild(n):al(a,i.getChild(n))}function xK(e,t,n,r){var i=Ge(t,n),s=Oa(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Wo(e.visibleWrites,i);return al(a,r.getNode().getImmediateChild(n))}else return null}function OK(e,t){return Oa(e.visibleWrites,t)}function DK(e,t,n,r,i,s,a){var l,c=Wo(e.visibleWrites,t),h=Oa(c,Ne());if(h!=null)l=h;else if(n!=null)l=al(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],v=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)v(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function LK(){return{visibleWrites:Ki.empty(),allWrites:[],lastWriteId:-1}}function jv(e,t,n,r){return A2(e.writeTree,e.treePath,t,n,r)}function nS(e,t){return RK(e.writeTree,e.treePath,t)}function DR(e,t,n,r){return PK(e.writeTree,e.treePath,t,n,r)}function Vv(e,t){return OK(e.writeTree,Ge(e.treePath,t))}function MK(e,t,n,r,i,s){return DK(e.writeTree,e.treePath,t,n,r,i,s)}function rS(e,t,n){return xK(e.writeTree,e.treePath,t,n)}function R2(e,t){return P2(Ge(e.treePath,t),e.writeTree)}function P2(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FK=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Gf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Kf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,sl(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Gf(r,t.snapshotNode,i.oldSnap));else throw Ol("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UK=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),x2=new UK,iS=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Zo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rS(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ya(this.viewCache_),s=MK(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(e){return{filter:e}}function VK(e,t){$(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),$(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function BK(e,t,n,r,i){var s=new FK,a,l;if(n.type===Qr.OVERWRITE){var c=n;c.source.fromUser?a=qE(e,t,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!ge(c.path),a=Bv(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Qr.MERGE){var h=n;h.source.fromUser?a=qK(e,t,h.path,h.children,r,i,s):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=zE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Qr.ACK_USER_WRITE){var p=n;p.revert?a=HK(e,t,p.path,r,i,s):a=zK(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===Qr.LISTEN_COMPLETE)a=WK(e,t,n.path,r,s);else throw Ol("Unknown operation type: "+n.type);var v=s.getChanges();return $K(t,a,v),{viewCache:a,changes:v}}function $K(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Uv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(E2(Uv(t)))}}function O2(e,t,n,r,i,s){var a=t.eventCache;if(Vv(r,n)!=null)return t;var l=void 0,c=void 0;if(ge(n))if($(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=ya(t),p=h instanceof fe?h:fe.EMPTY_NODE,v=nS(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=jv(r,ya(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=ve(n);if(y===".priority"){$(Jo(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var T=DR(r,n,w,c);T!=null?l=e.filter.updatePriority(w,T):l=a.getNode()}else{var b=Me(n),I=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var S=DR(r,n,a.getNode(),c);S!=null?I=a.getNode().getImmediateChild(y).updateChild(b,S):I=a.getNode().getImmediateChild(y)}else I=rS(r,y,t.serverCache);I!=null?l=e.filter.updateChild(a.getNode(),y,I,b,i,s):l=a.getNode()}}return df(t,l,a.isFullyInitialized()||ge(n),e.filter.filtersNodes())}function Bv(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(ge(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),v,null)}else{var m=ve(n);if(!c.isCompleteForPath(n)&&Jo(n)>1)return t;var y=Me(n),w=c.getNode().getImmediateChild(m),T=w.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),T):h=p.updateChild(c.getNode(),m,T,y,x2,null)}var b=C2(t,h,c.isFullyInitialized()||ge(n),p.filtersNodes()),I=new iS(i,b,s);return O2(e,b,n,i,I,l)}function qE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new iS(i,t,s);if(ge(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=df(t,h,!0,e.filter.filtersNodes());else{var v=ve(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=df(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=Me(n),y=l.getNode().getImmediateChild(v),w=void 0;if(ge(m))w=r;else{var T=p.getCompleteChild(v);T!=null?HI(m)===".priority"&&T.getChild(h2(m)).isEmpty()?w=T:w=T.updateChild(m,r):w=fe.EMPTY_NODE}if(y.equals(w))c=t;else{var b=e.filter.updateChild(l.getNode(),v,w,m,p,a);c=df(t,b,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function LR(e,t){return e.eventCache.isCompleteForChild(t)}function qK(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Ge(n,c);LR(t,ve(p))&&(l=qE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Ge(n,c);LR(t,ve(p))||(l=qE(e,l,p,h,i,s,a))}),l}function MR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function zE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;ge(n)?h=r:h=new ar(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(p.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=MR(e,y,m);c=Bv(e,c,new Re(v),w,i,s,a,l)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!p.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),T=MR(e,w,m);c=Bv(e,c,new Re(v),T,i,s,a,l)}}),c}function zK(e,t,n,r,i,s,a){if(Vv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(ge(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Bv(e,t,n,c.getNode().getChild(n),i,s,l,a);if(ge(n)){var h=new ar(null);return c.getNode().forEachChild(_i,function(v,m){h=h.set(new Re(v),m)}),zE(e,t,n,h,i,s,l,a)}else return t}else{var p=new ar(null);return r.foreach(function(v,m){var y=Ge(n,v);c.isCompleteForPath(y)&&(p=p.set(v,c.getNode().getChild(y)))}),zE(e,t,n,p,i,s,l,a)}}function WK(e,t,n,r,i){var s=t.serverCache,a=C2(t,s.getNode(),s.isFullyInitialized()||ge(n),s.isFiltered());return O2(e,a,n,r,x2,i)}function HK(e,t,n,r,i,s){var a;if(Vv(r,n)!=null)return t;var l=new iS(r,t,i),c=t.eventCache.getNode(),h=void 0;if(ge(n)||ve(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=jv(r,ya(t));else{var v=t.serverCache.getNode();$(v instanceof fe,"serverChildren would be complete if leaf node"),p=nS(r,v)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=ve(n),y=rS(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,Me(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,fe.EMPTY_NODE,Me(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=jv(r,ya(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Vv(r,Ne())!=null,df(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KK=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new XI(r.getIndex()),s=oK(r);this.processor_=jK(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(fe.EMPTY_NODE,l.getNode(),null),p=new Zo(c,a.isFullyInitialized(),i.filtersNodes()),v=new Zo(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Kg(v,p),this.eventGenerator_=new yK(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function GK(e){return e.viewCache_.serverCache.getNode()}function QK(e){return Uv(e.viewCache_)}function YK(e,t){var n=ya(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(ve(t)).isEmpty())?n.getChild(t):null}function FR(e){return e.eventRegistrations_.length===0}function XK(e,t){e.eventRegistrations_.push(t)}function UR(e,t,n){var r=[];if(n){$(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function jR(e,t,n,r){t.type===Qr.MERGE&&t.source.queryId!==null&&($(ya(e.viewCache_),"We should always have a full cache before handling merges"),$(Uv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=BK(e.processor_,i,t,n,r);return VK(e.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,D2(e,s.changes,s.viewCache.eventCache.getNode(),null)}function JK(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(je,function(s,a){r.push(sl(s,a))})}return n.isFullyInitialized()&&r.push(E2(n.getNode())),D2(e,r,n.getNode(),t)}function D2(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return _K(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $v,L2=function(){function e(){this.views=new Map}return e}();function ZK(e){$(!$v,"__referenceConstructor has already been defined"),$v=e}function eG(){return $($v,"Reference.ts has not been loaded"),$v}function tG(e){return e.views.size===0}function oS(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return $(l!=null,"SyncTree gave us an op for an invalid query."),jR(l,t,n,r)}else{var c=[];try{for(var h=Ut(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(jR(l,t,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function M2(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=jv(n,i?r:null),c=!1;l?c=!0:r instanceof fe?(l=nS(n,r),c=!1):(l=fe.EMPTY_NODE,c=!1);var h=Kg(new Zo(l,c,!1),new Zo(r,i,!1));return new KK(t,h)}return a}function nG(e,t,n,r,i,s){var a=M2(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),XK(a,n),JK(a,n)}function rG(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=es(e);if(a==="default")try{for(var p=Ut(e.views.entries()),v=p.next();!v.done;v=p.next()){var m=Ht(v.value,2),y=m[0],w=m[1];c=c.concat(UR(w,n,r)),FR(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(T){i={error:T}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(UR(w,n,r)),FR(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!es(e)&&l.push(new(eG())(t._repo,t._path)),{removed:l,events:c}}function F2(e){var t,n,r=[];try{for(var i=Ut(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ho(e,t){var n,r,i=null;try{for(var s=Ut(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||YK(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function U2(e,t){var n=t._queryParams;if(n.loadsAllData())return Qg(e);var r=t._queryIdentifier;return e.views.get(r)}function j2(e,t){return U2(e,t)!=null}function es(e){return Qg(e)!=null}function Qg(e){var t,n;try{for(var r=Ut(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qv;function iG(e){$(!qv,"__referenceConstructor has already been defined"),qv=e}function oG(){return $(qv,"Reference.ts has not been loaded"),qv}var sG=1,VR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new ar(null),this.pendingWriteTree_=LK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function sS(e,t,n,r,i){return IK(e.pendingWriteTree_,t,n,r,i),i?Fl(e,new Hg(JI(),t,n)):[]}function aG(e,t,n,r){SK(e.pendingWriteTree_,t,n,r);var i=ar.fromObject(n);return Fl(e,new tS(JI(),t,i))}function Mo(e,t,n){n===void 0&&(n=!1);var r=bK(e.pendingWriteTree_,t),i=CK(e.pendingWriteTree_,t);if(i){var s=new ar(null);return r.snap!=null?s=s.set(Ne(),!0):Nt(r.children,function(a){s=s.set(new Re(a),!0)}),Fl(e,new mK(r.path,s,n))}else return[]}function Ah(e,t,n){return Fl(e,new Hg(ZI(),t,n))}function uG(e,t,n){var r=ar.fromObject(n);return Fl(e,new tS(ZI(),t,r))}function lG(e,t){return Fl(e,new b2(ZI(),t))}function cG(e,t,n){var r=aS(e,n);if(r){var i=uS(r),s=i.path,a=i.queryId,l=bn(s,t),c=new b2(eS(a),l);return lS(e,s,c)}else return[]}function WE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||j2(s,t))){var l=rG(s,t,n,r);tG(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(S){return S._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(S,C){return es(C)});if(h&&!p){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=pG(v),y=0;y<m.length;++y){var w=m[y],T=w.query,b=$2(e,w);e.listenProvider_.startListening(vf(T),zv(e,T),b.hashFn,b.onComplete)}}if(!p&&c.length>0&&!r)if(h){var I=null;e.listenProvider_.stopListening(vf(t),I)}else c.forEach(function(S){var C=e.queryToTagMap.get(Xg(S));e.listenProvider_.stopListening(vf(S),C)});vG(e,c)}return a}function fG(e,t,n,r){var i=aS(e,r);if(i!=null){var s=uS(i),a=s.path,l=s.queryId,c=bn(a,t),h=new Hg(eS(l),c,n);return lS(e,a,h)}else return[]}function hG(e,t,n,r){var i=aS(e,r);if(i){var s=uS(i),a=s.path,l=s.queryId,c=bn(a,t),h=ar.fromObject(n),p=new tS(eS(l),c,h);return lS(e,a,p)}else return[]}function BR(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(T,b){var I=bn(T,r);i=i||Ho(b,I),s=s||es(b)});var a=e.syncPointTree_.get(r);a?(s=s||es(a),i=i||Ho(a,Ne())):(a=new L2,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=fe.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(T,b){var I=Ho(b,Ne());I&&(i=i.updateImmediateChild(T,I))})}var h=j2(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=Xg(t);$(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=gG();e.queryToTagMap.set(p,v),e.tagToQueryMap.set(v,p)}var m=Gg(e.pendingWriteTree_,r),y=nG(a,t,n,m,i,l);if(!h&&!s){var w=U2(a,t);y=y.concat(mG(e,t,w))}return y}function Yg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=bn(a,t),h=Ho(l,c);if(h)return h});return A2(i,t,s,n,r)}function dG(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var v=bn(h,n);r=r||Ho(p,v)});var i=e.syncPointTree_.get(n);i?r=r||Ho(i,Ne()):(i=new L2,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Zo(r,!0,!1):null,l=Gg(e.pendingWriteTree_,t._path),c=M2(i,t,l,s?a.getNode():fe.EMPTY_NODE,s);return QK(c)}function Fl(e,t){return V2(t,e.syncPointTree_,null,Gg(e.pendingWriteTree_,Ne()))}function V2(e,t,n,r){if(ge(e.path))return B2(e,t,n,r);var i=t.get(Ne());n==null&&i!=null&&(n=Ho(i,Ne()));var s=[],a=ve(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=R2(r,a);s=s.concat(V2(l,c,h,p))}return i&&(s=s.concat(oS(i,e,r,n))),s}function B2(e,t,n,r){var i=t.get(Ne());n==null&&i!=null&&(n=Ho(i,Ne()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=R2(r,a),p=e.operationForChild(a);p&&(s=s.concat(B2(p,l,c,h)))}),i&&(s=s.concat(oS(i,e,r,n))),s}function $2(e,t){var n=t.query,r=zv(e,n);return{hashFn:function(){var i=GK(t)||fe.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?cG(e,n._path,r):lG(e,n._path);var s=nH(i,n);return WE(e,n,null,s)}}}function zv(e,t){var n=Xg(t);return e.queryToTagMap.get(n)}function Xg(e){return e._path.toString()+"$"+e._queryIdentifier}function aS(e,t){return e.tagToQueryMap.get(t)}function uS(e){var t=e.indexOf("$");return $(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Re(e.substr(0,t))}}function lS(e,t,n){var r=e.syncPointTree_.get(t);$(r,"Missing sync point for query tag that we're tracking");var i=Gg(e.pendingWriteTree_,t);return oS(r,n,i,null)}function pG(e){return e.fold(function(t,n,r){if(n&&es(n)){var i=Qg(n);return[i]}else{var s=[];return n&&(s=F2(n)),Nt(r,function(a,l){s=s.concat(l)}),s}})}function vf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(oG())(e._repo,e._path):e}function vG(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Xg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function gG(){return sG++}function mG(e,t,n){var r=t._path,i=zv(e,t),s=$2(e,n),a=e.listenProvider_.startListening(vf(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)$(!es(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,m,y){if(!ge(v)&&m&&es(m))return[Qg(m).query];var w=[];return m&&(w=w.concat(F2(m).map(function(T){return T.query}))),Nt(y,function(T,b){w=w.concat(b)}),w}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(vf(p),zv(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yG=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),_G=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Ge(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Yg(this.syncTree_,this.path_)},e}(),wG=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},$R=function(e,t,n){if(!e||typeof e!="object")return e;if($(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return EG(e[".sv"],t,n);if(typeof e[".sv"]=="object")return TG(e[".sv"],t);$(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},EG=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+e)}},TG=function(e,t,n){e.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);var i=t.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},q2=function(e,t,n,r){return fS(t,new _G(n,e),r)},cS=function(e,t,n){return fS(e,new yG(t),n)};function fS(e,t,n){var r=e.getPriority().val(),i=$R(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=$R(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new il(l,Je(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new il(i))),c.forEachChild(je,function(h,p){var v=fS(p,t.getImmediateChild(h),n);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hS=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Jg(e,t){for(var n=t instanceof Re?t:new Re(t),r=e,i=ve(n);i!==null;){var s=ma(r.node.children,i)||{children:{},childCount:0};r=new hS(i,r,s),n=Me(n),i=ve(n)}return r}function Da(e){return e.node.value}function dS(e,t){e.node.value=t,HE(e)}function z2(e){return e.node.childCount>0}function IG(e){return Da(e)===void 0&&!z2(e)}function Zg(e,t){Nt(e.node.children,function(n,r){t(new hS(n,e,r))})}function W2(e,t,n,r){n&&!r&&t(e),Zg(e,function(i){W2(i,t,!0,r)}),n&&r&&t(e)}function SG(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Rh(e){return new Re(e.parent===null?e.name:Rh(e.parent)+"/"+e.name)}function HE(e){e.parent!==null&&bG(e.parent,e.name,e)}function bG(e,t,n){var r=IG(n),i=sr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,HE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,HE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CG=/[\[\].#$\/\u0000-\u001F\u007F]/,kG=/[\[\].#$\u0000-\u001F\u007F]/,nw=10*1024*1024,em=function(e){return typeof e=="string"&&e.length!==0&&!CG.test(e)},H2=function(e){return typeof e=="string"&&e.length!==0&&!kG.test(e)},NG=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),H2(e)},Qf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!qg(e)||e&&typeof e=="object"&&sr(e,".sv")},Ci=function(e,t,n,r){r&&t===void 0||Ph(qn(e,"value"),t,n)},Ph=function(e,t,n){var r=n instanceof Re?new MH(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+$s(r));if(typeof t=="function")throw new Error(e+"contains a function "+$s(r)+" with contents = "+t.toString());if(qg(t))throw new Error(e+"contains "+t.toString()+" "+$s(r));if(typeof t=="string"&&t.length>nw/3&&$g(t)>nw)throw new Error(e+"contains a string greater than "+nw+" utf8 bytes "+$s(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Nt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!em(a)))throw new Error(e+" contains an invalid key ("+a+") "+$s(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FH(r,a),Ph(e,l,r),UH(r)}),i&&s)throw new Error(e+' contains ".value" child '+$s(r)+" in addition to actual children.")}},AG=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Hf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!em(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(LH);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&yr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},K2=function(e,t,n,r){if(!(r&&t===void 0)){var i=qn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Nt(t,function(a,l){var c=new Re(a);if(Ph(i,l,Ge(n,c)),HI(c)===".priority"&&!Qf(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),AG(i,s)}},pS=function(e,t,n){if(!(n&&t===void 0)){if(qg(t))throw new Error(qn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qf(t))throw new Error(qn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},RG=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(qn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},xh=function(e,t,n,r){if(!(r&&n===void 0)&&!em(n))throw new Error(qn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Yf=function(e,t,n,r){if(!(r&&n===void 0)&&!H2(n))throw new Error(qn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PG=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Yf(e,t,n,r)},_r=function(e,t){if(ve(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},G2=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!em(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NG(n))throw new Error(qn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},xG=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(qn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OG=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function tm(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!KI(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function vS(e,t,n){tm(e,n),Q2(e,function(r){return KI(r,t)})}function Nr(e,t,n){tm(e,n),Q2(e,function(r){return yr(r,t)||yr(t,r)})}function Q2(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(DG(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function DG(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();oa&&Ot("event: "+n.toString()),Ll(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y2="repo_interrupt",LG=25,MG=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fv(),this.transactionQueueTree_=new hS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function FG(e,t,n){if(e.stats_=zI(e.repoInfo_),e.forceRestClient_||iH())e.server_=new cK(e.repoInfo_,function(r,i,s,a){qR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return zR(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{It(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new sa(e.repoInfo_,t,function(r,i,s,a){qR(e,r,i,s,a)},function(r){zR(e,r)},function(r){jG(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=cH(e.repoInfo_,function(){return new vK(e.stats_,e.server_)}),e.infoData_=new fK,e.infoSyncTree_=new VR({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Ah(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),gS(e,"connected",!1),e.serverSyncTree_=new VR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);Nr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function X2(e){var t=e.infoData_.getNode(new Re(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Oh(e){return wG({timestamp:X2(e)})}function qR(e,t,n,r,i){e.dataUpdateCount++;var s=new Re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=Pv(n,function(m){return Je(m)});a=hG(e.serverSyncTree_,s,l,i)}else{var c=Je(n);a=fG(e.serverSyncTree_,s,c,i)}else if(r){var h=Pv(n,function(m){return Je(m)});a=uG(e.serverSyncTree_,s,h)}else{var p=Je(n);a=Ah(e.serverSyncTree_,s,p)}var v=s;a.length>0&&(v=ul(e,s)),Nr(e.eventQueue_,v,a)}function UG(e,t){e.interceptServerDataCallback_=t}function zR(e,t){gS(e,"connected",t),t===!1&&$G(e)}function jG(e,t){Nt(t,function(n,r){gS(e,n,r)})}function gS(e,t,n){var r=new Re("/.info/"+t),i=Je(n);e.infoData_.updateSnapshot(r,i);var s=Ah(e.infoSyncTree_,r,i);Nr(e.eventQueue_,r,s)}function nm(e){return e.nextWriteId_++}function VG(e,t){var n=dG(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=Je(r).withIndex(t._queryParams.getIndex()),s=Ah(e.serverSyncTree_,t._path,i);return vS(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Ul(e,"get for query "+It(t)+" failed: "+r),Promise.reject(new Error(r))})}function mS(e,t,n,r,i){Ul(e,"set",{path:t.toString(),value:n,priority:r});var s=Oh(e),a=Je(n,r),l=Yg(e.serverSyncTree_,t),c=cS(a,l,s),h=nm(e),p=sS(e.serverSyncTree_,t,c,h,!0);tm(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var w=m==="ok";w||Qt("set at "+t+" failed: "+m);var T=Mo(e.serverSyncTree_,h,!w);Nr(e.eventQueue_,t,T),ts(e,i,m,y)});var v=_S(e,t);ul(e,v),Nr(e.eventQueue_,v,[])}function BG(e,t,n,r){Ul(e,"update",{path:t.toString(),value:n});var i=!0,s=Oh(e),a={};if(Nt(n,function(h,p){i=!1,a[h]=q2(Ge(t,h),Je(p),e.serverSyncTree_,s)}),i)Ot("update() called with empty data.  Don't do anything."),ts(e,r,"ok",void 0);else{var l=nm(e),c=aG(e.serverSyncTree_,t,a,l);tm(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var v=h==="ok";v||Qt("update at "+t+" failed: "+h);var m=Mo(e.serverSyncTree_,l,!v),y=m.length>0?ul(e,t):t;Nr(e.eventQueue_,y,m),ts(e,r,h,p)}),Nt(n,function(h){var p=_S(e,Ge(t,h));ul(e,p)}),Nr(e.eventQueue_,t,[])}}function $G(e){Ul(e,"onDisconnectEvents");var t=Oh(e),n=Fv();jE(e.onDisconnect_,Ne(),function(i,s){var a=q2(i,s,e.serverSyncTree_,t);Ml(n,i,a)});var r=[];jE(n,Ne(),function(i,s){r=r.concat(Ah(e.serverSyncTree_,i,s));var a=_S(e,i);ul(e,a)}),e.onDisconnect_=Fv(),Nr(e.eventQueue_,Ne(),r)}function qG(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&UE(e.onDisconnect_,t),ts(e,n,r,i)})}function WR(e,t,n,r){var i=Je(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Ml(e.onDisconnect_,t,i),ts(e,r,s,a)})}function zG(e,t,n,r,i){var s=Je(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Ml(e.onDisconnect_,t,s),ts(e,i,a,l)})}function WG(e,t,n,r){if(AE(n)){Ot("onDisconnect().update() called with empty data.  Don't do anything."),ts(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Nt(n,function(a,l){var c=Je(l);Ml(e.onDisconnect_,Ge(t,a),c)}),ts(e,r,i,s)})}function HG(e,t,n){var r;ve(t._path)===".info"?r=BR(e.infoSyncTree_,t,n):r=BR(e.serverSyncTree_,t,n),vS(e.eventQueue_,t._path,r)}function KE(e,t,n){var r;ve(t._path)===".info"?r=WE(e.infoSyncTree_,t,n):r=WE(e.serverSyncTree_,t,n),vS(e.eventQueue_,t._path,r)}function J2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Y2)}function KG(e){e.persistentConnection_&&e.persistentConnection_.resume(Y2)}function GG(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new S2(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Nt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function QG(e,t){e.stats_.incrementCounter(t),gK(e.statsReporter_,t)}function Ul(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Ot.apply(void 0,pe([r],Ht(t)))}function ts(e,t,n,r){t&&Ll(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function YG(e,t,n,r,i,s){Ul(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:qL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=yS(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Ph("transaction failed: Data returned ",c,a.path),a.status=0;var h=Jg(e.transactionQueueTree_,t),p=Da(h)||[];p.push(a),dS(h,p);var v=void 0;if(typeof c=="object"&&c!==null&&sr(c,".priority"))v=ma(c,".priority"),$(Qf(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=Yg(e.serverSyncTree_,t)||fe.EMPTY_NODE;v=m.getPriority().val()}var y=Oh(e),w=Je(c,v),T=cS(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=T,a.currentWriteId=nm(e);var b=sS(e.serverSyncTree_,t,T,a.currentWriteId,a.applyLocally);Nr(e.eventQueue_,t,b),rm(e,e.transactionQueueTree_)}}function yS(e,t,n){return Yg(e.serverSyncTree_,t,n)||fe.EMPTY_NODE}function rm(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||im(e,t),Da(t)){var n=eM(e,t);$(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&XG(e,Rh(t),n)}else z2(t)&&Zg(t,function(i){rm(e,i)})}function XG(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=yS(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=bn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),v=t;e.server_.put(v.toString(),p,function(m){Ul(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var w=[],T=function(I){n[I].status=2,y=y.concat(Mo(e.serverSyncTree_,n[I].currentWriteId)),n[I].onComplete&&w.push(function(){return n[I].onComplete(null,!0,n[I].currentOutputSnapshotResolved)}),n[I].unwatcher()},b=0;b<n.length;b++)T(b);im(e,Jg(e.transactionQueueTree_,t)),rm(e,e.transactionQueueTree_),Nr(e.eventQueue_,t,y);for(var b=0;b<w.length;b++)Ll(w[b])}else{if(m==="datastale")for(var b=0;b<n.length;b++)n[b].status===3?n[b].status=4:n[b].status=0;else{Qt("transaction at "+v.toString()+" failed: "+m);for(var b=0;b<n.length;b++)n[b].status=4,n[b].abortReason=m}ul(e,t)}},a)}function ul(e,t){var n=Z2(e,t),r=Rh(n),i=eM(e,n);return JG(e,i,r),r}function JG(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],v=bn(n,p.path),m=!1,y;if($(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(Mo(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=LG)m=!0,y="maxretry",i=i.concat(Mo(e.serverSyncTree_,p.currentWriteId,!0));else{var w=yS(e,p.path,a);p.currentInputSnapshot=w;var T=t[h].update(w.val());if(T!==void 0){Ph("transaction failed: Data returned ",T,p.path);var b=Je(T),I=typeof T=="object"&&T!=null&&sr(T,".priority");I||(b=b.updatePriority(w.getPriority()));var S=p.currentWriteId,C=Oh(e),P=cS(b,w,C);p.currentOutputSnapshotRaw=b,p.currentOutputSnapshotResolved=P,p.currentWriteId=nm(e),a.splice(a.indexOf(S),1),i=i.concat(sS(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(Mo(e.serverSyncTree_,S,!0))}else m=!0,y="nodata",i=i.concat(Mo(e.serverSyncTree_,p.currentWriteId,!0))}Nr(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(D){setTimeout(D,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);im(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Ll(r[c]);rm(e,e.transactionQueueTree_)}}function Z2(e,t){var n,r=e.transactionQueueTree_;for(n=ve(t);n!==null&&Da(r)===void 0;)r=Jg(r,n),t=Me(t),n=ve(t);return r}function eM(e,t){var n=[];return tM(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function tM(e,t,n){var r=Da(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Zg(t,function(s){tM(e,s,n)})}function im(e,t){var n=Da(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,dS(t,n.length>0?n:void 0)}Zg(t,function(s){im(e,s)})}function _S(e,t){var n=Rh(Z2(e,t)),r=Jg(e.transactionQueueTree_,t);return SG(r,function(i){rw(e,i)}),rw(e,r),W2(r,function(i){rw(e,i)}),n}function rw(e,t){var n=Da(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?($(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):($(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Mo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?dS(t,void 0):n.length=s+1,Nr(e.eventQueue_,Rh(t),i);for(var a=0;a<r.length;a++)Ll(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZG(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function e5(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Ut(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Qt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var GE=function(e,t){var n=t5(e),r=n.namespace;n.domain==="firebase.com"&&Si(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Si("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||XW();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qI(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Re(n.pathString)}},t5=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(p,v)),p<v&&(i=ZG(e.substring(p,v)));var m=e5(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nM=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+It(this.snapshot.exportVal())},e}(),rM=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iM=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n5=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Lt;return qG(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){_r("OnDisconnect.remove",this._path);var t=new Lt;return WR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){_r("OnDisconnect.set",this._path),Ci("OnDisconnect.set",t,this._path,!1);var n=new Lt;return WR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){_r("OnDisconnect.setWithPriority",this._path),Ci("OnDisconnect.setWithPriority",t,this._path,!1),pS("OnDisconnect.setWithPriority",n,!1);var r=new Lt;return zG(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){_r("OnDisconnect.update",this._path),K2("OnDisconnect.update",t,this._path,!1);var n=new Lt;return WG(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return ge(this._path)?null:HI(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ni(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=RR(this._queryParams),n=VI(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return RR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=de(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=KI(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+DH(this._path)},e}();function om(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function as(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===_i){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==eo)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==bi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===je){if(t!=null&&!Qf(t)||n!=null&&!Qf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if($(e.getIndex()instanceof QI||e.getIndex()===YI,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sm(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ni=function(e){H(t,e);function t(n,r){return e.call(this,n,r,new I2,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=h2(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Rr),am=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Re(t),r=_a(this.ref,t);return new e(this._node.getChild(n),r,je)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,_a(n.ref,i),je))})},e.prototype.hasChild=function(t){var n=new Re(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function oM(e,t){return e=de(e),e._checkNotDeleted("ref"),t!==void 0?_a(e._root,t):e._root}function HR(e,t){e=de(e),e._checkNotDeleted("refFromURL");var n=GE(t,e._repo.repoInfo_.nodeAdmin);G2("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Si("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),oM(e,n.path.toString())}function _a(e,t){return e=de(e),ve(e._path)===null?PG("child","path",t,!1):Yf("child","path",t,!1),new Ni(e._repo,Ge(e._path,t))}function r5(e,t){e=de(e),_r("push",e._path),Ci("push",t,e._path,!0);var n=X2(e._repo),r=nK(n),i=_a(e,r),s=_a(e,r),a;return t!=null?a=wS(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function i5(e){return _r("remove",e._path),wS(e,null)}function wS(e,t){e=de(e),_r("set",e._path),Ci("set",t,e._path,!1);var n=new Lt;return mS(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function o5(e,t){e=de(e),_r("setPriority",e._path),pS("setPriority",t,!1);var n=new Lt;return mS(e._repo,Ge(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function s5(e,t,n){if(_r("setWithPriority",e._path),Ci("setWithPriority",t,e._path,!1),pS("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Lt;return mS(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function a5(e,t){K2("update",t,e._path,!1);var n=new Lt;return BG(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function u5(e){return e=de(e),VG(e._repo,e).then(function(t){return new am(t,new Ni(e._repo,e._path),e._queryParams.getIndex())})}var sM=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new nM("value",this,new am(t.snapshotNode,new Ni(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new rM(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),aM=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new rM(this,t,n):null},e.prototype.createEvent=function(t,n){$(t.childName!=null,"Child events should have a childName.");var r=_a(new Ni(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new nM(t.type,this,new am(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Dh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,v){KE(e._repo,e,h),a(p,v)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new iM(n,s||void 0),h=t==="value"?new sM(c):new aM(t,c);return HG(e._repo,e,h),function(){return KE(e._repo,e,h)}}function QE(e,t,n,r){return Dh(e,"value",t,n,r)}function KR(e,t,n,r){return Dh(e,"child_added",t,n,r)}function GR(e,t,n,r){return Dh(e,"child_changed",t,n,r)}function QR(e,t,n,r){return Dh(e,"child_moved",t,n,r)}function YR(e,t,n,r){return Dh(e,"child_removed",t,n,r)}function XR(e,t,n){var r=null,i=n?new iM(n):null;t==="value"?r=new sM(i):t&&(r=new aM(t,i)),KE(e._repo,e,r)}var ni=function(){function e(){}return e}(),uM=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ci("endAt",this._value,n._path,!0);var r=FE(n._queryParams,this._value,this._key);if(sm(r),as(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rr(n._repo,n._path,r,n._orderByCalled)},t}(ni);function l5(e,t){return xh("endAt","key",t,!0),new uM(e,t)}var c5=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ci("endBefore",this._value,n._path,!1);var r=lK(n._queryParams,this._value,this._key);if(sm(r),as(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rr(n._repo,n._path,r,n._orderByCalled)},t}(ni);function f5(e,t){return xh("endBefore","key",t,!0),new c5(e,t)}var lM=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ci("startAt",this._value,n._path,!0);var r=ME(n._queryParams,this._value,this._key);if(sm(r),as(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Rr(n._repo,n._path,r,n._orderByCalled)},t}(ni);function h5(e,t){return e===void 0&&(e=null),xh("startAt","key",t,!0),new lM(e,t)}var d5=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ci("startAfter",this._value,n._path,!1);var r=uK(n._queryParams,this._value,this._key);if(sm(r),as(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Rr(n._repo,n._path,r,n._orderByCalled)},t}(ni);function p5(e,t){return xh("startAfter","key",t,!0),new d5(e,t)}var v5=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Rr(n._repo,n._path,sK(n._queryParams,this._limit),n._orderByCalled)},t}(ni);function g5(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new v5(e)}var m5=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Rr(n._repo,n._path,aK(n._queryParams,this._limit),n._orderByCalled)},t}(ni);function y5(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new m5(e)}var _5=function(e){H(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){om(n,"orderByChild");var r=new Re(this._path);if(ge(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new QI(r),s=Wg(n._queryParams,i);return as(s),new Rr(n._repo,n._path,s,!0)},t}(ni);function w5(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yf("orderByChild","path",e,!1),new _5(e)}var E5=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){om(n,"orderByKey");var r=Wg(n._queryParams,_i);return as(r),new Rr(n._repo,n._path,r,!0)},t}(ni);function T5(){return new E5}var I5=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){om(n,"orderByPriority");var r=Wg(n._queryParams,je);return as(r),new Rr(n._repo,n._path,r,!0)},t}(ni);function S5(){return new I5}var b5=function(e){H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){om(n,"orderByValue");var r=Wg(n._queryParams,YI);return as(r),new Rr(n._repo,n._path,r,!0)},t}(ni);function C5(){return new b5}var k5=function(e){H(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Ci("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uM(this._value,this._key)._apply(new lM(this._value,this._key)._apply(n))},t}(ni);function N5(e,t){return xh("equalTo","key",t,!0),new k5(e,t)}function Br(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=de(e);try{for(var a=Ut(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}ZK(Ni);iG(Ni);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A5="FIREBASE_DATABASE_EMULATOR_HOST",YE={},cM=!1;function R5(e,t,n,r){e.repoInfo_=new qI(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function fM(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Si("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ot("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=GE(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[A5]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=GE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new hf(hf.OWNER):new sH(e.name,e.options,t);G2("Invalid Firebase Database URL",a),ge(a.path)||Si("Database URL must point to the root of a Firebase Database (not including a child path).");var v=x5(l,e,p,new oH(e.name,n));return new D5(v,e)}function P5(e,t){var n=YE[t];(!n||n[e.key]!==e)&&Si("Database "+t+"("+e.repoInfo_+") has already been deleted."),J2(e),delete n[e.key]}function x5(e,t,n,r){var i=YE[t.name];i||(i={},YE[t.name]=i);var s=i[e.toURLString()];return s&&Si("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new MG(e,cM,n,r),i[e.toURLString()]=s,s}function O5(e){cM=e}var D5=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(FG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,Ne())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(P5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Si("Cannot call "+t+" on a deleted database.")},e}();function L5(e,t,n,r){r===void 0&&(r={}),e=de(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Si("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Si('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new hf(hf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:OI(r.mockUserToken,e.app.options.projectId);s=new hf(a)}R5(i,t,n,s)}function M5(e){e=de(e),e._checkNotDeleted("goOffline"),J2(e._repo)}function F5(e){e=de(e),e._checkNotDeleted("goOnline"),KG(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U5={".sv":"timestamp"};function j5(){return U5}function V5(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B5=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function $5(e,t,n){var r;if(e=de(e),_r("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Lt,a=function(c,h,p){var v=null;c?s.reject(c):(v=new am(p,new Ni(e._repo,e._path),je),s.resolve(new B5(h,v)))},l=QE(e,function(){});return YG(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q5=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){ie("OnDisconnect.cancel",0,1,arguments.length),xt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){ie("OnDisconnect.remove",0,1,arguments.length),xt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){ie("OnDisconnect.set",1,2,arguments.length),xt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){ie("OnDisconnect.setWithPriority",2,3,arguments.length),xt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(ie("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Qt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z5=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return ie("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return ie("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return ie("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return ie("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return ie("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return ie("DataSnapshot.child",0,1,arguments.length),t=String(t),Yf("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return ie("DataSnapshot.hasChild",1,1,arguments.length),Yf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return ie("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return ie("DataSnapshot.forEach",1,1,arguments.length),xt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return ie("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return ie("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return ie("DataSnapshot.ref",0,0,arguments.length),new Ys(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),hM=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;ie("Query.on",2,4,arguments.length),xt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(l.context,new gf(s.database,p),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return QE(this._delegate,c,h),n;case"child_added":return KR(this._delegate,c,h),n;case"child_removed":return YR(this._delegate,c,h),n;case"child_changed":return GR(this._delegate,c,h),n;case"child_moved":return QR(this._delegate,c,h),n;default:throw new Error(qn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(ie("Query.off",0,3,arguments.length),RG("Query.off",t,!0),xt("Query.off","callback",n,!0),fR("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,XR(this._delegate,t,i)}else XR(this._delegate,t)},e.prototype.get=function(){var t=this;return u5(this._delegate).then(function(n){return new gf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;ie("Query.once",1,4,arguments.length),xt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Lt,c=function(p,v){var m=new gf(s.database,p);n&&n.call(a.context,m,v),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":QE(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":KR(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":YR(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":GR(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":QR(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(qn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return ie("Query.limitToFirst",1,1,arguments.length),new e(this.database,Br(this._delegate,g5(t)))},e.prototype.limitToLast=function(t){return ie("Query.limitToLast",1,1,arguments.length),new e(this.database,Br(this._delegate,y5(t)))},e.prototype.orderByChild=function(t){return ie("Query.orderByChild",1,1,arguments.length),new e(this.database,Br(this._delegate,w5(t)))},e.prototype.orderByKey=function(){return ie("Query.orderByKey",0,0,arguments.length),new e(this.database,Br(this._delegate,T5()))},e.prototype.orderByPriority=function(){return ie("Query.orderByPriority",0,0,arguments.length),new e(this.database,Br(this._delegate,S5()))},e.prototype.orderByValue=function(){return ie("Query.orderByValue",0,0,arguments.length),new e(this.database,Br(this._delegate,C5()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),ie("Query.startAt",0,2,arguments.length),new e(this.database,Br(this._delegate,h5(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),ie("Query.startAfter",0,2,arguments.length),new e(this.database,Br(this._delegate,p5(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),ie("Query.endAt",0,2,arguments.length),new e(this.database,Br(this._delegate,l5(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),ie("Query.endBefore",0,2,arguments.length),new e(this.database,Br(this._delegate,f5(t,n)))},e.prototype.equalTo=function(t,n){return ie("Query.equalTo",1,2,arguments.length),new e(this.database,Br(this._delegate,N5(t,n)))},e.prototype.toString=function(){return ie("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return ie("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(ie("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,xt(t,"cancel",i.cancel,!0),i.context=r,fR(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(qn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ys(this.database,new Ni(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ys=function(e){H(t,e);function t(n,r){var i=e.call(this,n,new Rr(r._repo,r._path,new I2,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return ie("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return ie("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,_a(this._delegate,n))},t.prototype.getParent=function(){ie("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return ie("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){ie("Reference.set",1,2,arguments.length),xt("Reference.set","onComplete",r,!0);var i=wS(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(ie("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Qt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_r("Reference.update",this._delegate._path),xt("Reference.update","onComplete",r,!0);var a=a5(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){ie("Reference.setWithPriority",2,3,arguments.length),xt("Reference.setWithPriority","onComplete",i,!0);var s=s5(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){ie("Reference.remove",0,1,arguments.length),xt("Reference.remove","onComplete",n,!0);var r=i5(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;ie("Reference.transaction",1,3,arguments.length),xt("Reference.transaction","transactionUpdate",n,!1),xt("Reference.transaction","onComplete",r,!0),xG("Reference.transaction","applyLocally",i,!0);var a=$5(this._delegate,n,{applyLocally:i}).then(function(l){return new z5(l.committed,new gf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){ie("Reference.setPriority",1,2,arguments.length),xt("Reference.setPriority","onComplete",r,!0);var i=o5(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;ie("Reference.push",0,2,arguments.length),xt("Reference.push","onComplete",r,!0);var s=r5(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return _r("Reference.onDisconnect",this._delegate._path),new q5(new n5(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(hM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wv=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),L5(this._delegate,t,n,r)},e.prototype.ref=function(t){if(ie("database.ref",0,1,arguments.length),t instanceof Ys){var n=HR(this._delegate,t.toString());return new Ys(this,n)}else{var n=oM(this._delegate,t);return new Ys(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";ie(n,1,1,arguments.length);var r=HR(this._delegate,t);return new Ys(this,r)},e.prototype.goOffline=function(){return ie("database.goOffline",0,0,arguments.length),M5(this._delegate)},e.prototype.goOnline=function(){return ie("database.goOnline",0,0,arguments.length),F5(this._delegate)},e.ServerValue={TIMESTAMP:j5(),increment:function(t){return V5(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W5=function(){zs.forceDisallow(),WI.forceAllow()},H5=function(){WI.forceDisallow()},K5=function(){return zs.isAvailable()},G5=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},Q5=function(e,t){GG(e._delegate._repo,t)},Y5=function(e,t){QG(e._delegate._repo,t)},X5=function(e){return e._delegate._repo.dataUpdateCount},J5=function(e,t){return UG(e._delegate._repo,t)};function Z5(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;BL(r);var c=new LL("auth-internal",new ML("database-standalone"));return c.setComponent(new dn("auth-internal",function(){return i},"PRIVATE")),{instance:new Wv(fM(t,c,void 0,n,l),t),namespace:s}}var e8=Object.freeze({__proto__:null,forceLongPolling:W5,forceWebSockets:H5,isWebSocketsAvailable:K5,setSecurityDebugCallback:G5,stats:Q5,statsIncrementCounter:Y5,dataUpdateCount:X5,interceptServerData:J5,initStandalone:Z5});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t8=sa;sa.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};sa.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var n8=l2,r8=function(e){var t=sa.prototype.put;return sa.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){sa.prototype.put=t}},i8=qI,o8=function(e){return e._delegate._queryIdentifier},s8=function(e){O5(e)},a8=Object.freeze({__proto__:null,DataConnection:t8,RealTimeConnection:n8,hijackHash:r8,ConnectionTarget:i8,queryIdentifier:o8,forceRestClient:s8});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u8=Wv.ServerValue;function l8(e){BL(e.SDK_VERSION),e.INTERNAL.registerComponent(new dn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Wv(fM(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Ys,Query:hM,Database:Wv,DataSnapshot:gf,enableLogging:WL,INTERNAL:e8,ServerValue:u8,TEST_ACCESS:a8}).setMultipleInstances(!0)),e.registerVersion(KW,GW)}l8(ee);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XE=function(e,t){return XE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},XE(e,t)};function c8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");XE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function dM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var f8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,ES=ES||{},le=f8||self;function Hv(){}function JE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Lh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function h8(e){return Object.prototype.hasOwnProperty.call(e,iw)&&e[iw]||(e[iw]=++d8)}var iw="closure_uid_"+(1e9*Math.random()>>>0),d8=0;function p8(e,t,n){return e.call.apply(e.bind,arguments)}function v8(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Yt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=p8:Yt=v8,Yt.apply(null,arguments)}function bp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function en(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function us(){this.s=this.s,this.o=this.o}var g8=0;us.prototype.s=!1;us.prototype.na=function(){!this.s&&(this.s=!0,this.M(),g8!=0)&&h8(this)};us.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},vM=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function m8(e){e:{for(var t=uQ,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function JR(e){return Array.prototype.concat.apply([],arguments)}function TS(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kv(e){return/^[\s\xa0]*$/.test(e)}var ZR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function In(e,t){return e.indexOf(t)!=-1}function ow(e,t){return e<t?-1:e>t?1:0}var Sn;e:{var eP=le.navigator;if(eP){var tP=eP.userAgent;if(tP){Sn=tP;break e}}Sn=""}function IS(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gM(e){var t={};for(var n in e)t[n]=e[n];return t}var nP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mM(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<nP.length;s++)n=nP[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function SS(e){return SS[" "](e),e}SS[" "]=Hv;function y8(e){var t=E8;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var _8=In(Sn,"Opera"),ll=In(Sn,"Trident")||In(Sn,"MSIE"),yM=In(Sn,"Edge"),ZE=yM||ll,_M=In(Sn,"Gecko")&&!(In(Sn.toLowerCase(),"webkit")&&!In(Sn,"Edge"))&&!(In(Sn,"Trident")||In(Sn,"MSIE"))&&!In(Sn,"Edge"),w8=In(Sn.toLowerCase(),"webkit")&&!In(Sn,"Edge");function wM(){var e=le.document;return e?e.documentMode:void 0}var Gv;e:{var sw="",aw=function(){var e=Sn;if(_M)return/rv:([^\);]+)(\)|;)/.exec(e);if(yM)return/Edge\/([\d\.]+)/.exec(e);if(ll)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(w8)return/WebKit\/(\S+)/.exec(e);if(_8)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(aw&&(sw=aw?aw[1]:""),ll){var uw=wM();if(uw!=null&&uw>parseFloat(sw)){Gv=String(uw);break e}}Gv=sw}var E8={};function T8(){return y8(function(){for(var e=0,t=ZR(String(Gv)).split("."),n=ZR("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=ow(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||ow(s[2].length==0,a[2].length==0)||ow(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var eT;if(le.document&&ll){var rP=wM();eT=rP||parseInt(Gv,10)||void 0}else eT=void 0;var I8=eT,S8=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{le.addEventListener("test",Hv,t),le.removeEventListener("test",Hv,t)}catch{}return e}();function ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};function Xf(e,t){if(ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_M){e:{try{SS(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:b8[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xf.Z.h.call(this)}}en(Xf,ln);var b8={2:"touch",3:"pen",4:"mouse"};Xf.prototype.h=function(){Xf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mh="closure_listenable_"+(1e6*Math.random()|0),C8=0;function k8(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++C8,this.ca=this.fa=!1}function um(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lm(e){this.src=e,this.g={},this.h=0}lm.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=nT(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new k8(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function tT(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=pM(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(um(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function nT(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var bS="closure_lm_"+(1e6*Math.random()|0),lw={};function EM(e,t,n,r,i){if(r&&r.once)return IM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)EM(e,t[s],n,r,i);return null}return n=NS(n),e&&e[Mh]?e.N(t,n,Lh(r)?!!r.capture:!!r,i):TM(e,t,n,!1,r,i)}function TM(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Lh(i)?!!i.capture:!!i,l=kS(e);if(l||(e[bS]=l=new lm(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=N8(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)S8||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function N8(){function e(n){return t.call(e.src,e.listener,n)}var t=A8;return e}function IM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)IM(e,t[s],n,r,i);return null}return n=NS(n),e&&e[Mh]?e.O(t,n,Lh(r)?!!r.capture:!!r,i):TM(e,t,n,!0,r,i)}function SM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)SM(e,t[s],n,r,i);else r=Lh(r)?!!r.capture:!!r,n=NS(n),e&&e[Mh]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=nT(s,n,r,i),-1<n&&(um(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=kS(e))&&(t=e.g[t.toString()],e=-1,t&&(e=nT(t,n,r,i)),(n=-1<e?t[e]:null)&&CS(n))}function CS(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Mh])tT(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=kS(t))?(tT(n,e),n.h==0&&(n.src=null,t[bS]=null)):um(e)}}}function bM(e){return e in lw?lw[e]:lw[e]="on"+e}function A8(e,t){if(e.ca)e=!0;else{t=new Xf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&CS(e),e=n.call(r,t)}return e}function kS(e){return e=e[bS],e instanceof lm?e:null}var cw="__closure_events_fn_"+(1e9*Math.random()>>>0);function NS(e){return typeof e=="function"?e:(e[cw]||(e[cw]=function(t){return e.handleEvent(t)}),e[cw])}function jt(){us.call(this),this.i=new lm(this),this.P=this,this.I=null}en(jt,us);jt.prototype[Mh]=!0;jt.prototype.removeEventListener=function(e,t,n,r){SM(this,e,t,n,r)};function Xt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new ln(t,e);else if(t instanceof ln)t.target=t.target||e;else{var i=t;t=new ln(r,e),mM(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Cp(a,r,!0,t)&&i}if(a=t.g=e,i=Cp(a,r,!0,t)&&i,i=Cp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Cp(a,r,!1,t)&&i}jt.prototype.M=function(){if(jt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)um(n[r]);delete e.g[t],e.h--}}this.I=null};jt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};jt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Cp(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&tT(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var AS=le.JSON.stringify;function R8(){var e=kM,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var P8=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=CM.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),CM=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new x8},function(e){return e.reset()}),x8=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function O8(e){le.setTimeout(function(){throw e},0)}function RS(e,t){rT||D8(),iT||(rT(),iT=!0),kM.add(e,t)}var rT;function D8(){var e=le.Promise.resolve(void 0);rT=function(){e.then(L8)}}var iT=!1,kM=new P8;function L8(){for(var e;e=R8();){try{e.h.call(e.g)}catch(n){O8(n)}var t=CM;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}iT=!1}function cm(e,t){jt.call(this),this.h=e||1,this.g=t||le,this.j=Yt(this.kb,this),this.l=Date.now()}en(cm,jt);Q=cm.prototype;Q.da=!1;Q.S=null;Q.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xt(this,"tick"),this.da&&(PS(this),this.start()))}};Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function PS(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Q.M=function(){cm.Z.M.call(this),PS(this),delete this.g};function xS(e,t,n){if(typeof e=="function")n&&(e=Yt(e,n));else if(e&&typeof e.handleEvent=="function")e=Yt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:le.setTimeout(e,t||0)}function NM(e){e.g=xS(function(){e.g=null,e.i&&(e.i=!1,NM(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var M8=function(e){c8(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:NM(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(us);function Jf(e){us.call(this),this.h=e,this.g={}}en(Jf,us);var iP=[];function AM(e,t,n,r){Array.isArray(n)||(n&&(iP[0]=n.toString()),n=iP);for(var i=0;i<n.length;i++){var s=EM(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function RM(e){IS(e.g,function(t,n){this.g.hasOwnProperty(n)&&CS(t)},e),e.g={}}Jf.prototype.M=function(){Jf.Z.M.call(this),RM(this)};Jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fm(){this.g=!0}fm.prototype.Aa=function(){this.g=!1};function F8(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function U8(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Fu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+V8(e,n)+(r?" "+r:"")})}function j8(e,t){e.info(function(){return"TIMEOUT: "+t})}fm.prototype.info=function(){};function V8(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return AS(n)}catch{return t}}var La={},oP=null;function hm(){return oP=oP||new jt}La.Ma="serverreachability";function PM(e){ln.call(this,La.Ma,e)}en(PM,ln);function Zf(e){var t=hm();Xt(t,new PM(t))}La.STAT_EVENT="statevent";function xM(e,t){ln.call(this,La.STAT_EVENT,e),this.stat=t}en(xM,ln);function Cn(e){var t=hm();Xt(t,new xM(t,e))}La.Na="timingevent";function OM(e,t){ln.call(this,La.Na,e),this.size=t}en(OM,ln);function Fh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){e()},t)}var dm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},DM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function OS(){}OS.prototype.h=null;function sP(e){return e.h||(e.h=e.i())}function LM(){}var Uh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function DS(){ln.call(this,"d")}en(DS,ln);function LS(){ln.call(this,"c")}en(LS,ln);var oT;function pm(){}en(pm,OS);pm.prototype.g=function(){return new XMLHttpRequest};pm.prototype.i=function(){return{}};oT=new pm;function jh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Jf(this),this.P=B8,e=ZE?125:void 0,this.W=new cm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MM}function MM(){this.i=null,this.g="",this.h=!1}var B8=45e3,sT={},Qv={};Q=jh.prototype;Q.setTimeout=function(e){this.P=e};function aT(e,t,n){e.K=1,e.v=gm(to(t)),e.s=n,e.U=!0,FM(e,null)}function FM(e,t){e.F=Date.now(),Vh(e),e.A=to(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),zM(n.h,"t",r),e.C=0,n=e.l.H,e.h=new MM,e.g=cF(e.l,n?t:null,!e.s),0<e.O&&(e.L=new M8(Yt(e.Ia,e,e.g),e.O)),AM(e.V,e.g,"readystatechange",e.gb),t=e.H?gM(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Zf(),F8(e.j,e.u,e.A,e.m,e.X,e.s)}Q.gb=function(e){e=e.target;var t=this.L;t&&zi(e)==3?t.l():this.Ia(e)};Q.Ia=function(e){try{if(e==this.g)e:{var t=zi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||ZE||this.g&&(this.h.h||this.g.ga()||cP(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Zf(3):Zf(2)),vm(this);var i=this.g.ba();this.N=i;t:if(UM(this)){var s=cP(this.g);e="";var a=s.length,l=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),mf(this);var c="";break t}this.h.i=new le.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,U8(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kv(h)){var v=h;break t}}v=null}if(i=v)Fu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uT(this,i);else{this.i=!1,this.o=3,Cn(12),Xs(this),mf(this);break e}}this.U?(jM(this,t,c),ZE&&this.i&&t==3&&(AM(this.V,this.W,"tick",this.fb),this.W.start())):(Fu(this.j,this.m,c,null),uT(this,c)),t==4&&Xs(this),this.i&&!this.I&&(t==4?sF(this.l,this):(this.i=!1,Vh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),Xs(this),mf(this)}}}catch{}finally{}};function UM(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function jM(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=$8(e,n),i==Qv){t==4&&(e.o=4,Cn(14),r=!1),Fu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==sT){e.o=4,Cn(15),Fu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Fu(e.j,e.m,i,null),uT(e,i);UM(e)&&i!=Qv&&i!=sT&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Cn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zS(t),t.L=!0,Cn(11))):(Fu(e.j,e.m,n,"[Invalid Chunked Response]"),Xs(e),mf(e))}Q.fb=function(){if(this.g){var e=zi(this.g),t=this.g.ga();this.C<t.length&&(vm(this),jM(this,e,t),this.i&&e!=4&&Vh(this))}};function $8(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Qv:(n=Number(t.substring(n,r)),isNaN(n)?sT:(r+=1,r+n>t.length?Qv:(t=t.substr(r,n),e.C=r+n,t)))}Q.cancel=function(){this.I=!0,Xs(this)};function Vh(e){e.Y=Date.now()+e.P,VM(e,e.P)}function VM(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Fh(Yt(e.eb,e),t)}function vm(e){e.B&&(le.clearTimeout(e.B),e.B=null)}Q.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(j8(this.j,this.A),this.K!=2&&(Zf(),Cn(17)),Xs(this),this.o=2,mf(this)):VM(this,this.Y-e)};function mf(e){e.l.G==0||e.I||sF(e.l,e)}function Xs(e){vm(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,PS(e.W),RM(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function uT(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||lT(n.i,e))){if(n.I=e.N,!e.J&&lT(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Zv(n),_m(n);else break e;qS(n),Cn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Fh(Yt(n.ab,n),6e3));if(1>=KM(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Js(n,11)}else if((e.J||n.g==e)&&Zv(n),!Kv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(In(p,"spdy")||In(p,"quic")||In(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(US(v,v.h),v.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ke(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=lF(r,r.H?r.la:null,r.W),y.J){GM(r.i,y);var w=y,T=r.K;T&&w.setTimeout(T),w.B&&(vm(w),Vh(w)),r.g=y}else iF(r);0<n.l.length&&wm(n)}else s[0]!="stop"&&s[0]!="close"||Js(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Js(n,7):$S(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Zf(4)}catch{}}function q8(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(JE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function MS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(JE(e)||typeof e=="string")vM(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(JE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=q8(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function jl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof jl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Q=jl.prototype;Q.R=function(){FS(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Q.T=function(){return FS(this),this.g.concat()};function FS(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];wa(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],wa(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Q.get=function(e,t){return wa(this.h,e)?this.h[e]:t};Q.set=function(e,t){wa(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Q.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function wa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var BM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function z8(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ea(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ea){this.g=t!==void 0?t:e.g,Yv(this,e.j),this.s=e.s,Xv(this,e.i),Jv(this,e.m),this.l=e.l,t=e.h;var n=new eh;n.i=t.i,t.g&&(n.g=new jl(t.g),n.h=t.h),aP(this,n),this.o=e.o}else e&&(n=String(e).match(BM))?(this.g=!!t,Yv(this,n[1]||"",!0),this.s=yf(n[2]||""),Xv(this,n[3]||"",!0),Jv(this,n[4]),this.l=yf(n[5]||"",!0),aP(this,n[6]||"",!0),this.o=yf(n[7]||"")):(this.g=!!t,this.h=new eh(null,this.g))}Ea.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zc(t,uP,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Zc(t,uP,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Zc(n,n.charAt(0)=="/"?Q8:G8,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zc(n,X8)),e.join("")};function to(e){return new Ea(e)}function Yv(e,t,n){e.j=n?yf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xv(e,t,n){e.i=n?yf(t,!0):t}function Jv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function aP(e,t,n){t instanceof eh?(e.h=t,J8(e.h,e.g)):(n||(t=Zc(t,Y8)),e.h=new eh(t,e.g))}function Ke(e,t,n){e.h.set(t,n)}function gm(e){return Ke(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function W8(e){return e instanceof Ea?to(e):new Ea(e,void 0)}function H8(e,t,n,r){var i=new Ea(null,void 0);return e&&Yv(i,e),t&&Xv(i,t),n&&Jv(i,n),r&&(i.l=r),i}function yf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,K8),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function K8(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var uP=/[#\/\?@]/g,G8=/[#\?:]/g,Q8=/[#\?]/g,Y8=/[#\?@]/g,X8=/#/g;function eh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ls(e){e.g||(e.g=new jl,e.h=0,e.i&&z8(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Q=eh.prototype;Q.add=function(e,t){ls(this),this.i=null,e=Vl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $M(e,t){ls(e),t=Vl(e,t),wa(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,wa(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&FS(e)))}function qM(e,t){return ls(e),t=Vl(e,t),wa(e.g.h,t)}Q.forEach=function(e,t){ls(this),this.g.forEach(function(n,r){vM(n,function(i){e.call(t,i,r,this)},this)},this)};Q.T=function(){ls(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Q.R=function(e){ls(this);var t=[];if(typeof e=="string")qM(this,e)&&(t=JR(t,this.g.get(Vl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=JR(t,e[n])}return t};Q.set=function(e,t){return ls(this),this.i=null,e=Vl(this,e),qM(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Q.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function zM(e,t,n){$M(e,t),0<n.length&&(e.i=null,e.g.set(Vl(e,t),TS(n)),e.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Vl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function J8(e,t){t&&!e.j&&(ls(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($M(this,r),zM(this,i,n))},e)),e.j=t}var Z8=function(){function e(t,n){this.h=t,this.g=n}return e}();function WM(e){this.l=e||eQ,le.PerformanceNavigationTiming?(e=le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(le.g&&le.g.Ea&&le.g.Ea()&&le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eQ=10;function HM(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function KM(e){return e.h?1:e.g?e.g.size:0}function lT(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function US(e,t){e.g?e.g.add(t):e.h=t}function GM(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}WM.prototype.cancel=function(){var e,t;if(this.i=QM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=dM(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function QM(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=dM(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return TS(e.i)}function jS(){}jS.prototype.stringify=function(e){return le.JSON.stringify(e,void 0)};jS.prototype.parse=function(e){return le.JSON.parse(e,void 0)};function tQ(){this.g=new jS}function nQ(e,t,n){var r=n||"";try{MS(e,function(i,s){var a=i;Lh(i)&&(a=AS(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function rQ(e,t){var n=new fm;if(le.Image){var r=new Image;r.onload=bp(kp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bp(kp,n,r,"TestLoadImage: error",!1,t),r.onabort=bp(kp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bp(kp,n,r,"TestLoadImage: timeout",!1,t),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function kp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Bh(e){this.l=e.$b||null,this.j=e.ib||!1}en(Bh,OS);Bh.prototype.g=function(){return new mm(this.l,this.j)};Bh.prototype.i=function(e){return function(){return e}}({});function mm(e,t){jt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=VS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en(mm,jt);var VS=0;Q=mm.prototype;Q.open=function(e,t){if(this.readyState!=VS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,th(this)};Q.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$h(this)),this.readyState=VS};Q.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,th(this)),this.g&&(this.readyState=3,th(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YM(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function YM(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Q.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$h(this):th(this),this.readyState==3&&YM(this)}};Q.Ua=function(e){this.g&&(this.response=this.responseText=e,$h(this))};Q.Ta=function(e){this.g&&(this.response=e,$h(this))};Q.ha=function(){this.g&&$h(this)};function $h(e){e.readyState=4,e.l=null,e.j=null,e.A=null,th(e)}Q.setRequestHeader=function(e,t){this.v.append(e,t)};Q.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function th(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(mm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var iQ=le.JSON.parse;function mt(e){jt.call(this),this.headers=new jl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XM,this.K=this.L=!1}en(mt,jt);var XM="",oQ=/^https?$/i,sQ=["POST","PUT"];Q=mt.prototype;Q.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oT.g(),this.C=this.u?sP(this.u):sP(oT),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){lP(this,s);return}e=n||"";var i=new jl(this.headers);r&&MS(r,function(s,a){i.set(a,s)}),r=m8(i.T()),n=le.FormData&&e instanceof le.FormData,!(0<=pM(sQ,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eF(this),0<this.B&&((this.K=aQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=xS(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){lP(this,s)}};function aQ(e){return ll&&T8()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function uQ(e){return e.toLowerCase()=="content-type"}Q.pa=function(){typeof ES<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))};function lP(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,JM(e),ym(e)}function JM(e){e.D||(e.D=!0,Xt(e,"complete"),Xt(e,"error"))}Q.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xt(this,"complete"),Xt(this,"abort"),ym(this))};Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ym(this,!0)),mt.Z.M.call(this)};Q.Fa=function(){this.s||(this.F||this.v||this.l?ZM(this):this.cb())};Q.cb=function(){ZM(this)};function ZM(e){if(e.h&&typeof ES<"u"&&(!e.C[1]||zi(e)!=4||e.ba()!=2)){if(e.v&&zi(e)==4)xS(e.Fa,0,e);else if(Xt(e,"readystatechange"),zi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(BM)[1]||null;if(!s&&le.self&&le.self.location){var a=le.self.location.protocol;s=a.substr(0,a.length-1)}i=!oQ.test(s?s.toLowerCase():"")}r=i}if(r)Xt(e,"complete"),Xt(e,"success");else{e.m=6;try{var l=2<zi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",JM(e)}}finally{ym(e)}}}}function ym(e,t){if(e.g){eF(e);var n=e.g,r=e.C[0]?Hv:null;e.g=null,e.C=null,t||Xt(e,"ready");try{n.onreadystatechange=r}catch{}}}function eF(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(le.clearTimeout(e.A),e.A=null)}function zi(e){return e.g?e.g.readyState:0}Q.ba=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}};Q.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),iQ(t)}};function cP(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case XM:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Da=function(){return this.m};Q.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function lQ(e){var t="";return IS(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function BS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lQ(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ke(e,t,n))}function Hc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tF(e){this.za=0,this.l=[],this.h=new fm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hc("baseRetryDelayMs",5e3,e),this.$a=Hc("retryDelaySeedMs",1e4,e),this.Ya=Hc("forwardChannelMaxRetries",2,e),this.ra=Hc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new WM(e&&e.concurrentRequestLimit),this.Ca=new tQ,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Q=tF.prototype;Q.ma=8;Q.G=1;function $S(e){if(nF(e),e.G==3){var t=e.V++,n=to(e.F);Ke(n,"SID",e.J),Ke(n,"RID",t),Ke(n,"TYPE","terminate"),qh(e,n),t=new jh(e,e.h,t,void 0),t.K=2,t.v=gm(to(n)),n=!1,le.navigator&&le.navigator.sendBeacon&&(n=le.navigator.sendBeacon(t.v.toString(),"")),!n&&le.Image&&(new Image().src=t.v,n=!0),n||(t.g=cF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Vh(t)}uF(e)}Q.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function _m(e){e.g&&(zS(e),e.g.cancel(),e.g=null)}function nF(e){_m(e),e.u&&(le.clearTimeout(e.u),e.u=null),Zv(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&le.clearTimeout(e.m),e.m=null)}function fw(e,t){e.l.push(new Z8(e.Za++,t)),e.G==3&&wm(e)}function wm(e){HM(e.i)||e.m||(e.m=!0,RS(e.Ha,e),e.C=0)}function cQ(e,t){return KM(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Fh(Yt(e.Ha,e,t),aF(e,e.C)),e.C++,!0)}Q.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=gM(n),mM(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=rF(this,t,r),i=to(this.F),Ke(i,"RID",e),Ke(i,"CVER",22),this.D&&Ke(i,"X-HTTP-Session-Id",this.D),qh(this,i),this.o&&n&&BS(i,this.o,n),US(this.i,t),this.Ra&&Ke(i,"TYPE","init"),this.ja?(Ke(i,"$req",r),Ke(i,"SID","null"),t.$=!0,aT(t,i,null)):aT(t,i,r),this.G=2}}else this.G==3&&(e?fP(this,e):this.l.length==0||HM(this.i)||fP(this))};function fP(e,t){var n;t?n=t.m:n=e.V++;var r=to(e.F);Ke(r,"SID",e.J),Ke(r,"RID",n),Ke(r,"AID",e.U),qh(e,r),e.o&&e.s&&BS(r,e.o,e.s),n=new jh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=rF(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),US(e.i,n),aT(n,r,t)}function qh(e,t){e.j&&MS({},function(n,r){Ke(t,r,n)})}function rF(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Yt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,p=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{nQ(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function iF(e){e.g||e.u||(e.Y=1,RS(e.Ga,e),e.A=0)}function qS(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Fh(Yt(e.Ga,e),aF(e,e.A)),e.A++,!0)}Q.Ga=function(){if(this.u=null,oF(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Fh(Yt(this.bb,this),e)}};Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Cn(10),_m(this),oF(this))};function zS(e){e.B!=null&&(le.clearTimeout(e.B),e.B=null)}function oF(e){e.g=new jh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=to(e.oa);Ke(t,"RID","rpc"),Ke(t,"SID",e.J),Ke(t,"CI",e.N?"0":"1"),Ke(t,"AID",e.U),qh(e,t),Ke(t,"TYPE","xmlhttp"),e.o&&e.s&&BS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gm(to(t)),n.s=null,n.U=!0,FM(n,e)}Q.ab=function(){this.v!=null&&(this.v=null,_m(this),qS(this),Cn(19))};function Zv(e){e.v!=null&&(le.clearTimeout(e.v),e.v=null)}function sF(e,t){var n=null;if(e.g==t){Zv(e),zS(e),e.g=null;var r=2}else if(lT(e.i,t))n=t.D,GM(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=hm(),Xt(r,new OM(r,n)),wm(e)}else iF(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&cQ(e,t)||r==2&&qS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Js(e,5);break;case 4:Js(e,10);break;case 3:Js(e,6);break;default:Js(e,2)}}}function aF(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Js(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Yt(e.jb,e);n||(n=new Ea("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Yv(n,"https"),gm(n)),rQ(n.toString(),r)}else Cn(2);e.G=0,e.j&&e.j.va(t),uF(e),nF(e)}Q.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Cn(2)):(this.h.info("Failed to ping google.com"),Cn(1))};function uF(e){e.G=0,e.I=-1,e.j&&((QM(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,TS(e.l),e.l.length=0),e.j.ua())}function lF(e,t,n){var r=W8(n);if(r.i!="")t&&Xv(r,t+"."+r.i),Jv(r,r.m);else{var i=le.location;r=H8(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&IS(e.aa,function(s,a){Ke(r,a,s)}),t=e.D,n=e.sa,t&&n&&Ke(r,t,n),Ke(r,"VER",e.ma),qh(e,r),r}function cF(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new mt(new Bh({ib:!0})):new mt(e.qa),t.L=e.H,t}function fF(){}Q=fF.prototype;Q.xa=function(){};Q.wa=function(){};Q.va=function(){};Q.ua=function(){};Q.Oa=function(){};function eg(){if(ll&&!(10<=Number(I8)))throw Error("Environmental error: no available transport.")}eg.prototype.g=function(e,t){return new ur(e,t)};function ur(e,t){jt.call(this),this.g=new tF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Kv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kv(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Bl(this)}en(ur,jt);ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),RS(Yt(e.hb,e,t))),Cn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=lF(e,null,e.W),wm(e)};ur.prototype.close=function(){$S(this.g)};ur.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,fw(this.g,t)}else this.v?(t={},t.__data__=AS(e),fw(this.g,t)):fw(this.g,e)};ur.prototype.M=function(){this.g.j=null,delete this.j,$S(this.g),delete this.g,ur.Z.M.call(this)};function hF(e){DS.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}en(hF,DS);function dF(){LS.call(this),this.status=1}en(dF,LS);function Bl(e){this.g=e}en(Bl,fF);Bl.prototype.xa=function(){Xt(this.g,"a")};Bl.prototype.wa=function(e){Xt(this.g,new hF(e))};Bl.prototype.va=function(e){Xt(this.g,new dF)};Bl.prototype.ua=function(){Xt(this.g,"b")};eg.prototype.createWebChannel=eg.prototype.g;ur.prototype.send=ur.prototype.u;ur.prototype.open=ur.prototype.m;ur.prototype.close=ur.prototype.close;dm.NO_ERROR=0;dm.TIMEOUT=8;dm.HTTP_ERROR=6;DM.COMPLETE="complete";LM.EventType=Uh;Uh.OPEN="a";Uh.CLOSE="b";Uh.ERROR="c";Uh.MESSAGE="d";jt.prototype.listen=jt.prototype.N;mt.prototype.listenOnce=mt.prototype.O;mt.prototype.getLastError=mt.prototype.La;mt.prototype.getLastErrorCode=mt.prototype.Da;mt.prototype.getStatus=mt.prototype.ba;mt.prototype.getResponseJson=mt.prototype.Qa;mt.prototype.getResponseText=mt.prototype.ga;mt.prototype.send=mt.prototype.ea;var fQ=function(){return new eg},hQ=function(){return hm()},hw=dm,dQ=DM,pQ=La,hP={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vQ=Bh,Np=LM,gQ=mt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();tr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return H(t,e),t}(Error),Jr=new Pa("@firebase/firestore");function cT(){return Jr.logLevel}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Jr.logLevel<=ye.DEBUG){var r=t.map(WS);Jr.debug.apply(Jr,pe(["Firestore (8.10.1): "+e],r))}}function gt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Jr.logLevel<=ye.ERROR){var r=t.map(WS);Jr.error.apply(Jr,pe(["Firestore (8.10.1): "+e],r))}}function nh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Jr.logLevel<=ye.WARN){var r=t.map(WS);Jr.warn.apply(Jr,pe(["Firestore (8.10.1): "+e],r))}}function WS(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw gt(t),new Error(t)}function oe(e,t){e||Z()}function W(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pF=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=mQ(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Ee(e,t){return e<t?-1:e>t?1:0}function cl(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function vF(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),me=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new zn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ma(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gF(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mF=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Z(),r===void 0?r=t.length-n:r>t.length-n&&Z(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ae=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new U(O.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(mF),yQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ti=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return yQ.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new U(O.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new U(O.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new U(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new U(O.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(mF),fl=function(){function e(t){this.fields=t,t.sort(ti.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return cl(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Nn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ee(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Nn.EMPTY_BYTE_STRING=new Nn("");var _Q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(e){if(oe(!!e),typeof e=="string"){var t=0,n=_Q.exec(e);if(oe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pt(e.seconds),nanos:pt(e.nanos)}}function pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hl(e){return typeof e=="string"?Nn.fromBase64String(e):Nn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yF(e){var t=e.mapValue.fields.__previous_value__;return HS(t)?yF(t):t}function rh(e){var t=ns(e.mapValue.fields.__local_write_time__.timestampValue);return new zn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e){return e==null}function tg(e){return e===0&&1/e==-1/0}function _F(e){return typeof e=="number"&&Number.isInteger(e)&&!tg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ae.fromString(t))},e.fromName=function(t){return new e(Ae.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ae.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ae.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ae(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?HS(e)?4:10:Z()}function ki(e,t){var n=Ta(e);if(n!==Ta(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rh(e).isEqual(rh(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ns(r.timestampValue),a=ns(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return hl(r.bytesValue).isEqual(hl(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return pt(r.geoPointValue.latitude)===pt(i.geoPointValue.latitude)&&pt(r.geoPointValue.longitude)===pt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pt(r.integerValue)===pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=pt(r.doubleValue),a=pt(i.doubleValue);return s===a?tg(s)===tg(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return cl(e.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(dP(s)!==dP(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ki(s[l],a[l])))return!1;return!0}(e,t);default:return Z()}}function ih(e,t){return(e.values||[]).find(function(n){return ki(n,t)})!==void 0}function dl(e,t){var n=Ta(e),r=Ta(t);if(n!==r)return Ee(n,r);switch(n){case 0:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=pt(i.integerValue||i.doubleValue),l=pt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return pP(e.timestampValue,t.timestampValue);case 4:return pP(rh(e),rh(t));case 5:return Ee(e.stringValue,t.stringValue);case 6:return function(i,s){var a=hl(i),l=hl(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Ee(a[c],l[c]);if(h!==0)return h}return Ee(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Ee(pt(i.latitude),pt(s.latitude));return a!==0?a:Ee(pt(i.longitude),pt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=dl(a[c],l[c]);if(h)return h}return Ee(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var v=Ee(l[p],h[p]);if(v!==0)return v;var m=dl(a[l[p]],c[h[p]]);if(m!==0)return m}return Ee(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Z()}}function pP(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);var n=ns(e),r=ns(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function KS(e){return fT(e)}function fT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ns(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,te.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=fT(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+fT(r.fields[c])}return i+"}"}(e.mapValue):Z();var t,n}function ng(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function hT(e){return!!e&&"integerValue"in e}function GS(e){return!!e&&"arrayValue"in e}function vP(e){return!!e&&"nullValue"in e}function gP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jp(e){return!!e&&"mapValue"in e}function _f(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ma(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=_f(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_f(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Jp(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_f(n)},e.prototype.setAll=function(t){var n=this,r=ti.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=_f(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ki(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Ma(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(_f(this.value))},e}();function wF(e){var t=[];return Ma(e.fields,function(n,r){var i=new ti([n]);if(Jp(r)){var s=wF(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new fl(t)}var Zt=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,me.min(),Zn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Zn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Zn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),wQ=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new wQ(e,t,n,r,i,s,a)}function zh(e){var t=W(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+KS(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Fa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ig(t.startAt)),t.endAt&&(n+="|ub:",n+=ig(t.endAt)),t.h=n}return t.h}function Em(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!NQ(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!ki(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_P(e.startAt,t.startAt)&&_P(e.endAt,t.endAt)}function rg(e){return te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var nr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return H(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new EQ(n,r,i):r==="array-contains"?new SQ(n,i):r==="in"?new bQ(n,i):r==="not-in"?new CQ(n,i):r==="array-contains-any"?new kQ(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new TQ(n,i):new IQ(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(dl(r,this.value)):r!==null&&Ta(this.value)===Ta(r)&&this.m(dl(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Z()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),EQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=te.fromName(i.referenceValue),s}return H(t,e),t.prototype.matches=function(n){var r=te.comparator(n.key,this.key);return this.m(r)},t}(nr),TQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=EF("in",r),i}return H(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(nr),IQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=EF("not-in",r),i}return H(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(nr);function EF(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return te.fromName(r.referenceValue)})}var SQ=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return H(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return GS(r)&&ih(r.arrayValue,this.value)},t}(nr),bQ=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return H(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ih(this.value.arrayValue,r)},t}(nr),CQ=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return H(t,e),t.prototype.matches=function(n){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ih(this.value.arrayValue,r)},t}(nr),kQ=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return H(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!GS(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return ih(r.value.arrayValue,s)})},t}(nr),oh=function(e,t){this.position=e,this.before=t};function ig(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return KS(t)}).join(",")}var Hu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function NQ(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yP(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?te.comparator(te.fromName(a.referenceValue),n.key):dl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function _P(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ki(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function TF(e,t,n,r,i,s,a,l){return new so(e,t,n,r,i,s,a,l)}function $l(e){return new so(e)}function Zp(e){return!Fa(e.limit)&&e.limitType==="F"}function og(e){return!Fa(e.limit)&&e.limitType==="L"}function QS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function YS(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function XS(e){return e.collectionGroup!==null}function pl(e){var t=W(e);if(t.p===null){t.p=[];var n=YS(t),r=QS(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Hu(n)),t.p.push(new Hu(ti.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Hu(ti.keyField(),c))}}}return t.p}function Ar(e){var t=W(e);if(!t.T)if(t.limitType==="F")t.T=mP(t.path,t.collectionGroup,pl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=pl(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Hu(s.field,a))}var l=t.endAt?new oh(t.endAt.position,!t.endAt.before):null,c=t.startAt?new oh(t.startAt.position,!t.startAt.before):null;t.T=mP(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function IF(e,t,n){return new so(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wh(e,t){return Em(Ar(e),Ar(t))&&e.limitType===t.limitType}function SF(e){return zh(Ar(e))+"|lt:"+e.limitType}function dT(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+KS(i.value);var i}).join(", ")+"]"),Fa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ig(t.startAt)),t.endAt&&(n+=", endAt: "+ig(t.endAt)),"Target("+n+")"}(Ar(e))+"; limitType="+e.limitType+")"}function Hh(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!yP(n.startAt,pl(n),r))&&(!n.endAt||!yP(n.endAt,pl(n),r))}(e,t)}function bF(e){return function(t,n){for(var r=!1,i=0,s=pl(e);i<s.length;i++){var a=s[i],l=AQ(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function AQ(e,t,n){var r=e.field.isKeyField()?te.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?dl(l,c):Z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(t)?"-0":t}}function kF(e){return{integerValue:""+e}}function NF(e,t){return _F(t)?kF(t):CF(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tm=function(){this._=void 0};function RQ(e,t,n){return e instanceof vl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Ia?RF(e,t):e instanceof Sa?PF(e,t):function(r,i){var s=AF(r,i),a=wP(s)+wP(r.A);return hT(s)&&hT(r.A)?kF(a):CF(r.R,a)}(e,t)}function PQ(e,t,n){return e instanceof Ia?RF(e,t):e instanceof Sa?PF(e,t):n}function AF(e,t){return e instanceof gl?hT(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var vl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t}(Tm),Ia=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return H(t,e),t}(Tm);function RF(e,t){for(var n=xF(t),r=function(a){n.some(function(l){return ki(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Sa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return H(t,e),t}(Tm);function PF(e,t){for(var n=xF(t),r=function(a){n=n.filter(function(l){return!ki(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var gl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return H(t,e),t}(Tm);function wP(e){return pt(e.integerValue||e.doubleValue)}function xF(e){return GS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kh=function(e,t){this.field=e,this.transform=t},xQ=function(e,t){this.version=e,this.transformResults=t},un=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function ev(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Im=function(){};function OQ(e,t,n){e instanceof Gh?function(r,i,s){var a=r.value.clone(),l=IP(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof cs?function(r,i,s){if(ev(r.precondition,i)){var a=IP(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(OF(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function pT(e,t,n){e instanceof Gh?function(r,i,s){if(ev(r.precondition,i)){var a=r.value.clone(),l=SP(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(TP(i),a).setHasLocalMutations()}}(e,t,n):e instanceof cs?function(r,i,s){if(ev(r.precondition,i)){var a=SP(r.fieldTransforms,s,i),l=i.data;l.setAll(OF(r)),l.setAll(a),i.convertToFoundDocument(TP(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){ev(r.precondition,i)&&i.convertToNoDocument(me.min())}(e,t)}function DQ(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=AF(s.transform,a||null);l!=null&&(n==null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function EP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&cl(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof Ia&&h instanceof Ia||c instanceof Sa&&h instanceof Sa?cl(c.elements,h.elements,ki):c instanceof gl&&h instanceof gl?ki(c.A,h.A):c instanceof vl&&h instanceof vl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function TP(e){return e.isFoundDocument()?e.version:me.min()}var Gh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return H(t,e),t}(Im),cs=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return H(t,e),t}(Im);function OF(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function IP(e,t,n){var r=new Map;oe(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,PQ(a,l,n[i]))}return r}function SP(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,RQ(l,c,t))}return r}var dt,Se,Qh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return H(t,e),t}(Im),JS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return H(t,e),t}(Im),LQ=function(e){this.count=e};function DF(e){switch(e){case O.OK:return Z();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Z()}}function LF(e){if(e===void 0)return gt("GRPC error has no .code"),O.UNKNOWN;switch(e){case dt.OK:return O.OK;case dt.CANCELLED:return O.CANCELLED;case dt.UNKNOWN:return O.UNKNOWN;case dt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case dt.INTERNAL:return O.INTERNAL;case dt.UNAVAILABLE:return O.UNAVAILABLE;case dt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case dt.NOT_FOUND:return O.NOT_FOUND;case dt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case dt.ABORTED:return O.ABORTED;case dt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case dt.DATA_LOSS:return O.DATA_LOSS;default:return Z()}}(Se=dt||(dt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=function(){function e(t,n){this.comparator=t,this.root=n||Ao.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ao.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ao.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ap(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ap(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ap(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ap(this.root,t,this.comparator,!0)},e}(),Ap=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ao=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();var t=this.left.check();if(t!==this.right.check())throw Z();return t+(this.isRed()?0:1)},e}();Ao.EMPTY=null,Ao.RED=!0,Ao.BLACK=!1,Ao.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Z()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Ao(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt=function(){function e(t){this.comparator=t,this.data=new vn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new bP(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new bP(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),bP=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),MQ=new vn(te.comparator);function Sr(){return MQ}var FQ=new vn(te.comparator);function vT(){return FQ}var UQ=new vn(te.comparator);function MF(){return UQ}var jQ=new kt(te.comparator);function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=jQ,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var VQ=new kt(Ee);function Sm(){return VQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZS=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,eb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(me.min(),r,Sm(),Sr(),Oe())},e}(),eb=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Nn.EMPTY_BYTE_STRING,n,Oe(),Oe(),Oe())},e}(),tv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},FF=function(e,t){this.targetId=e,this.V=t},UF=function(e,t,n,r){n===void 0&&(n=Nn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},CP=function(){function e(){this.S=0,this.D=NP(),this.C=Nn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Oe(),n=Oe(),r=Oe();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new eb(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=NP()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),BQ=function(){function e(t){this.W=t,this.G=new Map,this.H=Sr(),this.J=kP(),this.Y=new kt(Ee)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:Z()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(rg(s))if(r===0){var a=new te(s.path);this.tt(n,a,Zt.newNoDocument(a,me.min()))}else oe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&rg(c.target)){var h=new te(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,Zt.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Oe();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new ZS(t,r,this.Y,this.H,i);return this.H=Sr(),this.J=kP(),this.Y=new kt(Ee),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new CP,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new kt(Ee),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new CP),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function kP(){return new vn(te.comparator)}function NP(){return new vn(te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Q={asc:"ASCENDING",desc:"DESCENDING"},qQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zQ=function(e,t){this.databaseId=e,this.I=t};function sh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function jF(e,t){return e.I?t.toBase64():t.toUint8Array()}function WQ(e,t){return sh(e,t.toTimestamp())}function Mt(e){return oe(!!e),me.fromTimestamp(function(t){var n=ns(t);return new zn(n.seconds,n.nanos)}(e))}function tb(e,t){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function VF(e){var t=Ae.fromString(e);return oe(GF(t)),t}function ah(e,t){return tb(e.databaseId,t.path)}function wi(e,t){var n=VF(t);if(n.get(1)!==e.databaseId.projectId)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te($F(n))}function gT(e,t){return tb(e.databaseId,t)}function BF(e){var t=VF(e);return t.length===4?Ae.emptyPath():$F(t)}function uh(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $F(e){return oe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function AP(e,t,n){return{name:ah(e,t),fields:n.value.mapValue.fields}}function qF(e,t,n){var r=wi(e,t.name),i=Mt(t.updateTime),s=new Zn({mapValue:{fields:t.fields}}),a=Zt.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function sg(e,t){var n;if(t instanceof Gh)n={update:AP(e,t.key,t.value)};else if(t instanceof Qh)n={delete:ah(e,t.key)};else if(t instanceof cs)n={update:AP(e,t.key,t.data),updateMask:YQ(t.fieldMask)};else{if(!(t instanceof JS))return Z();n={verify:ah(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof vl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ia)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gl)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Z()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:WQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(e,t.precondition)),n}function RP(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?un.updateTime(Mt(h.updateTime)):h.exists!==void 0?un.exists(h.exists):un.none()}(t.currentDocument):un.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var m=null;if("setToServerValue"in v)oe(v.setToServerValue==="REQUEST_TIME"),m=new vl;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new Ia(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];m=new Sa(w)}else"increment"in v?m=new gl(p,v.increment):Z();var T=ti.fromServerFormat(v.fieldPath);return new Kh(T,m)}(e,h)}):[];if(t.update){t.update.name;var i=wi(e,t.update.name),s=new Zn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new fl(p.map(function(v){return ti.fromServerFormat(v)}))}(t.updateMask);return new cs(i,s,a,n,r)}return new Gh(i,s,n,r)}if(t.delete){var l=wi(e,t.delete);return new Qh(l,n)}if(t.verify){var c=wi(e,t.verify);return new JS(c,n)}return Z()}function zF(e,t){return{documents:[gT(e,t.path)]}}function WF(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=gT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(gP(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NAN"}};if(vP(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(gP(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NOT_NAN"}};if(vP(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(p.field),op:KQ(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:yu(h.field),direction:HQ(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Fa(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=PP(t.startAt)),t.endAt&&(n.structuredQuery.endAt=PP(t.endAt)),n}function HF(e){var t=BF(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oe(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=KF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(m){return new Hu(Uu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var c=null;n.limit&&(c=function(v){var m;return Fa(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=xP(n.startAt));var p=null;return n.endAt&&(p=xP(n.endAt)),TF(t,i,l,a,c,"F",h,p)}function KF(e){return e?e.unaryFilter!==void 0?[QQ(e)]:e.fieldFilter!==void 0?[GQ(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return KF(t)}).reduce(function(t,n){return t.concat(n)}):Z():[]}function PP(e){return{before:e.before,values:e.position}}function xP(e){var t=!!e.before,n=e.values||[];return new oh(n,t)}function HQ(e){return $Q[e]}function KQ(e){return qQ[e]}function yu(e){return{fieldPath:e.canonicalString()}}function Uu(e){return ti.fromServerFormat(e.fieldPath)}function GQ(e){return nr.create(Uu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}function QQ(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Uu(e.unaryFilter.field);return nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Uu(e.unaryFilter.field);return nr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Uu(e.unaryFilter.field);return nr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Uu(e.unaryFilter.field);return nr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Z()}}function YQ(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function GF(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=OP(t)),t=XQ(e.get(n),t);return OP(t)}function XQ(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function OP(e){return e+""}function Wi(e){var t=e.length;if(oe(t>=2),t===2)return oe(e.charAt(0)===""&&e.charAt(1)===""),Ae.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Z(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:Z()}s=a+2}return new Ae(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JQ=function(e,t){this.seconds=e,this.nanoseconds=t},Xn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Xn.store="owner",Xn.key="owner";var Ko=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ko.store="mutationQueues",Ko.keyPath="userId";var $e=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$e.store="mutations",$e.keyPath="batchId",$e.userMutationsIndex="userMutationsIndex",$e.userMutationsKeyPath=["userId","batchId"];var an=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Zr(n)]},e.key=function(t,n,r){return[t,Zr(n),r]},e}();an.store="documentMutations",an.PLACEHOLDER=new an;var ZQ=function(e,t){this.path=e,this.readTime=t},eY=function(e,t){this.path=e,this.version=t},it=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};it.store="remoteDocuments",it.readTimeIndex="readTimeIndex",it.readTimeIndexPath="readTime",it.collectionReadTimeIndex="collectionReadTimeIndex",it.collectionReadTimeIndexPath=["parentPath","readTime"];var gi=function(e){this.byteSize=e};gi.store="remoteDocumentGlobal",gi.key="remoteDocumentGlobalKey";var jn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};jn.store="targets",jn.keyPath="targetId",jn.queryTargetsIndexName="queryTargetsIndex",jn.queryTargetsKeyPath=["canonicalId","targetId"];var Kt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Kt.store="targetDocuments",Kt.keyPath=["targetId","path"],Kt.documentTargetsIndex="documentTargetsIndex",Kt.documentTargetsKeyPath=["path","targetId"];var Jn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Jn.key="targetGlobalKey",Jn.store="targetGlobal";var aa=function(e,t){this.collectionId=e,this.parent=t};aa.store="collectionParents",aa.keyPath=["collectionId","parent"];var Gi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Gi.store="clientMetadata",Gi.keyPath="clientId";var ml=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ml.store="bundles",ml.keyPath="bundleId";var yl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};yl.store="namedQueries",yl.keyPath="name";var tY=pe(pe([],pe(pe([],pe(pe([],pe(pe([],[Ko.store,$e.store,an.store,it.store,jn.store,Xn.store,Jn.store,Kt.store]),[Gi.store])),[gi.store])),[aa.store])),[ml.store,yl.store]),QF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",YF=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),pn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},j=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),XF=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new pn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new wf(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=nb(i.target.error);r.ft.reject(new wf(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new wf(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(q("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new rY(n)},e}(),_l=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ga())===12.2&&gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return q("SimpleDb","Removing database:",t),Ws(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ga(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(q("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new wf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new U(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new wf(t,h))},l.onupgradeneeded=function(c){q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var v,m,y,w,T;return N(this,function(b){switch(b.label){case 0:++a,b.label=1;case 1:return b.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=b.sent(),v=XF.open(c.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(I){return v.abort(I),j.reject(I)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(b.sent(),m),y)];case 4:return w=b.sent(),T=w.name!=="FirebaseError"&&a<3,q("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),c.close(),T?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),nY=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ws(this.Pt.delete())},e}(),wf=function(e){function t(n,r){var i=this;return(i=e.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return H(t,e),t}(U);function Ua(e){return e.name==="IndexedDbTransactionError"}var rY=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ws(r)},e.prototype.add=function(t){return q("SimpleDb","ADD",this.store.name,t,t),Ws(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ws(this.store.get(t)).next(function(r){return r===void 0&&(r=null),q("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return q("SimpleDb","DELETE",this.store.name,t),Ws(this.store.delete(t))},e.prototype.count=function(){return q("SimpleDb","COUNT",this.store.name),Ws(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){q("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new j(function(r,i){n.onerror=function(s){var a=nb(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new j(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new nY(l),h=n(l.primaryKey,l.value,c);if(h instanceof j){var p=h.catch(function(v){return c.done(),j.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return j.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ws(e){return new j(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=nb(r.target.error);n(i)}})}var DP=!1;function nb(e){var t=_l._t(ga());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new U("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return DP||(DP=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LP=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return H(t,e),t}(YF);function Hn(e,t){var n=W(e);return _l.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rb=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&OQ(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&pT(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&pT(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(me.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Oe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&cl(this.mutations,t.mutations,function(n,r){return EP(n,r)})&&cl(this.baseMutations,t.baseMutations,function(n,r){return EP(n,r)})},e}(),iY=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){oe(t.mutations.length===r.length);for(var i=MF(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),bm=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=me.min()),a===void 0&&(a=me.min()),l===void 0&&(l=Nn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),JF=function(e){this.Lt=e};function mT(e,t){if(t.document)return qF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=te.fromSegments(t.noDocument.path),r=El(t.noDocument.readTime),i=Zt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=te.fromSegments(t.unknownDocument.path);return r=El(t.unknownDocument.version),Zt.newUnknownDocument(s,r)}return Z()}function MP(e,t,n){var r=ib(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:ah(v,m.key),fields:m.data.value.mapValue.fields,updateTime:sh(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new it(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=wl(t.version);return a=t.hasCommittedMutations,new it(null,new ZQ(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=wl(t.version);return new it(new eY(h,p),null,null,!0,r,i)}return Z()}function ib(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ZF(e){var t=new zn(e[0],e[1]);return me.fromTimestamp(t)}function wl(e){var t=e.toTimestamp();return new JQ(t.seconds,t.nanoseconds)}function El(e){var t=new zn(e.seconds,e.nanoseconds);return me.fromTimestamp(t)}function Iu(e,t){for(var n=(t.baseMutations||[]).map(function(c){return RP(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return RP(e.Lt,c)}),l=zn.fromMillis(t.localWriteTimeMs);return new rb(t.batchId,l,n,a)}function ef(e){var t,n,r=El(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?El(e.lastLimboFreeSnapshotVersion):me.min();return e.query.documents!==void 0?(oe((n=e.query).documents.length===1),t=Ar($l(BF(n.documents[0])))):t=function(s){return Ar(HF(s))}(e.query),new bm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nn.fromBase64String(e.resumeToken))}function eU(e,t){var n,r=wl(t.snapshotVersion),i=wl(t.lastLimboFreeSnapshotVersion);n=rg(t.target)?zF(e.Lt,t.target):WF(e.Lt,t.target);var s=t.resumeToken.toBase64();return new jn(t.targetId,zh(t.target),r,s,t.sequenceNumber,i,n)}function ob(e){var t=HF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?IF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oY=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return FP(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:El(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return FP(t).put({bundleId:(r=n).id,createTime:wl(Mt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return UP(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:ob(i.bundledQuery),readTime:El(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return UP(t).put(function(r){return{name:r.name,readTime:wl(Mt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function FP(e){return Hn(e,ml.store)}function UP(e){return Hn(e,yl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sY=function(){function e(){this.Bt=new sb}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),j.resolve()},e.prototype.getCollectionParents=function(t,n){return j.resolve(this.Bt.getEntries(n))},e}(),sb=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new kt(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new kt(Ae.comparator)).toArray()},e}(),aY=function(){function e(){this.qt=new sb}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Zr(s)};return jP(t).put(a)}return j.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[vF(n),""],!1,!0);return jP(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Wi(c.parent))}return r})},e}();function jP(e){return Hn(e,aa.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(e,t,n){var r=e.store($e.store),i=e.store(an.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(w,T,b){return l++,b.delete()});s.push(c.next(function(){oe(l===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var m=v[p],y=an.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return j.waitFor(s).next(function(){return h})}function ag(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Z();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(41943040,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);var uY=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return oe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eo(t).$t({index:$e.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Su(t),l=Eo(t);return l.add({}).next(function(c){oe(typeof c=="number");for(var h=new rb(c,n,r,i),p=function(I,S,C){var P=C.baseMutations.map(function(x){return sg(I.Lt,x)}),D=C.mutations.map(function(x){return sg(I.Lt,x)});return new $e(S,C.batchId,C.localWriteTime.toMillis(),P,D)}(s.R,s.userId,h),v=[],m=new kt(function(I,S){return Ee(I.canonicalString(),S.canonicalString())}),y=0,w=i;y<w.length;y++){var T=w[y],b=an.key(s.userId,T.key.path,c);m=m.add(T.key.path.popLast()),v.push(l.put(p)),v.push(a.put(b,an.PLACEHOLDER))}return m.forEach(function(I){v.push(s.Ut.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),j.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Eo(t).get(n).next(function(i){return i?(oe(i.userId===r.userId),Iu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?j.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Eo(t).$t({index:$e.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(oe(c.batchId>=i),a=Iu(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Eo(t).$t({index:$e.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eo(t).Nt($e.userMutationsIndex,r).next(function(i){return i.map(function(s){return Iu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=an.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Su(t).$t({range:s},function(l,c,h){var p=l[0],v=l[1],m=l[2],y=Wi(v);if(p===r.userId&&n.path.isEqual(y))return Eo(t).get(m).next(function(w){if(!w)throw Z();oe(w.userId===r.userId),a.push(Iu(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new kt(Ee),s=[];return n.forEach(function(a){var l=an.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Su(t).$t({range:c},function(p,v,m){var y=p[0],w=p[1],T=p[2],b=Wi(w);y===r.userId&&a.path.isEqual(b)?i=i.add(T):m.done()});s.push(h)}),j.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=an.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new kt(Ee);return Su(t).$t({range:l},function(h,p,v){var m=h[0],y=h[1],w=h[2],T=Wi(y);m===r.userId&&i.isPrefixOf(T)?T.length===s&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Eo(t).get(a).next(function(l){if(l===null)throw Z();oe(l.userId===r.userId),i.push(Iu(r.R,l))}))}),j.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return tU(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),j.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return j.resolve();var i=IDBKeyRange.lowerBound(an.prefixForUser(n.userId)),s=[];return Su(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=Wi(a[1]);s.push(h)}else c.done()}).next(function(){oe(s.length===0)})})},e.prototype.containsKey=function(t,n){return nU(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return rU(t).get(this.userId).next(function(r){return r||new Ko(n.userId,-1,"")})},e}();function nU(e,t,n){var r=an.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Su(e).$t({range:s,Ft:!0},function(l,c,h){var p=l[0],v=l[1];l[2],p===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Eo(e){return Hn(e,$e.store)}function Su(e){return Hn(e,an.store)}function rU(e){return Hn(e,Ko.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ug=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),lY=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new ug(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return me.fromTimestamp(new zn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return _u(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return oe(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return _u(t).$t(function(l,c){var h=ef(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return j.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return _u(t).$t(function(r,i){var s=ef(i);n(s)})},e.prototype.Xt=function(t){return BP(t).get(Jn.key).next(function(n){return oe(n!==null),n})},e.prototype.Zt=function(t,n){return BP(t).put(Jn.key,n)},e.prototype.te=function(t,n){return _u(t).put(eU(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=zh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return _u(t).$t({range:i,index:jn.queryTargetsIndexName},function(a,l,c){var h=ef(l);Em(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Ro(t);return n.forEach(function(l){var c=Zr(l.path);s.push(a.put(new Kt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),j.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Ro(t);return j.forEach(n,function(a){var l=Zr(a.path);return j.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Ro(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ro(t),s=Oe();return i.$t({range:r,Ft:!0},function(a,l,c){var h=Wi(a[1]),p=new te(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Zr(n.path),i=IDBKeyRange.bound([r],[vF(r)],!1,!0),s=0;return Ro(t).$t({index:Kt.documentTargetsIndex,Ft:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return _u(t).get(n).next(function(r){return r?ef(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(e){return Hn(e,jn.store)}function BP(e){return Hn(e,Jn.store)}function Ro(e){return Hn(e,Kt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){return A(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==QF)throw e;return q("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Ee(n,i);return a===0?Ee(r,s):a}var cY=function(){function e(t){this.ne=t,this.buffer=new kt($P),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();$P(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),fY=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;q("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ua(i=s.sent())?(q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,ja(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),hY=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return j.resolve(tr.o);var i=new cY(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(VP)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),VP):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),cT()<=ye.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),dY=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new hY(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Rp(t,r)},e.prototype.removeReference=function(t,n,r){return Rp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Rp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return rU(r).Ot(function(a){return nU(r,a,i).next(function(l){return l&&(s=!0),j.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),Ro(t).delete([0,Zr(l.path)])})});s.push(h)}}).next(function(){return j.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Rp(t,n)},e.prototype.we=function(t,n){var r,i=Ro(t),s=tr.o;return i.$t({index:Kt.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,p=l.sequenceNumber;c===0?(s!==tr.o&&n(new te(Wi(r)),s),s=p,r=h):s=tr.o}).next(function(){s!==tr.o&&n(new te(Wi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Rp(e,t){return Ro(e).put(function(n,r){return new Kt(0,Zr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Ma(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return gF(this.inner)},e}(),iU=function(){function e(){this.changes=new ql(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:me.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Zt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?j.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),pY=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Co(t).put(Pp(n),r)},e.prototype.removeEntry=function(t,n){var r=Co(t),i=Pp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Co(t).get(Pp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Co(t).get(Pp(n)).next(function(i){return{document:r.ye(n,i),size:ag(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Sr();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Sr(),s=new vn(te.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,ag(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return j.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Co(t).$t({range:i},function(l,c,h){for(var p=te.fromSegments(l);a&&te.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Sr(),a=n.path.length+1,l={};if(r.isEqual(me.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=ib(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=it.collectionReadTimeIndex}return Co(t).$t(l,function(v,m,y){if(v.length===a){var w=mT(i.R,m);n.path.isPrefixOf(w.key.path)?Hh(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new vY(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return qP(t).get(gi.key).next(function(n){return oe(!!n),n})},e.prototype.me=function(t,n){return qP(t).put(gi.key,n)},e.prototype.ye=function(t,n){if(n){var r=mT(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(me.min()))return r}return Zt.newInvalidDocument(t)},e}(),vY=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new ql(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return H(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new kt(function(l,c){return Ee(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=MP(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=ag(p);s+=v-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=MP(r.Ie.R,Zt.newNoDocument(l,me.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),j.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(iU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(e){return Hn(e,gi.store)}function Co(e){return Hn(e,it.store)}function Pp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gY=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;oe(r<i&&r>=0&&i<=11);var a=new XF("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Xn.store)}(t),function(c){c.createObjectStore(Ko.store,{keyPath:Ko.keyPath}),c.createObjectStore($e.store,{keyPath:$e.keyPath,autoIncrement:!0}).createIndex($e.userMutationsIndex,$e.userMutationsKeyPath,{unique:!0}),c.createObjectStore(an.store)}(t),zP(t),function(c){c.createObjectStore(it.store)}(t));var l=j.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Kt.store),c.deleteObjectStore(jn.store),c.deleteObjectStore(Jn.store)}(t),zP(t)),l=l.next(function(){return function(c){var h=c.store(Jn.store),p=new Jn(0,0,me.min().toTimestamp(),0);return h.put(Jn.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store($e.store).Nt().next(function(p){c.deleteObjectStore($e.store),c.createObjectStore($e.store,{keyPath:$e.keyPath,autoIncrement:!0}).createIndex($e.userMutationsIndex,$e.userMutationsKeyPath,{unique:!0});var v=h.store($e.store),m=p.map(function(y){return v.put(y)});return j.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Gi.store,{keyPath:Gi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(gi.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(it.store);h.createIndex(it.readTimeIndex,it.readTimeIndexPath,{unique:!1}),h.createIndex(it.collectionReadTimeIndex,it.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(ml.store,{keyPath:ml.keyPath})})(t),function(c){c.createObjectStore(yl.store,{keyPath:yl.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(it.store).$t(function(r,i){n+=ag(i)}).next(function(){var r=new gi(n);return t.store(gi.store).put(gi.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Ko.store),i=t.store($e.store);return r.Nt().next(function(s){return j.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt($e.userMutationsIndex,l).next(function(c){return j.forEach(c,function(h){oe(h.userId===a.userId);var p=Iu(n.R,h);return tU(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Kt.store),r=t.store(it.store);return t.store(Jn.store).get(Jn.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new Ae(a),h=function(p){return[0,Zr(p)]}(c);s.push(n.get(h).next(function(p){return p?j.resolve():function(v){return n.put(new Kt(0,Zr(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return j.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(aa.store,{keyPath:aa.keyPath});var r=n.store(aa.store),i=new sb,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Zr(c)})}};return n.store(it.store).$t({Ft:!0},function(a,l){var c=new Ae(a);return s(c.popLast())}).next(function(){return n.store(an.store).$t({Ft:!0},function(a,l){a[0];var c=a[1];a[2];var h=Wi(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(jn.store);return r.$t(function(i,s){var a=ef(s),l=eU(n.R,a);return r.put(l)})},e}();function zP(e){e.createObjectStore(Kt.store,{keyPath:Kt.keyPath}).createIndex(Kt.documentTargetsIndex,Kt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.queryTargetsIndexName,jn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Jn.store)}var dw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mY=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new U(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dY(this,i),this.Le=n+"main",this.R=new JF(c),this.Be=new _l(this.Le,11,new gY(this.R)),this.qe=new lY(this.referenceDelegate,this.R),this.Ut=new aY,this.Ue=function(v,m){return new pY(v,m)}(this.R,this.Ut),this.Ke=new oY,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new U(O.FAILED_PRECONDITION,dw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new tr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return A(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return A(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return A(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return xp(n).put(new Gi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ua(n))return q("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Kc(t).get(Xn.key).next(function(r){return j.resolve(n.tn(r))})},e.prototype.en=function(t){return xp(t).delete(this.clientId)},e.prototype.nn=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Hn(l,Gi.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(m){return p.indexOf(m)===-1});return j.forEach(v,function(m){return c.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?j.resolve(!0):Kc(t).get(Xn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new U(O.FAILED_PRECONDITION,dw);return!1}}return!(!n.networkEnabled||!n.inForeground)||xp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&q("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return A(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xn.store,Gi.store],function(r){var i=new LP(r,tr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return xp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return uY.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;q("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,tY,function(l){return s=new LP(l,i.Ne?i.Ne.next():tr.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw gt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new U(O.FAILED_PRECONDITION,QF);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Kc(t).get(Xn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new U(O.FAILED_PRECONDITION,dw)})},e.prototype.Ze=function(t){var n=new Xn(this.clientId,this.allowTabSynchronization,Date.now());return Kc(t).put(Xn.key,n)},e.yt=function(){return _l.yt()},e.prototype.Xe=function(t){var n=this,r=Kc(t);return r.get(Xn.key).next(function(i){return n.tn(i)?(q("IndexedDbPersistence","Releasing primary lease."),r.delete(Xn.key)):j.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(gt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),tW()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return q("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return gt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){gt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Kc(e){return Hn(e,Xn.store)}function xp(e){return Hn(e,Gi.store)}function ab(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yY=function(e,t){this.progress=e,this.wn=t},oU=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):XS(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new te(n)).next(function(r){var i=vT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=vT();return this.Ut.getCollectionParents(t,s).next(function(l){return j.forEach(l,function(c){var h=function(p,v){return new so(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],m=0,y=v.mutations;m<y.length;m++){var w=y[m],T=w.key,b=i.get(T);b==null&&(b=Zt.newInvalidDocument(T),i=i.insert(T,b)),pT(w,b,v.localWriteTime),b.isFoundDocument()||(i=i.remove(T))}})}).next(function(){return i.forEach(function(l,c){Hh(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Oe(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof cs&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),_Y=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Oe(),i=Oe(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),sU=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(me.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Zp(n)||og(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(cT()<=ye.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dT(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new kt(bF(t));return n.forEach(function(i,s){Hh(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return cT()<=ye.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",dT(n)),this.Sn.getDocumentsMatchingQuery(t,n,me.min())},e}(),wY=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new vn(Ee),this.Fn=new ql(function(s){return zh(s)},Em),this.$n=me.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new oU(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(e,t,n,r){return new wY(e,t,n,r)}function uU(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=W(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new oU(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],v=[],m=Oe(),y=0,w=c;y<w.length;y++){var T=w[y];p.push(T.batchId);for(var b=0,I=T.mutations;b<I.length;b++){var S=I[b];m=m.add(S.key)}}for(var C=0,P=h;C<P.length;C++){var D=P[C];v.push(D.batchId);for(var x=0,B=D.mutations;x<B.length;x++){var M=B[x];m=m.add(M.key)}}return i.pn(l,m).next(function(ce){return{Ln:ce,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function EY(e,t){var n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,v=p.keys(),m=j.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(w){var T=c.docVersions.get(y);oe(T!==null),w.version.compareTo(T)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function lU(e){var t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function TY(e,t){var n=W(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var l=[];t.targetChanges.forEach(function(p,v){var m=i.get(v);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var w=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(T,b,I){return oe(b.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,w,p)&&l.push(n.qe.updateTargetData(s,w))}}});var c=Sr();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(cU(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(me.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return j.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.kn=i,s})}function cU(e,t,n,r,i){var s=Oe();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Sr();return n.forEach(function(c,h){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(me.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function IY(e,t){var n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Tl(e,t){var n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,j.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new bm(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Il(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=W(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ua(a=l.sent()))throw a;return q("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function lg(e,t,n){var r=W(e),i=me.min(),s=Oe();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=W(l),v=p.Fn.get(h);return v!==void 0?j.resolve(p.kn.get(v)):p.qe.getTargetData(c,h)}(r,a,Ar(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:me.min(),n?s:Oe())}).next(function(l){return{documents:l,Bn:s}})})}function fU(e,t){var n=W(e),r=W(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function hU(e){var t=W(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=W(r),l=Sr(),c=ib(s),h=Co(i),p=IDBKeyRange.lowerBound(c,!0);return h.$t({index:it.readTimeIndex,range:p},function(v,m){var y=mT(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:ZF(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function SY(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=W(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Co(i),a=me.min();return s.$t({index:it.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=ZF(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function bY(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:for(i=W(e),s=Oe(),a=Sr(),l=MF(),c=0,h=n;c<h.length;c++)p=h[c],v=t.qn(p.metadata.name),p.document&&(s=s.add(v)),a=a.insert(v,t.Un(p)),l=l.insert(v,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,Tl(i,function(T){return Ar($l(Ae.fromString("__bundle__/docs/"+T)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(T){return cU(T,m,a,me.min(),l).next(function(b){return m.apply(T),b}).next(function(b){return i.qe.removeMatchingKeysForTargetId(T,y.targetId).next(function(){return i.qe.addMatchingKeys(T,s,y.targetId)}).next(function(){return i.Mn.En(T,b)}).next(function(){return b})})})]}})})}function CY(e,t,n){return n===void 0&&(n=Oe()),A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,Tl(e,Ar(ob(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=W(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Mt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(Nn.EMPTY_BYTE_STRING,l);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kY=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return j.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Mt(r.createTime)}),j.resolve()},e.prototype.getNamedQuery=function(t,n){return j.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:ob(r.bundledQuery),readTime:Mt(r.readTime)}}(n)),j.resolve()},e}(),ub=function(){function e(){this.Wn=new kt(Rt.Gn),this.zn=new kt(Rt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Rt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Rt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new te(new Ae([])),i=new Rt(r,t),s=new Rt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new te(new Ae([])),r=new Rt(n,t),i=new Rt(n,t+1),s=Oe();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Rt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Rt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return te.comparator(t.key,n.key)||Ee(t.ns,n.ns)},e.Hn=function(t,n){return Ee(t.ns,n.ns)||te.comparator(t.key,n.key)},e}(),NY=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new kt(Rt.Gn)}return e.prototype.checkEmpty=function(t){return j.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new rb(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Rt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return j.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return j.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return j.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return j.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return j.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),j.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new kt(Ee);return n.forEach(function(s){var a=new Rt(s,0),l=new Rt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),j.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));var a=new Rt(new te(s),0),l=new kt(Ee);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),j.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;oe(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return j.forEach(n.mutations,function(s){var a=new Rt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Rt(n,0),i=this.rs.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,j.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),AY=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new vn(te.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return j.resolve(r?r.document.clone():Zt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Sr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Zt.newInvalidDocument(s))}),j.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Sr(),s=new te(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||Hh(n,p)&&(i=i.insert(p.key,p.clone()))}return j.resolve(i)},e.prototype.fs=function(t,n){return j.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new RY(this)},e.prototype.getSize=function(t){return j.resolve(this.size)},e}(),RY=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return H(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),j.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(iU),PY=function(){function e(t){this.persistence=t,this.ds=new ql(function(n){return zh(n)},Em),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.ws=0,this._s=new ub,this.targetCount=0,this.ys=ug.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),j.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return j.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return j.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),j.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),j.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new ug(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,j.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),j.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,j.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),j.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return j.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return j.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),j.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),j.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),j.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return j.resolve(r)},e.prototype.containsKey=function(t,n){return j.resolve(this._s.containsKey(n))},e}(),xY=function(){function e(t,n){var r=this;this.gs={},this.Ne=new tr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new PY(this),this.Ut=new sY,this.Ue=function(i,s){return new AY(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new JF(n),this.Ke=new kY(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new NY(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;q("MemoryPersistence","Starting transaction:",t);var s=new OY(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return j.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),OY=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return H(t,e),t}(YF),DY=function(){function e(t){this.persistence=t,this.As=new ub,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Z()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),j.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),j.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),j.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.vs,function(i){var s=te.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return j.or([function(){return j.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),zt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(e,t){return"firestore_clients_"+e+"_"+t}function HP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function pw(e,t){return"firestore_targets_"+e+"_"+t}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");var KP=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new U(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(gt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),vw=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new U(i.error.code,i.error.message)),s?new e(t,i.state,r):(gt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),GP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Sm(),a=0;i&&a<r.activeTargetIds.length;++a)i=_F(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(gt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),LY=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(gt("SharedClientState","Failed to parse online state: "+t),null)},e}(),yT=function(){function e(){this.activeTargetIds=Sm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),gw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new vn(Ee),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=WP(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new yT),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(WP(this.persistenceKey,i)))&&(a=GP.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.$s;h<p.length;h++)v=p[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(pw(this.persistenceKey,t));if(r){var i=vw.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(pw(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return q("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){q("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){q("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(q("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return A(n,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var m=tr.o;if(v!=null)try{var y=JSON.parse(v);oe(typeof y=="number"),m=y}catch(w){gt("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(r.newValue))!==tr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new KP(this.currentUser,t,n,r),s=HP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=HP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=pw(this.persistenceKey,t),s=new vw(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return GP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return KP.Vs(new zt(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return vw.Vs(i,n)},e.prototype.js=function(t){return LY.Vs(t)},e.prototype.ii=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(q("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Sm();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),dU=function(){function e(){this.li=new yT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new yT,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),MY=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),QP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),FY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},UY=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),jY=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return H(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,l){var c=new gQ;c.listenOnce(dQ.COMPLETE,function(){try{switch(c.getLastErrorCode()){case hw.NO_ERROR:var p=c.getResponseJson();q("Connection","XHR received:",JSON.stringify(p)),a(p);break;case hw.TIMEOUT:q("Connection",'RPC "'+n+'" timed out'),l(new U(O.DEADLINE_EXCEEDED,"Request time out"));break;case hw.HTTP_ERROR:var v=c.getStatus();if(q("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(w){var T=w.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(T)>=0?T:O.UNKNOWN}(m.status);l(new U(y,m.message))}else l(new U(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new U(O.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{q("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=fQ(),a=hQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new vQ({})),this.ki(l.initMessageHeaders,r),DI()||xL()||J6()||Z6()||eW()||LI()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");q("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,v=!1,m=new UY({Ei:function(w){v?q("Connection","Not sending because WebChannel is closed:",w):(p||(q("Connection","Opening WebChannel transport."),h.open(),p=!0),q("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,T,b){w.listen(T,function(I){try{b(I)}catch(S){setTimeout(function(){throw S},0)}})};return y(h,Np.EventType.OPEN,function(){v||q("Connection","WebChannel transport opened.")}),y(h,Np.EventType.CLOSE,function(){v||(v=!0,q("Connection","WebChannel transport closed"),m.Vi())}),y(h,Np.EventType.ERROR,function(w){v||(v=!0,nh("Connection","WebChannel transport errored:",w),m.Vi(new U(O.UNAVAILABLE,"The operation could not be completed")))}),y(h,Np.EventType.MESSAGE,function(w){var T;if(!v){var b=w.data[0];oe(!!b);var I=b,S=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(S){q("Connection","WebChannel received error:",S);var C=S.status,P=function(x){var B=dt[x];if(B!==void 0)return LF(B)}(C),D=S.message;P===void 0&&(P=O.INTERNAL,D="Unknown error status: "+C+" with message "+S.message),v=!0,m.Vi(new U(P,D)),h.close()}else q("Connection","WebChannel received:",b),m.Si(b)}}),y(a,pQ.STAT_EVENT,function(w){w.stat===hP.PROXY?q("Connection","Detected buffering proxy"):w.stat===hP.NOPROXY&&q("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);q("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(l){return q("RestConnection","Received: ",l),l},function(l){throw nh("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=FY[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return typeof window<"u"?window:null}function nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e){return new zQ(e,!0)}var lb=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&q("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),vU=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new lb(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return A(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===O.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new U(O.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return A(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return q("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),VY=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return H(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:Z()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(b,I){return b.I?(oe(I===void 0||typeof I=="string"),Nn.fromBase64String(I||"")):(oe(I===void 0||I instanceof Uint8Array),Nn.fromUint8Array(I||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(b){var I=b.code===void 0?O.UNKNOWN:LF(b.code);return new U(I,b.message||"")}(m);l=new UF(c,h,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=wi(s,c.document.name),p=Mt(c.document.updateTime);var m=new Zn({mapValue:{fields:c.document.fields}}),y=(v=Zt.newFoundDocument(h,p,m),c.targetIds||[]),w=c.removedTargetIds||[];l=new tv(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=wi(s,c.document),p=c.readTime?Mt(c.readTime):me.min(),m=Zt.newNoDocument(h,p),v=c.removedTargetIds||[],l=new tv([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=wi(s,c.document),p=c.removedTargetIds||[],l=new tv([],p,h,null);else{if(!("filter"in a))return Z();a.filter;var T=a.filter;T.targetId,c=T.count||0,h=new LQ(c),p=T.targetId,l=new FF(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return me.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?me.min():a.readTime?Mt(a.readTime):me.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=uh(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=rg(c)?{documents:zF(s,c)}:{query:WF(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=jF(s,a.resumeToken):a.snapshotVersion.compareTo(me.min())>0&&(l.readTime=sh(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Z()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=uh(this.R),r.removeTarget=n,this.cr(r)},t}(vU),BY=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return H(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(oe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(oe(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?Mt(c.updateTime):Mt(h);return p.isEqual(me.min())&&(p=Mt(h)),new xQ(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Mt(n.commitTime);return this.listener.Tr(i,r)}return oe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=uh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return sg(r.R,s)})};this.cr(i)},t}(vU),$Y=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return H(t,e),t.prototype.br=function(){if(this.Rr)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new U(O.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new U(O.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),qY=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(gt(n),this.Vr=!1):q("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),zY=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return A(s,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return fs(this)?(q("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return A(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=W(c)).Or.add(4),[4,zl(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Xh(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new qY(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!fs(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function zl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Cm(e,t){var n=W(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),hb(n)?fb(n):Hl(n).er()&&cb(n,t))}function lh(e,t){var n=W(e),r=Hl(n);n.$r.delete(t),r.er()&&gU(n,t),n.$r.size===0&&(r.er()?r.ir():fs(n)&&n.Br.set("Unknown"))}function cb(e,t){e.qr.U(t.targetId),Hl(e).mr(t)}function gU(e,t){e.qr.U(t),Hl(e).yr(t)}function fb(e){e.qr=new BQ({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Hl(e).start(),e.Br.Sr()}function hb(e){return fs(e)&&!Hl(e).tr()&&e.$r.size>0}function fs(e){return W(e).Or.size===0}function mU(e){e.qr=void 0}function WY(e){return A(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){cb(e,n)}),[2]})})}function HY(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){return mU(e),hb(e)?(e.Br.Nr(t),fb(e)):e.Br.set("Unknown"),[2]})})}function KY(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof UF&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return A(this,void 0,void 0,function(){var h,p,v,m;return N(this,function(y){switch(y.label){case 0:h=c.cause,p=0,v=c.targetIds,y.label=1;case 1:return p<v.length?(m=v[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,cg(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof tv?e.qr.X(t):t instanceof FF?e.qr.rt(t):e.qr.et(t),n.isEqual(me.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,lU(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(v);m&&l.$r.set(v,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var v=l.$r.get(p);if(v){l.$r.set(p,v.withResumeToken(Nn.EMPTY_BYTE_STRING,v.snapshotVersion)),gU(l,p);var m=new bm(v.target,p,1,v.sequenceNumber);cb(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return q("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,cg(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function cg(e,t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Ua(t))throw t;return e.Or.add(1),[4,zl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return lU(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return q("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Xh(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function yU(e,t){return t().catch(function(n){return cg(e,n,t)})}function Wl(e){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=W(e),n=rs(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return fs(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,IY(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.Fr.push(c);var h=rs(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,cg(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return _U(t)&&wU(t),[2]}})})}function _U(e){return fs(e)&&!rs(e).tr()&&e.Fr.length>0}function wU(e){rs(e).start()}function GY(e){return A(this,void 0,void 0,function(){return N(this,function(t){return rs(e).Ar(),[2]})})}function QY(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=rs(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function YY(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=iY.from(r,t,n),[4,yU(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Wl(e)];case 2:return s.sent(),[2]}})})}function XY(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&rs(e).pr?[4,function(r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return DF(a=i.code)&&a!==O.ABORTED?(s=r.Fr.shift(),rs(r).sr(),[4,yU(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Wl(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _U(e)&&wU(e),[2]}})})}function _T(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(e),t?(n.Or.delete(2),[4,Xh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,zl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Hl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=W(n);return s.br(),new VY(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:WY.bind(null,e),Ri:HY.bind(null,e),_r:KY.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),hb(e)?fb(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),mU(e),r.label=3;case 3:return[2]}})})})),e.Ur}function rs(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=W(n);return s.br(),new BY(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:GY.bind(null,e),Ri:XY.bind(null,e),Ir:QY.bind(null,e),Tr:YY.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Wl(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(q("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var JY=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Kl(e,t){if(gt("AsyncQueue",t+": "+e),Ua(e))return new U(O.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EU=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||te.comparator(n.key,r.key)}:function(n,r){return te.comparator(n.key,r.key)},this.keyedMap=vT(),this.sortedSet=new vn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),YP=function(){function e(){this.Qr=new vn(te.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Z():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),fg=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,EU.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),ZY=function(){this.Wr=void 0,this.listeners=[]},e7=function(){this.queries=new ql(function(e){return SF(e)},Wh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(n=W(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new ZY),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=Kl(l,"Initialization of query '"+dT(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&vb(n),[2]}})})}function pb(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){return n=W(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function t7(e,t){for(var n=W(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&vb(n)}function n7(e,t,n){var r=W(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function vb(e){e.Gr.forEach(function(t){t.next()})}var gb=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new fg(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=fg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),r7=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),XP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return wi(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?qF(this.R,t.document,!1):Zt.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Mt(t)},e}(),i7=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=TU(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new XP(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],v=(n.get(p)||Oe()).add(l);n.set(p,v)}}return n},e.prototype.complete=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,bY(this.localStore,new XP(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,CY(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new yY(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IU=function(e){this.key=e},SU=function(e){this.key=e},bU=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Oe(),this.mutatedKeys=Oe(),this.lo=bF(t),this.fo=new EU(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new YP,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Zp(this.query)&&s.size===this.query.limit?s.last():null,p=og(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var w=s.get(m),T=Hh(r.query,y)?y:null,b=!!w&&r.mutatedKeys.has(w.key),I=!!T&&(T.hasLocalMutations||r.mutatedKeys.has(T.key)&&T.hasCommittedMutations),S=!1;w&&T?w.data.isEqual(T.data)?b!==I&&(i.track({type:3,doc:T}),S=!0):r.yo(w,T)||(i.track({type:2,doc:T}),S=!0,(h&&r.lo(T,h)>0||p&&r.lo(T,p)<0)&&(c=!0)):!w&&T?(i.track({type:0,doc:T}),S=!0):w&&!T&&(i.track({type:1,doc:w}),S=!0,(h||p)&&(c=!0)),S&&(T?(l=l.add(T),a=I?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Zp(this.query)||og(this.query))for(;l.size>this.query.limit;){var v=Zp(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(m,y){var w=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return w(m)-w(y)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new fg(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new YP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Oe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new SU(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new IU(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Oe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return fg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),o7=function(e,t,n){this.query=e,this.targetId=t,this.view=n},s7=function(e){this.key=e,this.bo=!1},a7=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new ql(function(l){return SF(l)},Wh),this.Vo=new Map,this.So=new Set,this.Do=new vn(te.comparator),this.Co=new Map,this.No=new ub,this.xo={},this.ko=new Map,this.Fo=ug.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function u7(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=Eb(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Tl(n.localStore,Ar(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,mb(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Cm(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function mb(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return e.Oo=function(v,m,y){return function(w,T,b,I){return A(this,void 0,void 0,function(){var S,C,P;return N(this,function(D){switch(D.label){case 0:return S=T.view._o(b),S.Nn?[4,lg(w.localStore,T.query,!1).then(function(x){var B=x.documents;return T.view._o(B,S)})]:[3,2];case 1:S=D.sent(),D.label=2;case 2:return C=I&&I.targetChanges.get(T.targetId),P=T.view.applyChanges(S,w.isPrimaryClient,C),[2,(wT(w,T.targetId,P.To),P.snapshot)]}})})}(e,v,m,y)},[4,lg(e.localStore,t,!0)];case 1:return i=p.sent(),s=new bU(t,i.Bn),a=s._o(i.documents),l=eb.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),wT(e,n,c.To),h=new o7(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function l7(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=W(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Wh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Il(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),lh(n.remoteStore,r.targetId),Sl(n,r.targetId)}).catch(ja)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Sl(n,r.targetId),[4,Il(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function c7(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=Tb(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,v=W(c),m=zn.now(),y=h.reduce(function(w,T){return w.add(T.key)},Oe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(T){p=T;for(var b=[],I=0,S=h;I<S.length;I++){var C=S[I],P=DQ(C,p.get(C.key));P!=null&&b.push(new cs(C.key,P,wF(P.value.mapValue),un.exists(!0)))}return v._n.addMutationBatch(w,m,b,h)})}).then(function(w){return w.applyToLocalDocumentSet(p),{batchId:w.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var v=c.xo[c.currentUser.toKey()];v||(v=new vn(Ee)),v=v.insert(h,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,ao(r,i.changes)];case 3:return l.sent(),[4,Wl(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Kl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function CU(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=W(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,TY(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?oe(l.bo):s.removedDocuments.size>0&&(oe(l.bo),l.bo=!1))}),[4,ao(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ja(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function JP(e,t,n){var r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=W(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var v=0,m=p.listeners;v<m.length;v++)m[v].zr(a)&&(c=!0)}),c&&vb(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function f7(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return(r=W(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new vn(te.comparator)).insert(s,Zt.newNoDocument(s,me.min())),l=Oe().add(s),c=new ZS(me.min(),new Map,new kt(Ee),a,l),[4,CU(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),wb(r),[3,4];case 2:return[4,Il(r.localStore,t,!1).then(function(){return Sl(r,t,n)}).catch(ja)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function h7(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=W(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,EY(n.localStore,t)];case 2:return i=s.sent(),_b(n,r,null),yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ao(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ja(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function d7(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=W(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=W(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(v){return oe(v!==null),p=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),_b(r,t,n),yb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,ao(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ja(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function p7(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:fs((n=W(e)).remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=W(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=l.sent(),a=Kl(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function yb(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function _b(e,t,n){var r=W(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Sl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||kU(e,a)})}function kU(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(lh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),wb(e))}function wT(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof IU?(e.No.addReference(s.key,t),v7(e,s)):s instanceof SU?(q("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||kU(e,s.key)):Z()}}function v7(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(q("SyncEngine","New document in limbo: "+n),e.So.add(r),wb(e))}function wb(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new te(Ae.fromString(t)),r=e.Fo.next();e.Co.set(r,new s7(n)),e.Do=e.Do.insert(n,r),Cm(e.remoteStore,new bm(Ar($l(n.path)),r,2,tr.o))}}function ao(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r=W(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=_Y.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return A(this,void 0,void 0,function(){var p,v,m,y,w,T,b,I,S;return N(this,function(C){switch(C.label){case 0:p=W(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return j.forEach(h,function(D){return j.forEach(D.bn,function(x){return p.persistence.referenceDelegate.addReference(P,D.targetId,x)}).next(function(){return j.forEach(D.vn,function(x){return p.persistence.referenceDelegate.removeReference(P,D.targetId,x)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Ua(v=C.sent()))throw v;return q("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)w=y[m],T=w.targetId,w.fromCache||(b=p.kn.get(T),I=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(I),p.kn=p.kn.insert(T,S));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function g7(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=W(e)).currentUser.isEqual(t)?[3,3]:(q("SyncEngine","User change. New user:",t.toKey()),[4,uU(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(c){c.reject(new U(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,ao(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function m7(e,t){var n=W(e),r=n.Co.get(t);if(r&&r.bo)return Oe().add(r.key);var i=Oe(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function y7(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,lg((n=W(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&wT(n,t.targetId,i.To),i)]}})})}function _7(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,hU((t=W(e)).localStore).then(function(r){return ao(t,r)})]})})}function w7(e,t,n,r){return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=W(l),p=W(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(m){return m?h.Mn.pn(v,m):j.resolve(null)})})}((i=W(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Wl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(_b(i,t,r||null),yb(i,t),function(l,c){W(W(l)._n).Gt(c)}(i.localStore,t)):Z(),a.label=4;case 4:return[4,ao(i,s)];case 5:return a.sent(),[3,7];case 6:q("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function E7(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return Eb(n=W(e)),Tb(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ZP(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,_T(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],Cm(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return Sl(n,m),Il(n.localStore,m,!0)}),lh(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,ZP(n,c)];case 5:return p.sent(),function(v){var m=W(v);m.Co.forEach(function(y,w){lh(m.remoteStore,w)}),m.No.ts(),m.Co=new Map,m.Do=new vn(te.comparator)}(n),n.$o=!1,[4,_T(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function ZP(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m,y,w,T,b;return N(this,function(I){switch(I.label){case 0:r=W(e),i=[],s=[],a=0,l=t,I.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,Tl(r.localStore,Ar(p[0]))]:[3,7]):[3,13];case 2:h=I.sent(),v=0,m=p,I.label=3;case 3:return v<m.length?(y=m[v],w=r.Po.get(y),[4,y7(r,w)]):[3,6];case 4:(T=I.sent()).snapshot&&s.push(T.snapshot),I.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,fU(r.localStore,c)];case 8:return b=I.sent(),[4,Tl(r.localStore,b)];case 9:return h=I.sent(),[4,mb(r,NU(b),c,!1)];case 10:I.sent(),I.label=11;case 11:i.push(h),I.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function NU(e){return TF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function T7(e){var t=W(e);return W(W(t.localStore).persistence).fn()}function I7(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return(i=W(e)).$o?(q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,hU(i.localStore)];case 3:return s=l.sent(),a=ZS.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ao(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Il(i.localStore,t,!0)];case 6:return l.sent(),Sl(i,t,r),[3,8];case 7:Z(),l.label=8;case 8:return[2]}})})}function S7(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=Eb(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(q("SyncEngine","Adding an already active target "+a),[3,5]):[4,fU(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,Tl(r.localStore,l)];case 3:return c=y.sent(),[4,mb(r,NU(l),c.targetId,!1)];case 4:y.sent(),Cm(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return N(this,function(T){switch(T.label){case 0:return r.Vo.has(w)?[4,Il(r.localStore,w,!1).then(function(){lh(r.remoteStore,w),Sl(r,w)}).catch(ja)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,v=n,y.label=7;case 7:return p<v.length?(m=v[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Eb(e){var t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=CU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=f7.bind(null,t),t.vo._r=t7.bind(null,t.eventManager),t.vo.Mo=n7.bind(null,t.eventManager),t}function Tb(e){var t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=h7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d7.bind(null,t),t}function b7(e,t,n){var r=W(e);(function(i,s,a){return A(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,T){var b=W(w),I=Mt(T.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",function(S){return b.Ke.getBundleMetadata(S,T.id)}).then(function(S){return!!S&&S.createTime.compareTo(I)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(TU(l)),c=new i7(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,ao(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,T){var b=W(w);return b.persistence.runTransaction("Save bundle","readwrite",function(I){return b.Ke.saveBundleMetadata(I,T)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return nh("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var AU=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return aU(this.persistence,new sU,t.initialUser,this.R)},e.prototype.qo=function(t){return new xY(DY.bs,this.R)},e.prototype.Bo=function(t){return new dU},e.prototype.terminate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),RU=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return H(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,SY(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Tb(this.Qo.syncEngine)];case 4:return i.sent(),[4,Wl(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return aU(this.persistence,new sU,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new fY(r,n.asyncQueue)},t.prototype.qo=function(n){var r=ab(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new mY(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,pU(),nv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new dU},t}(AU),C7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return H(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof gw?(this.sharedClientState.syncEngine={ui:w7.bind(null,r),ai:I7.bind(null,r),hi:S7.bind(null,r),fn:T7.bind(null,r),ci:_7.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,E7(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=pU();if(!gw.yt(r))throw new U(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=ab(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new gw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(RU),ET=function(){function e(){}return e.prototype.initialize=function(t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return JP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=g7.bind(null,this.syncEngine),[4,_T(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new e7},e.prototype.createDatastore=function(t){var n,r=Yh(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new jY(n));return function(s,a,l){return new $Y(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return JP(l.syncEngine,c,0)},a=QP.yt()?new QP:new MY,new zY(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new a7(r,i,s,a,l,c);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(t),q("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,zl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return A(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return A(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),k7=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new pn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new r7(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),N7=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new U(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return A(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return l=W(s),c=uh(l.R)+"/documents",h={documents:a.map(function(w){return ah(l.R,w)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return p=y.sent(),v=new Map,p.forEach(function(w){var T=function(b,I){return"found"in I?function(S,C){oe(!!C.found),C.found.name,C.found.updateTime;var P=wi(S,C.found.name),D=Mt(C.found.updateTime),x=new Zn({mapValue:{fields:C.found.fields}});return Zt.newFoundDocument(P,D,x)}(b,I):"missing"in I?function(S,C){oe(!!C.missing),oe(!!C.readTime);var P=wi(S,C.missing),D=Mt(C.readTime);return Zt.newNoDocument(P,D)}(b,I):Z()}(l.R,w);v.set(T.key.toString(),T)}),m=[],[2,(a.forEach(function(w){var T=v.get(w.toString());oe(!!T),m.push(T)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Qh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=te.fromPath(s);n.mutations.push(new JS(a,n.precondition(a)))}),[4,function(i,s){return A(this,void 0,void 0,function(){var a,l,c;return N(this,function(h){switch(h.label){case 0:return a=W(i),l=uh(a.R)+"/documents",c={writes:s.map(function(p){return sg(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Z();n=me.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new U(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?un.updateTime(n):un.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(me.min()))throw new U(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(n)}return un.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),A7=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new lb(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return A(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new N7(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Fa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!DF(n)}return!1},e}(),R7=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zt.UNAUTHENTICATED,this.clientId=pF.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return A(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return q("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return A(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Kl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(e,t){return A(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,uU(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function xU(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ib(e)];case 1:return n=i.sent(),q("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return A(this,void 0,void 0,function(){var c,h;return N(this,function(p){switch(p.label){case 0:return(c=W(a)).asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials"),h=fs(c),c.Or.add(3),[4,zl(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Or.delete(3),[4,Xh(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Ib(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(q("FirestoreClient","Using default OfflineComponentProvider"),[4,PU(e,new AU)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Nm(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(q("FirestoreClient","Using default OnlineComponentProvider"),[4,xU(e,new ET)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function tx(e){return Ib(e).then(function(t){return t.persistence})}function Sb(e){return Ib(e).then(function(t){return t.localStore})}function nx(e){return Nm(e).then(function(t){return t.remoteStore})}function bb(e){return Nm(e).then(function(t){return t.syncEngine})}function bl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,Nm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=u7.bind(null,t.syncEngine),n.onUnlisten=l7.bind(null,t.syncEngine),n)]}})})}function rx(e,t,n){var r=this;n===void 0&&(n={});var i=new pn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new km({next:function(w){c.enqueueAndForget(function(){return pb(l,y)});var T=w.docs.has(h);!T&&w.fromCache?v.reject(new U(O.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&p&&p.source==="server"?v.reject(new U(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new gb($l(h.path),m,{includeMetadataChanges:!0,so:!0});return db(l,y)},[4,bl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function ix(e,t,n){var r=this;n===void 0&&(n={});var i=new pn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new km({next:function(w){c.enqueueAndForget(function(){return pb(l,y)}),w.fromCache&&p.source==="server"?v.reject(new U(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new gb(h,m,{includeMetadataChanges:!0,so:!0});return db(l,y)},[4,bl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var P7=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},hg=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ox=new Map,OU=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},sx=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(zt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),x7=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),O7=function(){function e(t){var n=this;this.currentUser=zt.UNAUTHENTICATED,this.oc=new pn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){q("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(q("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(q("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(oe(typeof i.accessToken=="string"),new OU(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return oe(t===null||typeof t=="string"),new zt(t)},e}(),D7=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=zt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),L7=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new D7(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(zt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(e,t,n){if(!n)throw new U(O.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function kb(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new U(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function DU(e,t,n,r){if(t===!0&&r===!0)throw new U(O.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ax(e){if(!te.isDocumentKey(e))throw new U(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ux(e){if(te.isDocumentKey(e))throw new U(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Am(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Z()}function ke(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new U(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Am(e);throw new U(O.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function lx(e,t){if(t<=0)throw new U(O.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cx=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new U(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new U(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),ch=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cx({}),this._settingsFrozen=!1,t instanceof hg?(this._databaseId=t,this._credentials=new sx):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new U(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hg(r.options.projectId)}(t),this._credentials=new O7(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new U(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new U(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cx(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new sx;switch(n.type){case"gapi":var r=n.client;return oe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new L7(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new U(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=ox.get(t))&&(q("ComponentProvider","Removing Datastore"),ox.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ze=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Go(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Wn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Go=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,$l(i))||this)._path=i,s.type="collection",s}return H(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ze(this.firestore,null,new te(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),Cb("collection","path",t),e instanceof ch)return ux(n=Ae.fromString.apply(Ae,pe([t],r))),new Go(e,null,n);if(!(e instanceof Ze||e instanceof Go))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ux(n=Ae.fromString.apply(Ae,pe([e.path],r)).child(Ae.fromString(t))),new Go(e.firestore,null,n)}function rv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),arguments.length===1&&(t=pF.u()),Cb("doc","path",t),e instanceof ch)return ax(n=Ae.fromString.apply(Ae,pe([t],r))),new Ze(e,null,new te(n));if(!(e instanceof Ze||e instanceof Go))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ax(n=e._path.child(Ae.fromString.apply(Ae,pe([t],r)))),new Ze(e.firestore,e instanceof Go?e.converter:null,new te(n))}function MU(e,t){return e=de(e),t=de(t),(e instanceof Ze||e instanceof Go)&&(t instanceof Ze||t instanceof Go)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function FU(e,t){return e=de(e),t=de(t),e instanceof Wn&&t instanceof Wn&&e.firestore===t.firestore&&Wh(e._query,t._query)&&e.converter===t.converter}var M7=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new lb(this,"async_queue_retry"),this.Ic=function(){var r=nv();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=nv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=nv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new pn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ua(t=r.sent()))throw t;return q("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=JY.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Z()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Cl(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var F7=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new pn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),U7=-1,ft=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new M7,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return H(t,e),t.prototype._terminate=function(){return this._firestoreClient||UU(this),this._firestoreClient.terminate()},t}(ch);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(e){return e._firestoreClient||UU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function UU(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new P7(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new R7(e._credentials,e._queue,r)}function fx(e,t,n){var r=this,i=new pn;return e.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,PU(e,n)];case 1:return a.sent(),[4,xU(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===O.FAILED_PRECONDITION||l.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function hx(e){if(e._initialized||e._terminated)throw new U(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new U(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ba=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Nn.fromBase64String(t))}catch(n){throw new U(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Nn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Va=function(e){this._methodName=e},Rm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new U(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new U(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)},e}(),j7=/^__.*__$/,V7=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new cs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gh(t,this.data,n,this.fieldTransforms)},e}(),jU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new cs(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var BU=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return dg(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(VU(this.Nc)&&j7.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),B7=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Yh(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new BU({Nc:t,methodName:n,qc:r,path:ti.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ba(e){var t=e._freezeSettings(),n=Yh(e._databaseId);return new B7(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);Pb("Data must be an object, but it was:",a,r);var l,c,h=zU(r,a);if(s.merge)l=new fl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,m=s.mergeFields;v<m.length;v++){var y=TT(t,m[v],n);if(!a.contains(y))throw new U(O.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");HU(p,y)||p.push(y)}l=new fl(p),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new V7(new Zn(h),l,c)}var Nb=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Va);function $U(e,t,n){return new BU({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var $7=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype._toFieldTransform=function(n){return new Kh(n.path,new vl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Va),q7=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=$U(this,n,!0),i=this.Kc.map(function(a){return $a(a,r)}),s=new Ia(i);return new Kh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Va),z7=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=$U(this,n,!0),i=this.Kc.map(function(a){return $a(a,r)}),s=new Sa(i);return new Kh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Va),W7=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return H(t,e),t.prototype._toFieldTransform=function(n){var r=new gl(n.R,NF(n.R,this.Qc));return new Kh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Va);function Ab(e,t,n,r){var i=e.Uc(1,t,n);Pb("Data must be an object, but it was:",i,r);var s=[],a=Zn.empty();Ma(r,function(c,h){var p=xb(t,c,n);h=de(h);var v=i.Oc(p);if(h instanceof Nb)s.push(p);else{var m=$a(h,v);m!=null&&(s.push(p),a.set(p,m))}});var l=new fl(s);return new jU(a,l,i.fieldTransforms)}function Rb(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[TT(t,r,n)],c=[i];if(s.length%2!=0)throw new U(O.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(TT(t,s[h])),c.push(s[h+1]);for(var p=[],v=Zn.empty(),m=l.length-1;m>=0;--m)if(!HU(p,l[m])){var y=l[m],w=c[m];w=de(w);var T=a.Oc(y);if(w instanceof Nb)p.push(y);else{var b=$a(w,T);b!=null&&(p.push(y),v.set(y,b))}}var I=new fl(p);return new jU(v,I,a.fieldTransforms)}function qU(e,t,n,r){return r===void 0&&(r=!1),$a(n,e.Uc(r?4:3,t))}function $a(e,t){if(WU(e=de(e)))return Pb("Unsupported field value:",t,e),zU(e,t);if(e instanceof Va)return function(n,r){if(!VU(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=$a(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=de(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NF(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=zn.fromDate(n);return{timestampValue:sh(r.R,i)}}if(n instanceof zn)return i=new zn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:sh(r.R,i)};if(n instanceof Rm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ba)return{bytesValue:jF(r.R,n._byteString)};if(n instanceof Ze){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:tb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Am(n))}(e,t)}function zU(e,t){var n={};return gF(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ma(e,function(r,i){var s=$a(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof zn||e instanceof Rm||e instanceof ba||e instanceof Ze||e instanceof Va)}function Pb(e,t,n){if(!WU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Am(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function TT(e,t,n){if((t=de(t))instanceof Ei)return t._internalPath;if(typeof t=="string")return xb(e,t);throw dg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var H7=new RegExp("[~\\*/\\[\\]]");function xb(e,t,n){if(t.search(H7)>=0)throw dg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ei.bind.apply(Ei,pe([void 0],t.split("."))))()._internalPath}catch{throw dg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function dg(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new U(O.INVALID_ARGUMENT,(l+=". ")+e+c)}function HU(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fh=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ze(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new K7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(pg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),K7=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(fh);function pg(e,t){return typeof t=="string"?xb(e,t):t instanceof Ei?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Qi=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return H(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(pg("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(fh),Ef=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Qi),Po=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Ef(r._firestore,r._userDataWriter,i.key,i,new Zs(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ef(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Zs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Ef(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Zs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:G7(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function G7(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function KU(e,t){return e instanceof Qi&&t instanceof Qi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Po&&t instanceof Po&&e._firestore===t._firestore&&FU(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(e){if(og(e)&&e.explicitOrderBy.length===0)throw new U(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jh=function(){};function To(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var Q7=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return H(t,e),t.prototype._apply=function(n){var r=Ba(n.firestore),i=function(s,a,l,c,h,p,v){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new U(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){mx(v,p);for(var y=[],w=0,T=v;w<T.length;w++){var b=T[w];y.push(gx(c,s,b))}m={arrayValue:{values:y}}}else m=gx(c,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mx(v,p),m=qU(l,"where",v,p==="in"||p==="not-in");var I=nr.create(h,p,m);return function(S,C){if(C.g()){var P=YS(S);if(P!==null&&!P.isEqual(C.field))throw new U(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+C.field.toString()+"'");var D=QS(S);D!==null&&YU(S,C.field,D)}var x=function(B,M){for(var ce=0,R=B.filters;ce<R.length;ce++){var Vt=R[ce];if(M.indexOf(Vt.op)>=0)return Vt.op}return null}(S,function(B){switch(B){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(x!==null)throw x===C.op?new U(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new U(O.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+x.toString()+"' filters.")}(s,I),I}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Wn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new so(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Jh),Y7=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return H(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new U(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Hu(s,a);return function(c,h){if(QS(c)===null){var p=YS(c);p!==null&&YU(c,p,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new Wn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new so(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Jh),dx=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return H(t,e),t.prototype._apply=function(n){return new Wn(n.firestore,n.converter,IF(n._query,this.Hc,this.Jc))},t}(Jh),px=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return H(t,e),t.prototype._apply=function(n){var r=QU(n,this.type,this.Yc,this.Xc);return new Wn(n.firestore,n.converter,function(i,s){return new so(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Jh),vx=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return H(t,e),t.prototype._apply=function(n){var r=QU(n,this.type,this.Yc,this.Xc);return new Wn(n.firestore,n.converter,function(i,s){return new so(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Jh);function QU(e,t,n,r){if(n[0]=de(n[0]),n[0]instanceof fh)return function(s,a,l,c,h){if(!c)throw new U(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,m=pl(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())p.push(ng(a,c.key));else{var w=c.data.field(y.field);if(HS(w))throw new U(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var T=y.field.canonicalString();throw new U(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(w)}}return new oh(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ba(e.firestore);return function(s,a,l,c,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new U(O.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new U(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!XS(s)&&w.indexOf("/")!==-1)throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var T=s.path.child(Ae.fromString(w));if(!te.isDocumentKey(T))throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var b=new te(T);m.push(ng(a,b))}else{var I=qU(l,c,w);m.push(I)}}return new oh(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function gx(e,t,n){if(typeof(n=de(n))=="string"){if(n==="")throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!XS(t)&&n.indexOf("/")!==-1)throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ae.fromString(n));if(!te.isDocumentKey(r))throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ng(e,new te(r))}if(n instanceof Ze)return ng(e,n._key);throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Am(n)+".")}function mx(e,t){if(!Array.isArray(e)||e.length===0)throw new U(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new U(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function YU(e,t,n){if(!n.isEqual(t))throw new U(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ta(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Z()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Ma(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Rm(pt(t.latitude),pt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=yF(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rh(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ns(t);return new zn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ae.fromString(t);oe(GF(r));var i=new hg(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||gt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var X7=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new ba(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},t}(Ob),J7=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ba(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=xo(t,this._firestore),s=xm(i.converter,n,r),a=Pm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,un.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=xo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof Ei?Rb(this._dataReader,"WriteBatch.update",l._key,n,r,i):Ab(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,un.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=xo(t,this._firestore);return this._mutations=this._mutations.concat(new Qh(n._key,un.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new U(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e,t){if((e=de(e)).firestore!==t)throw new U(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ua=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new ba(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},t}(Ob);function yx(e,t,n){e=ke(e,Ze);var r=ke(e.firestore,ft),i=xm(e.converter,t,n);return Zh(r,[Pm(Ba(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,un.none())])}function _x(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ke(e,Ze);var s=ke(e.firestore,ft),a=Ba(s);return Zh(s,[(typeof(t=de(t))=="string"||t instanceof Ei?Rb(a,"updateDoc",e._key,t,n,r):Ab(a,"updateDoc",e._key,t)).toMutation(e._key,un.exists(!0))])}function XU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=de(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Cl(i[l])||(a=i[l],l++);var c,h,p,v={includeMetadataChanges:a.includeMetadataChanges};if(Cl(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Ze)h=ke(e.firestore,ft),p=$l(e._key.path),c={next:function(T){i[l]&&i[l](IT(h,e,T))},error:i[l+1],complete:i[l+2]};else{var y=ke(e,Wn);h=ke(y.firestore,ft),p=y._query;var w=new ua(h);c={next:function(T){i[l]&&i[l](new Po(h,w,y,T))},error:i[l+1],complete:i[l+2]},GU(e._query)}return function(T,b,I,S){var C=this,P=new km(S),D=new gb(b,P,I);return T.asyncQueue.enqueueAndForget(function(){return A(C,void 0,void 0,function(){var x;return N(this,function(B){switch(B.label){case 0:return x=db,[4,bl(T)];case 1:return[2,x.apply(void 0,[B.sent(),D])]}})})}),function(){P.Wo(),T.asyncQueue.enqueueAndForget(function(){return A(C,void 0,void 0,function(){var x;return N(this,function(B){switch(B.label){case 0:return x=pb,[4,bl(T)];case 1:return[2,x.apply(void 0,[B.sent(),D])]}})})})}}(Dt(h),p,v,c)}function Zh(e,t){return function(n,r){var i=this,s=new pn;return n.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var a;return N(this,function(l){switch(l.label){case 0:return a=c7,[4,bb(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Dt(e),t)}function IT(e,t,n){var r=n.docs.get(t._key),i=new ua(e);return new Qi(e,i,t._key,r,new Zs(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return H(t,e),t.prototype.get=function(n){var r=this,i=xo(n,this._firestore),s=new ua(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Qi(r._firestore,s,i._key,a._document,new Zs(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ba(t)}return e.prototype.get=function(t){var n=this,r=xo(t,this._firestore),i=new X7(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Z();var a=s[0];if(a.isFoundDocument())return new fh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new fh(n._firestore,i,r._key,null,r.converter);throw Z()})},e.prototype.set=function(t,n,r){var i=xo(t,this._firestore),s=xm(i.converter,n,r),a=Pm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=xo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof Ei?Rb(this._dataReader,"Transaction.update",l._key,n,r,i):Ab(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=xo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){if(typeof Uint8Array>"u")throw new U(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ex(){if(typeof atob>"u")throw new U(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var JU=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return Ex(),new e(ba.fromBase64String(t))},e.fromUint8Array=function(t){return wx(),new e(ba.fromUint8Array(t))},e.prototype.toBase64=function(){return Ex(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return wx(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),eX=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){hx(r=ke(r,ft));var s=Dt(r),a=r._freezeSettings(),l=new ET;return fx(s,l,new RU(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){hx(n=ke(n,ft));var r=Dt(n),i=n._freezeSettings(),s=new ET;return fx(r,s,new C7(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new U(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new pn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return _l.yt()?(c=l+"main",[4,_l.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(ab(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),Db=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof hg||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||nh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){var c;l===void 0&&(l={});var h=(i=ke(i,ch))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&nh("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,v;if(typeof l.mockUserToken=="string")p=l.mockUserToken,v=zt.MOCK_USER;else{p=OI(l.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new U(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new zt(m)}i._credentials=new x7(new OU(p,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,tx(t)];case 1:return r=s.sent(),[4,nx(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=W(a);return l.Or.delete(0),Xh(l)}(i))]}})})})}(Dt(ke(this._delegate,ft)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,tx(t)];case 1:return r=s.sent(),[4,nx(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return A(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=W(a)).Or.add(0),[4,zl(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Dt(ke(this._delegate,ft)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&DU("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new pn;return t.asyncQueue.enqueueAndForget(function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return i=p7,[4,bb(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Dt(ke(this._delegate,ft)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new km(s);return i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){W(p).Gr.add(v),v.next()},[4,bl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){W(p).Gr.delete(v)},[4,bl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Dt(n=ke(n,ft)),Cl(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new U(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vg(this,LU(this._delegate,t))}catch(n){throw En(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new la(this,rv(this._delegate,t))}catch(n){throw En(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ed(this,function(n,r){if(n=ke(n,ch),Cb("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new U(O.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wn(n,null,function(i){return new so(Ae.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw En(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new pn;return s.asyncQueue.enqueueAndForget(function(){return A(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return[4,function(v){return Nm(v).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new A7(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Dt(r),function(s){return i(new Z7(r,s))})}(this._delegate,function(r){return t(new ZU(n,r))})},e.prototype.batch=function(){var t=this;return Dt(this._delegate),new e4(new J7(this._delegate,function(n){return Zh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new U(O.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new U(O.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Om=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return H(t,e),t.prototype.convertBytes=function(n){return new JU(new ba(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return la.eu(r,this.firestore,null)},t}(Ob);function tX(e){var t;t=e,Jr.setLogLevel(t)}var ZU=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Om(t)}return e.prototype.get=function(t){var n=this,r=ea(t);return this._delegate.get(r).then(function(i){return new hh(n._firestore,new Qi(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=ea(t);return r?(kb("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ea(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,pe([l,n,r],s)),this},e.prototype.delete=function(t){var n=ea(t);return this._delegate.delete(n),this},e}(),e4=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=ea(t);return r?(kb("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ea(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,pe([l,n,r],s)),this},e.prototype.delete=function(t){var n=ea(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Dm=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Ef(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new dh(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Om(t),n),i.set(n,s)),s},e}();Dm.su=new WeakMap;var la=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Om(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new U(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ze(n._delegate,r,new te(t)))},e.eu=function(t,n,r){return new e(n,new Ze(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new vg(this.firestore,LU(this._delegate,t))}catch(n){throw En(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=de(t))instanceof Ze&&MU(this._delegate,t)},e.prototype.set=function(t,n){n=kb("DocumentReference.set",n);try{return n?yx(this._delegate,t,n):yx(this._delegate,t)}catch(r){throw En(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?_x(this._delegate,t):_x.apply(void 0,pe([this._delegate,t,n],r))}catch(s){throw En(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Zh(ke((t=this._delegate).firestore,ft),[new Qh(t._key,un.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t4(n),s=n4(n,function(a){return new hh(t.firestore,new Qi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return XU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ke(r,Ze);var i=ke(r.firestore,ft),s=Dt(i),a=new ua(i);return function(l,c){var h=this,p=new pn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,T){return A(this,void 0,void 0,function(){var b,I;return N(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(C,P){var D=W(C);return D.persistence.runTransaction("read document","readonly",function(x){return D.Mn.mn(x,P)})}(y,w)];case 1:return(I=S.sent()).isFoundDocument()?T.resolve(I):I.isNoDocument()?T.resolve(null):T.reject(new U(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return b=S.sent(),I=Kl(b,"Failed to get document '"+w+" from cache"),T.reject(I),[3,3];case 3:return[2]}})})},[4,Sb(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new Qi(i,a,r._key,l,new Zs(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ke(r,Ze);var i=ke(r.firestore,ft);return rx(Dt(i),r._key,{source:"server"}).then(function(s){return IT(i,r,s)})}(this._delegate):function(r){r=ke(r,Ze);var i=ke(r.firestore,ft);return rx(Dt(i),r._key).then(function(s){return IT(i,r,s)})}(this._delegate)).then(function(r){return new hh(n.firestore,new Qi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function En(e,t,n){return e.message=e.message.replace(t,n),e}function t4(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Cl(r))return r}return{}}function n4(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Cl(e[0])?e[0]:Cl(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var hh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new la(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return KU(this._delegate,t._delegate)},e}(),dh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return H(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(hh),ed=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Om(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,To(this._delegate,function(i,s,a){var l=s,c=pg("where",i);return new Q7(c,l,a)}(t,n,r)))}catch(i){throw En(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,To(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=pg("orderBy",r);return new Y7(a,s)}(t,n)))}catch(r){throw En(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,To(this._delegate,function(n){return lx("limit",n),new dx("limit",n,"F")}(t)))}catch(n){throw En(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,To(this._delegate,function(n){return lx("limitToLast",n),new dx("limitToLast",n,"L")}(t)))}catch(n){throw En(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,To(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new px("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw En(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,To(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new px("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw En(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,To(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new vx("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw En(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,To(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new vx("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw En(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return FU(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ke(r,Wn);var i=ke(r.firestore,ft),s=Dt(i),a=new ua(i);return function(l,c){var h=this,p=new pn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,T){return A(this,void 0,void 0,function(){var b,I,S,C,P;return N(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,lg(y,w,!0)];case 1:return P=D.sent(),b=new bU(w,P.Bn),I=b._o(P.documents),S=b.applyChanges(I,!1),T.resolve(S.snapshot),[3,3];case 2:return C=D.sent(),P=Kl(C,"Failed to execute query '"+w+" against cache"),T.reject(P),[3,3];case 3:return[2]}})})},[4,Sb(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new Po(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ke(r,Wn);var i=ke(r.firestore,ft),s=Dt(i),a=new ua(i);return ix(s,r._query,{source:"server"}).then(function(l){return new Po(i,a,r,l)})}(this._delegate):function(r){r=ke(r,Wn);var i=ke(r.firestore,ft),s=Dt(i),a=new ua(i);return GU(r._query),ix(s,r._query).then(function(l){return new Po(i,a,r,l)})}(this._delegate)).then(function(r){return new ST(n.firestore,new Po(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t4(n),s=n4(n,function(a){return new ST(t.firestore,new Po(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return XU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),nX=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new dh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ST=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ed(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new dh(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new nX(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new dh(r._firestore,i))})},e.prototype.isEqual=function(t){return KU(this._delegate,t._delegate)},e}(),vg=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return H(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new la(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new la(this.firestore,n===void 0?rv(this._delegate):rv(this._delegate,n))}catch(r){throw En(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=ke(i.firestore,ft),l=rv(i),c=xm(i.converter,s);return Zh(a,[Pm(Ba(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,un.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new la(r.firestore,i)})},t.prototype.isEqual=function(n){return MU(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Dm.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(ed);function ea(e){return ke(e,Ze)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rX=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ei.bind.apply(Ei,pe([void 0],t)))}return e.documentId=function(){return new e(ti.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=de(t))instanceof Ei&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),iX=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new $7("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Nb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new q7("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new z7("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new W7("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(e){return function(t,n){var r=Dt(t=ke(t,ft)),i=new F7;return function(s,a,l,c){var h=this,p=function(v,m){return function(y,w){return new k7(y,w)}(function(y,w){if(y instanceof Uint8Array)return ex(y,w);if(y instanceof ArrayBuffer)return ex(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(l,Yh(a));s.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=b7,[4,bb(s)];case 1:return v.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function sX(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return A(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return l=function(h,p){var v=W(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.Ke.getNamedQuery(m,p)})},[4,Sb(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Dt(t=ke(t,ft)),n).then(function(i){return i?new Wn(t,null,i.query):null})).then(function(i){return i?new ed(r,i):null})}var aX={Firestore:Db,GeoPoint:Rm,Timestamp:zn,Blob:JU,Transaction:ZU,WriteBatch:e4,DocumentReference:la,DocumentSnapshot:hh,Query:ed,QueryDocumentSnapshot:dh,QuerySnapshot:ST,CollectionReference:vg,FieldPath:rX,FieldValue:iX,setLogLevel:tX,CACHE_SIZE_UNLIMITED:U7};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(e){(function(t,n){t.INTERNAL.registerComponent(new dn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},aX)))})(e,function(t,n){return new Db(t,new ft(t,n),new eX)}),e.registerVersion("@firebase/firestore","2.4.1")}uX(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(e){e.prototype.loadBundle=oX,e.prototype.namedQuery=sX}lX(Db);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ku=function(e){H(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function cX(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fX(e,t,n){var r=cX(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!Tx[l])return new Ku("internal","internal");r=Tx[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Ku(r,i,s)}var hX=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dX="type.googleapis.com/google.protobuf.Int64Value",pX="type.googleapis.com/google.protobuf.UInt64Value";function Ix(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var vX=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return Ix(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case dX:case pX:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?Ix(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Ku("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var Sx=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new vX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new hX(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y,w,T;return N(this,function(b){switch(b.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=b.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=gX(c),p=h.timer,v=h.promise,[4,Promise.race([bx(p,this.postJSON(i,s,a)),v,bx(p,this.cancelAllRequests)])];case 2:if(m=b.sent(),!m)throw new Ku("cancelled","Firebase Functions instance was deleted.");if(y=fX(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Ku("internal","Response is not valid JSON object.");if(w=m.json.data,typeof w>"u"&&(w=m.json.result),typeof w>"u")throw new Ku("internal","Response is missing data field.");return T=this.serializer.decode(w),[2,{data:T}]}})})},e}();function bx(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mX="functions";function yX(e,t){var n={Functions:Sx};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new Sx(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new dn(mX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var _X="@firebase/functions",wX="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yX(ee,fetch.bind(self));ee.registerVersion(_X,wX);function EX(e){return Array.prototype.slice.call(e)}function r4(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Lm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),r4(r).then(s,a)});return i.request=r,i}function TX(e,t,n){var r=Lm(e,t,n);return r.then(function(i){if(i)return new ph(i,r.request)})}function Gl(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function Lb(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Lm(this[t],i,arguments)})})}function Mm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function i4(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return TX(this[t],i,arguments)})})}function qa(e){this._index=e}Gl(qa,"_index",["name","keyPath","multiEntry","unique"]);Lb(qa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);i4(qa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function ph(e,t){this._cursor=e,this._request=t}Gl(ph,"_cursor",["direction","key","primaryKey","value"]);Lb(ph,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(ph.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),r4(t._request).then(function(r){if(r)return new ph(r,t._request)})})})});function Ai(e){this._store=e}Ai.prototype.createIndex=function(){return new qa(this._store.createIndex.apply(this._store,arguments))};Ai.prototype.index=function(){return new qa(this._store.index.apply(this._store,arguments))};Gl(Ai,"_store",["name","keyPath","indexNames","autoIncrement"]);Lb(Ai,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);i4(Ai,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Mm(Ai,"_store",IDBObjectStore,["deleteIndex"]);function td(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}td.prototype.objectStore=function(){return new Ai(this._tx.objectStore.apply(this._tx,arguments))};Gl(td,"_tx",["objectStoreNames","mode"]);Mm(td,"_tx",IDBTransaction,["abort"]);function Fm(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new td(n)}Fm.prototype.createObjectStore=function(){return new Ai(this._db.createObjectStore.apply(this._db,arguments))};Gl(Fm,"_db",["name","version","objectStoreNames"]);Mm(Fm,"_db",IDBDatabase,["deleteObjectStore","close"]);function Um(e){this._db=e}Um.prototype.transaction=function(){return new td(this._db.transaction.apply(this._db,arguments))};Gl(Um,"_db",["name","version","objectStoreNames"]);Mm(Um,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Ai,qa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=EX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[qa,Ai].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function Mb(e,t,n){var r=Lm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Fm(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Um(s)})}function mw(e){return Lm(indexedDB,"deleteDatabase",[e])}var IX="@firebase/installations",o4="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s4=1e4,a4="w:"+o4,u4="FIS_v2",SX="https://firebaseinstallations.googleapis.com/v1",bX=60*60*1e3,CX="installations",kX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io,NX=(Io={},Io["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Io["not-registered"]="Firebase Installation is not registered.",Io["installation-not-found"]="Firebase Installation not found.",Io["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Io["app-offline"]="Could not process request. Application offline.",Io["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Io),no=new oo(CX,kX,NX);function l4(e){return e instanceof Dl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(e){var t=e.projectId;return SX+"/projects/"+t+"/installations"}function c4(e){return{token:e.token,requestStatus:2,expiresIn:AX(e.expiresIn),creationTime:Date.now()}}function Ub(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,no.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function f4(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function h4(e,t){var n=t.refreshToken,r=f4(e);return r.append("Authorization",RX(n)),r}function jb(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function AX(e){return Number(e.replace("s","000"))}function RX(e){return u4+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(e,t){var n=t.fid;return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return r=Fb(e),i=f4(e),s={fid:n,authVersion:u4,appId:e.appId,sdkVersion:a4},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,jb(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:c4(c.authToken)},[2,h];case 3:return[4,Ub("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(e){var t=btoa(String.fromCharCode.apply(String,pe([],Ht(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OX=/^[cdef][\w-]{21}$/,bT="";function DX(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=LX(e);return OX.test(n)?n:bT}catch{return bT}}function LX(e){var t=xX(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kl=new Map;function p4(e,t){var n=Ql(e);v4(n,t),UX(n,t)}function MX(e,t){g4();var n=Ql(e),r=kl.get(n);r||(r=new Set,kl.set(n,r)),r.add(t)}function FX(e,t){var n=Ql(e),r=kl.get(n);r&&(r.delete(t),r.size===0&&kl.delete(n),m4())}function v4(e,t){var n,r,i=kl.get(e);if(i)try{for(var s=Ut(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function UX(e,t){var n=g4();n&&n.postMessage({key:e,fid:t}),m4()}var ta=null;function g4(){return!ta&&"BroadcastChannel"in self&&(ta=new BroadcastChannel("[Firebase] FID Change"),ta.onmessage=function(e){v4(e.data.key,e.data.fid)}),ta}function m4(){kl.size===0&&ta&&(ta.close(),ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jX="firebase-installations-database",VX=1,Ca="firebase-installations-store",yw=null;function Vb(){return yw||(yw=Mb(jX,VX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ca)}})),yw}function gg(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return n=Ql(e),[4,Vb()];case 1:return r=l.sent(),i=r.transaction(Ca,"readwrite"),s=i.objectStore(Ca),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&p4(e,t.fid),[2,t]}})})}function Bb(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=Ql(e),[4,Vb()];case 1:return n=i.sent(),r=n.transaction(Ca,"readwrite"),[4,r.objectStore(Ca).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function nd(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=Ql(e),[4,Vb()];case 1:return r=c.sent(),i=r.transaction(Ca,"readwrite"),s=i.objectStore(Ca),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&p4(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,nd(e,function(s){var a=BX(s),l=$X(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==bT?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function BX(e){var t=e||{fid:DX(),registrationStatus:0};return y4(t)}function $X(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(no.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=qX(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:zX(e)}:{installationEntry:t}}function qX(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,PX(e,t)];case 1:return n=i.sent(),[2,gg(e,n)];case 2:return r=i.sent(),l4(r)&&r.customData.serverCode===409?[4,Bb(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,gg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function zX(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Cx(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,d4(100)];case 3:return s.sent(),[4,Cx(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,$b(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function Cx(e){return nd(e,function(t){if(!t)throw no.create("installation-not-found");return y4(t)})}function y4(e){return WX(e)?{fid:e.fid,registrationStatus:0}:e}function WX(e){return e.registrationStatus===1&&e.registrationTime+s4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v;return N(this,function(m){switch(m.label){case 0:return i=KX(n,t),s=h4(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:a4}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,jb(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),v=c4(p),[2,v];case 3:return[4,Ub("Generate Auth Token",h)];case 4:throw m.sent()}})})}function KX(e,t){var n=t.fid;return Fb(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,nd(e.appConfig,function(l){if(!_4(l))throw no.create("not-registered");var c=l.authToken;if(!t&&YX(c))return l;if(c.requestStatus===1)return n=GX(e,t),l;if(!navigator.onLine)throw no.create("app-offline");var h=JX(l);return n=QX(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function GX(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,kx(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,d4(100)];case 3:return i.sent(),[4,kx(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,qb(e,t)]:[2,r]}})})}function kx(e){return nd(e,function(t){if(!_4(t))throw no.create("not-registered");var n=t.authToken;return ZX(n)?re(re({},t),{authToken:{requestStatus:0}}):t})}function QX(e,t){return A(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,HX(e,t)];case 1:return n=s.sent(),i=re(re({},t),{authToken:n}),[4,gg(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),l4(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,Bb(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=re(re({},t),{authToken:{requestStatus:0}}),[4,gg(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function _4(e){return e!==void 0&&e.registrationStatus===2}function YX(e){return e.requestStatus===2&&!XX(e)}function XX(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+bX}function JX(e){var t={requestStatus:1,requestTime:Date.now()};return re(re({},e),{authToken:t})}function ZX(e){return e.requestStatus===1&&e.requestTime+s4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,$b(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):qb(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,n9(e.appConfig)];case 1:return r.sent(),[4,qb(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function n9(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,$b(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=i9(e,t),r=h4(e,t),i={method:"DELETE",headers:r},[4,jb(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,Ub("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function i9(e,t){var n=t.fid;return Fb(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,nd(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw no.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw no.create("app-offline");case 3:return[4,r9(t,n)];case 4:return r.sent(),[4,Bb(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(e,t){var n=e.appConfig;return MX(n,t),function(){FX(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(e){var t,n;if(!e||!e.options)throw _w("App Configuration");if(!e.name)throw _w("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Ut(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw _w(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _w(e){return no.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(e){var t="installations";e.INTERNAL.registerComponent(new dn(t,function(n){var r=n.getProvider("app").getImmediate(),i=a9(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return e9(a)},getToken:function(c){return t9(a,c)},delete:function(){return o9(a)},onIdChange:function(c){return s9(a,c)}};return l},"PUBLIC")),e.registerVersion(IX,o4)}u9(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,l9=(Et={},Et["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Et["only-available-in-window"]="This method is available in a Window context.",Et["only-available-in-sw"]="This method is available in a service worker context.",Et["permission-default"]="The notification permission was not granted and dismissed instead.",Et["permission-blocked"]="The notification permission was not granted and blocked instead.",Et["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Et["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Et["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Et["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Et["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Et["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Et["token-update-no-token"]="FCM returned no token when updating the user to push.",Et["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Et["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Et["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Et["invalid-vapid-key"]="The public VAPID key must be a string.",Et["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Et),xe=new oo("messaging","Messaging",l9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c9="/firebase-messaging-sw.js",f9="/firebase-cloud-messaging-push-scope",mg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",h9="https://fcmregistrations.googleapis.com/v1",w4="FCM_MSG",d9="FirebaseMessaging: ",p9="google.c.a.e",E4="google.c.a.c_id",v9="google.c.a.ts",g9="google.c.a.c_l",m9=1e3,y9=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ka;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(ka||(ka={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,pe([],Ht(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _9(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ww="fcm_token_details_db",w9=5,Nx="fcm_token_object_Store";function E9(e){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(ww))return[2,null];a.label=2;case 2:return r=null,[4,Mb(ww,w9,function(l){return A(s,void 0,void 0,function(){var c,h,p,p,p,v;return N(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(Nx)?(c=l.transaction.objectStore(Nx),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:ji(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ji(p.auth),p256dh:ji(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ji(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:ji(p.auth),p256dh:ji(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:ji(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,mw(ww)];case 4:return a.sent(),[4,mw("fcm_vapid_details_db")];case 5:return a.sent(),[4,mw("undefined")];case 6:return a.sent(),[2,T9(r)?r:null]}})})}function T9(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I9="firebase-messaging-database",S9=1,Na="firebase-messaging-store",Ew=null;function zb(){return Ew||(Ew=Mb(I9,S9,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Na)}})),Ew}function yg(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=Hb(e),[4,zb()];case 1:return n=s.sent(),[4,n.transaction(Na).objectStore(Na).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,E9(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,Wb(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function Wb(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=Hb(e),[4,zb()];case 1:return r=s.sent(),i=r.transaction(Na,"readwrite"),[4,i.objectStore(Na).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function b9(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=Hb(e),[4,zb()];case 1:return n=i.sent(),r=n.transaction(Na,"readwrite"),[4,r.objectStore(Na).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Hb(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,Gb(e)];case 1:n=h.sent(),r=I4(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(Kb(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),xe.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,xe.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw xe.create("token-subscribe-no-token");return[2,s.token]}})})}function k9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,Gb(e)];case 1:n=h.sent(),r=I4(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(Kb(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),xe.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,xe.create("token-update-failed",{errorInfo:c});if(!s.token)throw xe.create("token-update-no-token");return[2,s.token]}})})}function T4(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,Gb(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Kb(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,xe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),xe.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function Kb(e){var t=e.projectId;return h9+"/projects/"+t+"/registrations"}function Gb(e){var t=e.appConfig,n=e.installations;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function I4(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==mg&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N9=7*24*60*60*1e3;function CT(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw xe.create("permission-blocked");return[4,R9(t,n)];case 1:return r=l.sent(),[4,yg(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ji(r.getKey("auth")),p256dh:ji(r.getKey("p256dh"))},i?[3,3]:[2,Ax(e,s)];case 3:if(P9(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,T4(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,Ax(e,s)];case 8:return Date.now()>=i.createTime+N9?[2,A9({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Tf(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,yg(e)];case 1:return n=i.sent(),n?[4,T4(e,n.token)]:[3,4];case 2:return i.sent(),[4,b9(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function A9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,k9(t,e)];case 1:return r=a.sent(),i=re(re({},e),{token:r,createTime:Date.now()}),[4,Wb(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Tf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function Ax(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,C9(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Wb(e,r)];case 2:return i.sent(),[2,r.token]}})})}function R9(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_9(t)})]}})})}function P9(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return O9(t,e),D9(t,e),L9(t,e),t}function O9(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function D9(e,t){t.data&&(e.data=t.data)}function L9(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(e){return typeof e=="object"&&!!e&&E4 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M9=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw xe.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,yg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:mg,i.label=2;case 2:return[2,CT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Tf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw xe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw xe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw xe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw xe.create("only-available-in-window")},e.prototype.onMessage=function(){throw xe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw xe.create("only-available-in-window")},e.prototype.onPush=function(t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=U9(t),n?[4,b4()]:(console.debug(d9+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),V9(r)?[2,B9(r,n)]:(i=!1,n.notification?[4,$9(F9(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=x9(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,Rx(m9)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Tf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,yg(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Tf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,CT(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:mg)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[w4],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=q9(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,j9(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,Rx(y9)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=ka.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function F9(e){var t,n=re({},e.notification);return n.data=(t={},t[w4]=e,t),n}function U9(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function j9(e){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,b4()];case 1:t=c.sent();try{for(n=Ut(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function V9(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function B9(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ka.PUSH_RECEIVED;try{for(var i=Ut(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function b4(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function $9(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function q9(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(S4(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z9=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===ka.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(H9(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,S4(r)&&r[p9]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw xe.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,CT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=mg),[2]})})},e.prototype.updateSwReg=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw xe.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(c9,{scope:f9})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),xe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Tf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?xe.create("permission-blocked"):xe.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw xe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw xe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw xe.create("invalid-sw-registration");if(this.swRegistration)throw xe.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw xe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw xe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=W9(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[E4],message_name:n[g9],message_time:n[v9],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function W9(e){switch(e){case ka.NOTIFICATION_CLICKED:return"notification_open";case ka.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function H9(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(e){var t,n;if(!e||!e.options)throw Tw("App Configuration Object");if(!e.name)throw Tw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Ut(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw Tw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Tw(e){return xe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G9="messaging";function Q9(e){var t=e.getProvider("app").getImmediate(),n=K9(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!C4())throw xe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new M9(s):new z9(s)}var Y9={isSupported:C4};ee.INTERNAL.registerComponent(new dn(G9,Q9,"PUBLIC").setServiceProps(Y9));function C4(){return self&&"ServiceWorkerGlobalScope"in self?J9():X9()}function X9(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function J9(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k4="firebasestorage.googleapis.com",N4="storageBucket",Z9=2*60*1e3,eJ=10*60*1e3,yt=function(e){H(t,e);function t(n,r){var i=e.call(this,Iw(n),"Firebase Storage: "+r+" ("+Iw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return Iw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Dl);function Iw(e){return"storage/"+e}function Qb(){var e="An unknown error occurred, please check the error payload for server response.";return new yt("unknown",e)}function tJ(e){return new yt("object-not-found","Object '"+e+"' does not exist.")}function nJ(e){return new yt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rJ(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt("unauthenticated",e)}function iJ(){return new yt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function oJ(e){return new yt("unauthorized","User does not have permission to access '"+e+"'.")}function sJ(){return new yt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function A4(){return new yt("canceled","User canceled the upload/download.")}function aJ(e){return new yt("invalid-url","Invalid URL '"+e+"'.")}function uJ(e){return new yt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function lJ(){return new yt("no-default-bucket","No default bucket found. Did you set the '"+N4+"' property when initializing the app?")}function R4(){return new yt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cJ(){return new yt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function fJ(){return new yt("no-download-url","The given file does not have any download URLs.")}function Gu(e){return new yt("invalid-argument",e)}function P4(){return new yt("app-deleted","The Firebase app was deleted.")}function x4(e){return new yt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function If(e,t){return new yt("invalid-format","String does not match format '"+e+"': "+t)}function Op(e){throw new yt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Sw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function O4(e,t){switch(e){case wr.RAW:return new Sw(D4(t));case wr.BASE64:case wr.BASE64URL:return new Sw(L4(e,t));case wr.DATA_URL:return new Sw(pJ(t),vJ(t))}throw Qb()}function D4(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function dJ(e){var t;try{t=decodeURIComponent(e)}catch{throw If(wr.DATA_URL,"Malformed data URL.")}return D4(t)}function L4(e,t){switch(e){case wr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw If(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case wr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw If(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=hJ(t)}catch{throw If(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var M4=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw If(wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=gJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function pJ(e){var t=new M4(e);return t.base64?L4(wr.BASE64,t.rest):dJ(t.rest)}function vJ(e){var t=new M4(e);return t.contentType}function gJ(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mJ={STATE_CHANGED:"state_changed"},Tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bw(e){switch(e){case"running":case"pausing":case"canceling":return Tn.RUNNING;case"paused":return Tn.PAUSED;case"success":return Tn.SUCCESS;case"canceled":return Tn.CANCELED;case"error":return Tn.ERROR;default:return Tn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ca;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ca||(ca={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yJ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ca.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ca.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Op("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Op("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Op("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Op("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function _J(){return new yJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wJ=function(){function e(){}return e.prototype.createConnection=function(){return _J()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw uJ(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(ce){ce.path_=decodeURIComponent(ce.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+m,"i"),w={bucket:1,path:3},T=n===k4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",I=new RegExp("^https?://"+T+"/"+i+"/"+b,"i"),S={bucket:1,path:2},C=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:I,indices:S,postModify:h}],P=0;P<C.length;P++){var D=C[P],x=D.regex.exec(t);if(x){var B=x[D.indices.bucket],M=x[D.indices.path];M||(M=""),r=new e(B,M),D.postModify(r);break}}if(r==null)throw aJ(t);return r},e}(),EJ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];c||(c=!0,t.apply(null,w))}function p(w){i=setTimeout(function(){i=null,e(v,l())},w)}function v(w){for(var T=[],b=1;b<arguments.length;b++)T[b-1]=arguments[b];if(!c){if(w){h.call.apply(h,pe([null,w],T));return}var I=l()||s;if(I){h.call.apply(h,pe([null,w],T));return}r<64&&(r*=2);var S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,p(S)}}var m=!1;function y(w){m||(m=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function IJ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(e){return e!==void 0}function bJ(e){return typeof e=="function"}function CJ(e){return typeof e=="object"&&!Array.isArray(e)}function jm(e){return typeof e=="string"||e instanceof String}function Px(e){return Yb()&&e instanceof Blob}function Yb(){return typeof Blob<"u"}function kT(e,t,n,r){if(r<t)throw Gu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Gu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function F4(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kJ=function(){function e(t,n,r,i,s,a,l,c,h,p,v){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){m.resolve_=y,m.reject_=w,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Dp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===ca.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===ca.ABORT;i(!1,new Dp(!1,null,p));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new Dp(v,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());SJ(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var p=Qb();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?P4():A4();l(p)}else{var p=sJ();l(p)}}this.canceled_?r(!1,new Dp(!1,null,!0)):this.backoffId_=TJ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&IJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Dp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function NJ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function AJ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function RJ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function PJ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function xJ(e,t,n,r,i,s){var a=F4(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return RJ(c,t),NJ(c,n),AJ(c,s),PJ(c,r),new kJ(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OJ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(Yb())return new Blob(e);throw new yt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function LJ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xb=function(){function e(t,n){var r=0,i="";Px(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Px(this.data_)){var r=this.data_,i=LJ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Yb()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(DJ.apply(null,r))}else{var i=t.map(function(c){return jm(c)?O4(wr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(e){var t;try{t=JSON.parse(e)}catch{return null}return CJ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function FJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function U4(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(e,t){return t}var yn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||UJ}return e}(),Lp=null;function jJ(e){return!jm(e)||e.length<2?e:U4(e)}function Vm(){if(Lp)return Lp;var e=[];e.push(new yn("bucket")),e.push(new yn("generation")),e.push(new yn("metageneration")),e.push(new yn("name","fullPath",!0));function t(s,a){return jJ(a)}var n=new yn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new yn("size");return i.xform=r,e.push(i),e.push(new yn("timeCreated")),e.push(new yn("updated")),e.push(new yn("md5Hash",null,!0)),e.push(new yn("cacheControl",null,!0)),e.push(new yn("contentDisposition",null,!0)),e.push(new yn("contentEncoding",null,!0)),e.push(new yn("contentLanguage",null,!0)),e.push(new yn("contentType",null,!0)),e.push(new yn("metadata","customMetadata",!0)),Lp=e,Lp}function VJ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Er(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function BJ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return VJ(r,e),r}function j4(e,t,n){var r=Jb(t);if(r===null)return null;var i=r;return BJ(e,i,n)}function $J(e,t,n){var r=Jb(t);if(r===null||!jm(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,v="/b/"+s(h)+"/o/"+s(p),m=hs(v,n),y=F4({alt:"media",token:c});return m+y});return l[0]}function Zb(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xx="prefixes",Ox="items";function qJ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[xx])for(var i=0,s=n[xx];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new Er(t,l));r.prefixes.push(c)}if(n[Ox])for(var h=0,p=n[Ox];h<p.length;h++){var v=p[h],c=e._makeStorageReference(new Er(t,v.name));r.items.push(c)}return r}function zJ(e,t,n){var r=Jb(n);if(r===null)return null;var i=r;return qJ(e,t,i)}var uo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(e){if(!e)throw Qb()}function Bm(e,t){function n(r,i){var s=j4(e,i,t);return Ti(s!==null),s}return n}function WJ(e,t){function n(r,i){var s=zJ(e,t,i);return Ti(s!==null),s}return n}function HJ(e,t){function n(r,i){var s=j4(e,i,t);return Ti(s!==null),$J(s,i,e.host)}return n}function Yl(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=iJ():i=rJ():n.getStatus()===402?i=nJ(e.bucket):n.getStatus()===403?i=oJ(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function $m(e){var t=Yl(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=tJ(e.path)),s.serverResponse=i.serverResponse,s}return n}function V4(e,t,n){var r=t.fullServerUrl(),i=hs(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new uo(i,s,Bm(e,n),a);return l.errorHandler=$m(t),l}function KJ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=hs(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new uo(l,c,WJ(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Yl(t),p}function GJ(e,t,n){var r=t.fullServerUrl(),i=hs(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new uo(i,s,HJ(e,n),a);return l.errorHandler=$m(t),l}function QJ(e,t,n,r){var i=t.fullServerUrl(),s=hs(i,e.host),a="PATCH",l=Zb(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new uo(s,a,Bm(e,r),h);return p.headers=c,p.body=l,p.errorHandler=$m(t),p}function YJ(e,t){var n=t.fullServerUrl(),r=hs(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new uo(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=$m(t),l}function XJ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function B4(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=XJ(null,t)),r}function JJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",P=0;P<2;P++)C=C+Math.random().toString().slice(2);return C}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=B4(t,r,i),p=Zb(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=Xb.getBlob(v,r,m);if(y===null)throw R4();var w={name:h.fullPath},T=hs(s,e.host),b="POST",I=e.maxUploadRetryTime,S=new uo(T,b,Bm(e,n),I);return S.urlParams=w,S.headers=a,S.body=y.uploadData(),S.errorHandler=Yl(t),S}var _g=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function e1(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ti(!1)}var r=t||["active"];return Ti(!!n&&r.indexOf(n)!==-1),n}function ZJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=B4(t,r,i),l={name:a.fullPath},c=hs(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=Zb(a,n),m=e.maxUploadRetryTime;function y(T){e1(T);var b;try{b=T.getResponseHeader("X-Goog-Upload-URL")}catch{Ti(!1)}return Ti(jm(b)),b}var w=new uo(c,h,y,m);return w.urlParams=l,w.headers=p,w.body=v,w.errorHandler=Yl(t),w}function eZ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=e1(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ti(!1)}v||Ti(!1);var m=Number(v);return Ti(!isNaN(m)),new _g(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new uo(n,a,s,l);return c.headers=i,c.errorHandler=Yl(t),c}var Dx=256*1024;function tZ(e,t,n,r,i,s,a,l){var c=new _g(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw cJ();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var v=c.current,m=v+p,y=p===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},T=r.slice(v,m);if(T===null)throw R4();function b(P,D){var x=e1(P,["active","final"]),B=c.current+p,M=r.size(),ce;return x==="final"?ce=Bm(t,s)(P,D):ce=null,new _g(B,M,x==="final",ce)}var I="POST",S=t.maxUploadRetryTime,C=new uo(n,I,b,S);return C.headers=w,C.body=T.uploadData(),C.progressCallback=l||null,C.errorHandler=Yl(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nZ=function(){function e(t,n,r){var i=bJ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $4=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Vm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=ZJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=eZ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=Dx*this._chunkMultiplier,r=new _g(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=tZ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=Dx*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=V4(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=JJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=A4(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=bw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new nZ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(bw(this._state)){case Tn.SUCCESS:wu(this._resolve.bind(null,this.snapshot))();break;case Tn.CANCELED:case Tn.ERROR:var n=this._reject;wu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=bw(this._state);switch(n){case Tn.RUNNING:case Tn.PAUSED:t.next&&wu(t.next.bind(t,this.snapshot))();break;case Tn.SUCCESS:t.complete&&wu(t.complete.bind(t))();break;case Tn.CANCELED:case Tn.ERROR:t.error&&wu(t.error.bind(t,this._error))();break;default:t.error&&wu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qm=function(){function e(t,n){this._service=t,n instanceof Er?this._location=n:this._location=Er.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Er(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return U4(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=MJ(this._location.path);if(t===null)return null;var n=new Er(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw x4(t)},e}();function rZ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new $4(e,new Xb(t),n)}function iZ(e){var t={prefixes:[],items:[]};return q4(e,t).then(function(){return t})}function q4(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,z4(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,q4(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function z4(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&kT("options.maxResults",1,1e3,t.maxResults),n=t||{},r=KJ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function oZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=V4(e.storage,e._location,Vm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function sZ(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=QJ(e.storage,e._location,t,Vm()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function aZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=GJ(e.storage,e._location,Vm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw fJ();return r})]}})})}function uZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=YJ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function W4(e,t){var n=FJ(e._location.path,t),r=new Er(e._location.bucket,n);return new qm(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(e){return/^[A-Za-z]+:\/\//.test(e)}function lZ(e,t){return new qm(e,t)}function H4(e,t){if(e instanceof zm){var n=e;if(n._bucket==null)throw lJ();var r=new qm(n,n._bucket);return t!=null?H4(r,t):r}else return t!==void 0?W4(e,t):e}function cZ(e,t){if(t&&NT(t)){if(e instanceof zm)return lZ(e,t);throw Gu("To use ref(service, url), the first argument must be a Storage instance.")}else return H4(e,t)}function Lx(e,t){var n=t==null?void 0:t[N4];return n==null?null:Er.makeFromBucketSpec(n,e)}function fZ(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:OI(i,e.app.options.projectId))}var zm=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=k4,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z9,this._maxUploadRetryTime=eJ,this._requests=new Set,s!=null?this._bucket=Er.makeFromBucketSpec(s,this._host):this._bucket=Lx(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,t):this._bucket=Lx(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){kT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){kT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new qm(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new EJ(P4());var s=xJ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(e,t,n){return e=de(e),rZ(e,t,n)}function dZ(e){return e=de(e),oZ(e)}function pZ(e,t){return e=de(e),sZ(e,t)}function vZ(e,t){return e=de(e),z4(e,t)}function gZ(e){return e=de(e),iZ(e)}function mZ(e){return e=de(e),aZ(e)}function yZ(e){return e=de(e),uZ(e)}function Mx(e,t){return e=de(e),cZ(e,t)}function _Z(e,t){return W4(e,t)}function wZ(e,t,n,r){r===void 0&&(r={}),fZ(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fx=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Mp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Mp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Mp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Mp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),Ux=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new vh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new vh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vh=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=_Z(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new Fx(hZ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=wr.RAW),this._throwIfRoot("putString");var i=O4(n,t),s=re({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new Fx(new $4(this._delegate,new Xb(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return gZ(this._delegate).then(function(n){return new Ux(n,t.storage)})},e.prototype.list=function(t){var n=this;return vZ(this._delegate,t||void 0).then(function(r){return new Ux(r,n.storage)})},e.prototype.getMetadata=function(){return dZ(this._delegate)},e.prototype.updateMetadata=function(t){return pZ(this._delegate,t)},e.prototype.getDownloadURL=function(){return mZ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),yZ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw x4(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EZ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(NT(t))throw Gu("ref() expected a child path but got a URL, use refFromURL instead.");return new vh(Mx(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!NT(t))throw Gu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Er.makeFromUrl(t,this._delegate.host)}catch{throw Gu("refFromUrl() expected a valid full URL but got an invalid one.")}return new vh(Mx(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),wZ(this._delegate,t,n,r)},e}(),TZ="@firebase/storage",IZ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SZ="storage";function bZ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new EZ(r,new zm(r,i,s,new wJ,n,ee.SDK_VERSION));return a}function CZ(e){var t={TaskState:Tn,TaskEvent:mJ,StringFormat:wr,Storage:zm,Reference:vh};e.INTERNAL.registerComponent(new dn(SZ,bZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(TZ,IZ)}CZ(ee);var kZ="@firebase/performance",K4="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G4=K4,NZ="FB-PERF-TRACE-START",AZ="FB-PERF-TRACE-STOP",AT="FB-PERF-TRACE-MEASURE",Q4="_wt_",Y4="_fp",X4="_fcp",J4="_fid",Z4="@firebase/performance/config",e3="@firebase/performance/configexpire",RZ="performance",t3="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,PZ=($t={},$t["trace started"]="Trace {$traceName} was started before.",$t["trace stopped"]="Trace {$traceName} is not running.",$t["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",$t["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",$t["no window"]="Window is not available.",$t["no app id"]="App id is not available.",$t["no project id"]="Project id is not available.",$t["no api key"]="Api key is not available.",$t["invalid cc log"]="Attempted to queue invalid cc event",$t["FB not default"]="Performance can only start when Firebase app instance is the default one.",$t["RC response not ok"]="RC response is not ok",$t["invalid attribute name"]="Attribute name {$attributeName} is invalid.",$t["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",$t["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",$t["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",$t),on=new oo(RZ,t3,PZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=new Pa(t3);ro.logLevel=ye.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cw,n3,cn=function(){function e(t){if(this.window=t,!t)throw on.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(ro.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):bh()?!0:(ro.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return Cw===void 0&&(Cw=new e(n3)),Cw},e}();function xZ(e){n3=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(e,t){var n=e.length-t.length;if(n<0||n>1)throw on.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw,bt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=jx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=jx("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw on.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw on.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw on.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return kw===void 0&&(kw=new e),kw},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r3;function OZ(){var e=bt.getInstance().installationsService.getId();return e.then(function(t){r3=t}),e}function t1(){return r3}function DZ(){var e=bt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Qu||(Qu={}));var LZ=["firebase_","google_","ga_"],MZ=new RegExp("^[a-zA-Z]\\w*$"),FZ=40,UZ=100;function jZ(){var e=cn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function i3(){var e=cn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Qu.VISIBLE;case"hidden":return Qu.HIDDEN;default:return Qu.UNKNOWN}}function VZ(){var e=cn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function BZ(e){if(e.length===0||e.length>FZ)return!1;var t=LZ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(MZ)}function $Z(e){return e.length!==0&&e.length<=UZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qZ="0.0.1",zZ={loggingEnabled:!0},WZ="FIREBASE_INSTALLATIONS_AUTH";function HZ(e){var t=KZ();return t?(Vx(t),Promise.resolve()):YZ(e).then(Vx).then(function(n){return GZ(n)},function(){})}function KZ(){var e=cn.getInstance().localStorage;if(e){var t=e.getItem(e3);if(!(!t||!XZ(t))){var n=e.getItem(Z4);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function GZ(e){var t=cn.getInstance().localStorage;!e||!t||(t.setItem(Z4,JSON.stringify(e)),t.setItem(e3,String(Date.now()+bt.getInstance().configTimeToLive*60*60*1e3)))}var QZ="Could not fetch config, will use default configs";function YZ(e){return DZ().then(function(t){var n=bt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+bt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:WZ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:bt.getInstance().getAppId(),app_version:G4,sdk_version:qZ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw on.create("RC response not ok")})}).catch(function(){ro.info(QZ)})}function Vx(e){if(!e)return e;var t=bt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=zZ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Bx(t.tracesSamplingRate),t.logNetworkAfterSampling=Bx(t.networkRequestsSamplingRate),e}function XZ(e){return Number(e)>Date.now()}function Bx(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n1=1,Nw;function o3(){return n1=2,Nw=Nw||ZZ(),Nw}function JZ(){return n1===3}function ZZ(){return eee().then(function(){return OZ()}).then(function(e){return HZ(e)}).then(function(){return $x()},function(){return $x()})}function eee(){var e=cn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function $x(){n1=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r1=10*1e3,tee=5.5*1e3,s3=3,nee=1e3,wg=s3,Qo=[],qx=!1;function ree(){qx||(Wm(tee),qx=!0)}function Wm(e){setTimeout(function(){if(wg!==0){if(!Qo.length)return Wm(r1);iee()}},e)}function iee(){var e=Qo.splice(0,nee),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:bt.getInstance().logSource,log_event:t};oee(n,e).catch(function(){Qo=pe(pe([],e),Qo),wg--,ro.info("Tries left: "+wg+"."),Wm(r1)})}function oee(e,t){return see(e).then(function(n){return n.ok||ro.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=r1;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Qo=pe(pe([],t),Qo),ro.info("Retry transport request later.")),wg=s3,Wm(i)})}function see(e){var t=bt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function aee(e){if(!e.eventTime||!e.message)throw on.create("invalid cc log");Qo=pe(pe([],Qo),[e])}function uee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);aee({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aw;function a3(e,t){Aw||(Aw=uee(cee)),Aw(e,t)}function Fp(e){var t=bt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||cn.getInstance().requiredApisAvailable()&&(e.isAuto&&i3()!==Qu.VISIBLE||(JZ()?Rw(e):o3().then(function(){return Rw(e)},function(){return Rw(e)})))}function Rw(e){if(t1()){var t=bt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return a3(e,1)},0)}}function lee(e){var t=bt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return a3(e,0)},0)}}function cee(e,t){return t===0?fee(e):hee(e)}function fee(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:u3(),network_request_metric:t};return JSON.stringify(n)}function hee(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:u3(),trace_metric:t};return JSON.stringify(r)}function u3(){return{google_app_id:bt.getInstance().getAppId(),app_instance_id:t1(),web_app_info:{sdk_version:G4,page_url:cn.getInstance().getUrl(),service_worker_status:jZ(),visibility_state:i3(),effective_connection_type:VZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dee=100,pee="_",vee=[Y4,X4,J4];function gee(e,t){return e.length===0||e.length>dee?!1:t&&t.startsWith(Q4)&&vee.indexOf(e)>-1||!e.startsWith(pee)}function mee(e){var t=Math.floor(e);return t<e&&ro.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=cn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=NZ+"-"+this.randomId+"-"+this.name,this.traceStopMark=AZ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||AT+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw on.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw on.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Fp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw on.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw on.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=re({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Fp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(gee(t,this.name))this.counters[t]=mee(n);else throw on.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=BZ(t),i=$Z(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw on.create("invalid attribute name",{attributeName:t});if(!i)throw on.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return re({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=cn.getInstance().getUrl();if(i){var s=new e(Q4+i,!0),a=Math.floor(cn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(Y4,Math.floor(h.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&s.putMetric(X4,Math.floor(p.startTime*1e3)),r&&s.putMetric(J4,Math.floor(r*1e3))}Fp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Fp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=cn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};lee(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yee=5e3;function Wx(){t1()&&(setTimeout(function(){return wee()},0),setTimeout(function(){return _ee()},0),setTimeout(function(){return Eee()},0))}function _ee(){for(var e=cn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];zx(i)}e.setupObserver("resource",zx)}function wee(){var e=cn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Sf.createOobTrace(t,n),r=void 0},yee);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Sf.createOobTrace(t,n,i))})}else Sf.createOobTrace(t,n)}function Eee(){for(var e=cn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];Hx(i)}e.setupObserver("measure",Hx)}function Hx(e){var t=e.name;t.substring(0,AT.length)!==AT&&Sf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tee=function(){function e(t){this.app=t,cn.getInstance().requiredApisAvailable()&&MI().then(function(n){n&&(ree(),o3().then(Wx,Wx))}).catch(function(n){ro.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Sf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return bt.getInstance().instrumentationEnabled},set:function(t){bt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return bt.getInstance().dataCollectionEnabled},set:function(t){bt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iee="[DEFAULT]";function See(e){var t=function(n,r){if(n.name!==Iee)throw on.create("FB not default");if(typeof window>"u")throw on.create("no window");return xZ(window),bt.getInstance().firebaseAppInstance=n,bt.getInstance().installationsService=r,new Tee(n)};e.INTERNAL.registerComponent(new dn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(kZ,K4)}See(ee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bee="firebase_id",Cee="origin",kee=60*1e3,Nee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",l3="https://www.googletagmanager.com/gtag/js",fn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(fn||(fn={}));var RT;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(RT||(RT={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return i&&i.global?(e(fn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=re(re({},r),{send_to:s}),e(fn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Ree(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(fn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(fn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Pee(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(fn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(fn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function xee(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(fn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(fn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function Oee(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt=new Pa("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(e,t){var n=document.createElement("script");n.src=l3+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Lee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function Mee(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Wt.error(h),[3,8];case 8:return e(fn.CONFIG,i,s),[2]}})})}function Fee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(T){var b=l.find(function(S){return S.measurementId===T}),I=b&&t[b.appId];if(I)s.push(I);else return s=[],"break"},h=0,p=a;h<p.length&&(v=p[h],m=c(v),m!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(fn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),Wt.error(y),[3,5];case 5:return[2]}})})}function Uee(e,t,n,r){function i(s,a,l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==fn.EVENT?[3,2]:[4,Fee(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==fn.CONFIG?[3,4]:[4,Mee(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(fn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Wt.error(c),[3,7];case 7:return[2]}})})}return i}function jee(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Uee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Vee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(l3))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r,Bee=($r={},$r["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",$r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",$r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",$r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",$r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",$r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',$r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',$r),br=new oo("analytics","Analytics",Bee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ee=30,qee=1e3,zee=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=qee),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),c3=new zee;function Wee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Hee(e){var t;return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Wee(r)},s=Nee.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw br.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Kee(e,t,n){return t===void 0&&(t=c3),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw br.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw br.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Yee,setTimeout(function(){return A(h,void 0,void 0,function(){return N(this,function(v){return c.abort(),[2]})})},n!==void 0?n:kee),[2,f3({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function f3(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=c3),A(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Gee(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Wt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,Hee(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!Qee(p)){if(r.deleteThrottleMetadata(a),l)return Wt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return v=Number(p.customData.httpStatus)===503?RE(s,r.intervalMillis,$ee):RE(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),Wt.debug("Calling attemptFetch again in "+v+" millis"),[2,f3(e,m,n,r)];case 7:return[2]}})})}function Gee(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(br.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Qee(e){if(!(e instanceof Dl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Yee=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return bh()?[3,1]:(Wt.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,MI()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Wt.warn(br.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function Jee(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return a=Kee(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Wt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Wt.error(w)}),t.push(a),l=Xee().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],Vee()||Dee(s,h.measurementId),i("js",new Date),v=(m={},m[Cee]="firebase",m.update=!0,m),p!=null&&(v[bee]=p),i(fn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fi={},Kx=[],Gx={},iv="dataLayer",h3="gtag",Qx,Gc,PT=!1;function Zee(e){if(PT)throw br.create("already-initialized");e.dataLayerName&&(iv=e.dataLayerName),e.gtagName&&(h3=e.gtagName)}function ete(){var e=[];if(LI()&&e.push("This is a browser extension environment."),DL()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=br.create("invalid-analytics-context",{errorInfo:t});Wt.warn(n.message)}}function tte(e,t){ete();var n=e.options.appId;if(!n)throw br.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Wt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw br.create("no-api-key");if(Fi[n]!=null)throw br.create("already-exists",{id:n});if(!PT){Lee(iv);var r=jee(Fi,Kx,Gx,iv,h3),i=r.wrappedGtag,s=r.gtagCore;Gc=i,Qx=s,PT=!0}Fi[n]=Jee(e,Kx,Gx,t,Qx,iv);var a={app:e,logEvent:function(l,c,h){Aee(Gc,Fi[n],l,c,h).catch(function(p){return Wt.error(p)})},setCurrentScreen:function(l,c){Ree(Gc,Fi[n],l,c).catch(function(h){return Wt.error(h)})},setUserId:function(l,c){Pee(Gc,Fi[n],l,c).catch(function(h){return Wt.error(h)})},setUserProperties:function(l,c){xee(Gc,Fi[n],l,c).catch(function(h){return Wt.error(h)})},setAnalyticsCollectionEnabled:function(l){Oee(Fi[n],l).catch(function(c){return Wt.error(c)})},INTERNAL:{delete:function(){return delete Fi[n],Promise.resolve()}}};return a}var nte="@firebase/analytics",rte="0.6.18",Yx="analytics";function ite(e){e.INTERNAL.registerComponent(new dn(Yx,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return tte(r,i)},"PUBLIC").setServiceProps({settings:Zee,EventName:RT,isSupported:ote})),e.INTERNAL.registerComponent(new dn("analytics-internal",t,"PRIVATE")),e.registerVersion(nte,rte);function t(n){try{var r=n.getProvider(Yx).getImmediate();return{logEvent:r.logEvent}}catch(i){throw br.create("interop-component-reg-failed",{reason:i})}}}ite(ee);function ote(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(LI())return[2,!1];if(!DL())return[2,!1];if(!bh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,MI()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ste=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,ate=(_n={},_n["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",_n["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",_n["registration-api-key"]="Undefined API key. Check Firebase app initialization.",_n["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",_n["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",_n["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",_n["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",_n["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",_n["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",_n["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',_n["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',_n["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",_n["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",_n),Tr=new oo("remoteconfig","Remote Config",ate);function ute(e,t){return e instanceof Dl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cte=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,T,b,I,S,C,P;return N(this,function(D){switch(D.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=D.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:lte()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),v=new Promise(function(x,B){t.signal.addEventListener(function(){var M=new Error("The operation was aborted.");M.name="AbortError",B(M)})}),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return D.sent(),[4,p];case 4:return m=D.sent(),[3,6];case 5:throw y=D.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),Tr.create(w,{originalErrorMessage:y.message});case 6:if(T=m.status,b=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];C=void 0,D.label=7;case 7:return D.trys.push([7,9,,10]),[4,m.json()];case 8:return C=D.sent(),[3,10];case 9:throw P=D.sent(),Tr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:I=C.entries,S=C.state,D.label=11;case 11:if(S==="INSTANCE_STATE_UNSPECIFIED"?T=500:S==="NO_CHANGE"?T=304:(S==="NO_TEMPLATE"||S==="EMPTY_CONFIG")&&(I={}),T!==304&&T!==200)throw Tr.create("fetch-status",{httpStatus:T});return[2,{status:T,eTag:b,config:I}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hte=!1,dte="",Xx=0,pte=["1","true","t","yes","y","on"],Pw=function(){function e(t,n){n===void 0&&(n=dte),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?hte:pte.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return Xx;var t=Number(this._value);return isNaN(t)&&(t=Xx),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vte=60*1e3,gte=12*60*60*1e3,mte=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:vte,minimumFetchIntervalMillis:gte},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ye.DEBUG;break;case"silent":this._logger.logLevel=ye.SILENT;break;default:this._logger.logLevel=ye.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return A(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new fte,setTimeout(function(){return A(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=ute(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return yte(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new Pw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new Pw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Pw("static"))},e}();function yte(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(re(re({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(e,t){var n=e.target.error||void 0;return Tr.create(t,{originalErrorMessage:n&&n.message})}var qs="app_namespace_store",_te="firebase_remote_config",wte=1;function Ete(){return new Promise(function(e,t){var n=indexedDB.open(_te,wte);n.onerror=function(r){t(ov(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(qs,{keyPath:"compositeKey"})}}})}var Tte=function(){function e(t,n,r,i){i===void 0&&(i=Ete()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([qs],"readonly"),c=l.objectStore(qs),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(v){a(ov(v,"storage-get"))},p.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(Tr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([qs],"readwrite"),h=c.objectStore(qs),p=i.createCompositeKey(t);try{var v=h.put({compositeKey:p,value:n});v.onerror=function(m){l(ov(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){l(Tr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([qs],"readwrite"),c=l.objectStore(qs),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(v){a(ov(v,"storage-delete"))},p.onsuccess=function(){s()}}catch(v){a(Tr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ite=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ste(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Tr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function bte(e){if(!(e instanceof Dl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Cte=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return A(this,void 0,void 0,function(){var s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,Ste(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!bte(a))throw a;return l={throttleEndTimeMillis:Date.now()+RE(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),Jx="@firebase/remote-config",kte="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(e){e.INTERNAL.registerComponent(new dn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(Jx,kte);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Tr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw Tr.create("registration-project-id");if(!h)throw Tr.create("registration-api-key");if(!p)throw Tr.create("registration-app-id");i=i||"firebase";var v=new Tte(p,s.name,i),m=new Ite(v),y=new Pa(Jx);y.logLevel=ye.ERROR;var w=new cte(a,e.SDK_VERSION,i,c,h,p),T=new Cte(w,v),b=new ste(T,v,m,y),I=new mte(s,b,m,v,y);return I.ensureInitialized(),I}}Nte(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr,Ate=(qr={},qr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",qr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",qr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",qr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",qr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",qr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",qr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",qr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",qr["recaptcha-error"]="ReCAPTCHA error.",qr),rr=new oo("appCheck","AppCheck",Ate);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d3=new Map,Rte={activated:!1,tokenObservers:[]},Pte={enabled:!1};function An(e){return d3.get(e)||Rte}function Ii(e,t){d3.set(e,t)}function i1(){return Pte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p3="https://content-firebaseappcheck.googleapis.com/v1beta",xte="exchangeRecaptchaToken",Ote="exchangeDebugToken",Zx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dte=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Lt,[4,Lte(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Lt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function Lte(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return self.grecaptcha}function v3(e){if(!An(e).activated)throw rr.create("use-before-activation",{appName:e.name})}function Mte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function Fte(e){return Bg.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(e,t){var n=e.url,r=e.body;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=w.sent(),[3,4];case 3:throw c=w.sent(),rr.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw rr.create("fetch-status-error",{httpStatus:l.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,l.json()];case 6:return h=w.sent(),[3,8];case 7:throw p=w.sent(),rr.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function Ute(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:p3+"/projects/"+r+"/apps/"+i+":"+xte+"?key="+s,body:{recaptcha_token:t}}}function jte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:p3+"/projects/"+r+"/apps/"+i+":"+Ote+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vte="firebase-app-check-database",Bte=1,gh="firebase-app-check-store",m3="debug-token",Up=null;function y3(){return Up||(Up=new Promise(function(e,t){try{var n=indexedDB.open(Vte,Bte);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(rr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gh,{keyPath:"compositeKey"})}}}catch(r){t(rr.create("storage-open",{originalErrorMessage:r.message}))}}),Up)}function $te(e){return w3(E3(e))}function qte(e,t){return _3(E3(e),t)}function zte(e){return _3(m3,e)}function Wte(){return w3(m3)}function _3(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,y3()];case 1:return n=a.sent(),r=n.transaction(gh,"readwrite"),i=r.objectStore(gh),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var p;c(rr.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function w3(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,y3()];case 1:return t=s.sent(),n=t.transaction(gh,"readonly"),r=n.objectStore(gh),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(rr.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function E3(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hm=new Pa("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hte(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!bh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,$te(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Hm.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function tO(e,t){return bh()?qte(e,t).catch(function(n){Hm.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Kte(){return A(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Wte()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=Mte(),zte(t).catch(function(r){return Hm.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(){var e=i1();return e.enabled}function Qte(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){if(e=i1(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Yte(){var e=nW();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=i1();t.enabled=!0;var n=new Lt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Kte())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xte={error:"UNKNOWN_ERROR"};function Eg(e,t,n){return n===void 0&&(n=!1),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return v3(e),r=An(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&mh(a)&&(i=a,Ii(e,re(re({},r),{token:i})),nO(e,{token:i.token})),y.label=2;case 2:return!n&&i&&mh(i)?[2,{token:i.token}]:Gte()?(c=g3,h=jte,p=[e],[4,Qte()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,tO(e,l)];case 5:return y.sent(),Ii(e,re(re({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),Hm.error(v),s=v,[3,9];case 9:return i?[3,10]:(m=Zte(s),[3,12]);case 10:return m={token:i.token},Ii(e,re(re({},r),{token:i})),[4,tO(e,i)];case 11:y.sent(),y.label=12;case 12:return nO(e,m),[2,m]}})})}function T3(e,t,n,r,i){var s=An(e),a={next:r,error:i,type:n},l=re(re({},s),{tokenObservers:pe(pe([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=Jte(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&mh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&mh(p)&&r({token:p.token})}).catch(function(){});Ii(e,l)}function o1(e,t){var n=An(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ii(e,re(re({},n),{tokenObservers:r}))}function Jte(e,t){var n=this;return new Dte(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=An(e),r.token?[3,2]:[4,Eg(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,Eg(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=An(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},Zx.RETRIAL_MIN_WAIT,Zx.RETRIAL_MAX_WAIT)}function nO(e,t){for(var n=An(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function mh(e){return e.expireTimeMillis-Date.now()>0}function Zte(e){return{token:Fte(Xte),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ene="https://www.google.com/recaptcha/api.js";function tne(e,t){var n=An(e),r=new Lt;Ii(e,re(re({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=eO();return a?a.ready(function(){rO(e,t,a,i),r.resolve(a)}):rne(function(){var l=eO();if(!l)throw new Error("no recaptcha");l.ready(function(){rO(e,t,l,i),r.resolve(l)})}),r.promise}function nne(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return v3(e),t=An(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=An(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function rO(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=An(e);Ii(e,re(re({},s),{reCAPTCHAState:re(re({},s.reCAPTCHAState),{widgetId:i})}))}function rne(e){var t=document.createElement("script");t.src=""+ene,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xT=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw rr.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,nne(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),rr.create("recaptcha-error");case 4:return[2,g3(Ute(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,tne(t,this._siteKey).catch(function(){})},e}(),OT=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:if(!this._app)throw rr.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=sW(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,re(re({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(e,t,n,r){var i=An(e);if(i.activated)throw rr.create("already-activated",{appName:e.name});var s=re(re({},i),{activated:!0});s.cachedTokenPromise=Hte(e).then(function(a){return a&&mh(a)&&Ii(e,re(re({},An(e)),{token:a})),a}),typeof t=="string"?s.provider=new xT(t):t instanceof xT||t instanceof OT?s.provider=t:s.provider=new OT({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,Ii(e,s),s.provider.initialize(e,n)}function one(e,t){var n=An(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Ii(e,re(re({},n),{isTokenAutoRefreshEnabled:t}))}function sne(e,t,n){return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,Eg(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function ane(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),T3(e,t,"EXTERNAL",s,a),function(){return o1(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(e,t){return{app:e,activate:function(n,r){return ine(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return one(e,n)},getToken:function(n){return sne(e,t,n)},onTokenChanged:function(n,r,i){return ane(e,t,n,r)},INTERNAL:{delete:function(){for(var n=An(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];o1(e,s.next)}return Promise.resolve()}}}}function lne(e,t){return{getToken:function(n){return Eg(e,t,n)},addTokenListener:function(n){return T3(e,t,"INTERNAL",n)},removeTokenListener:function(n){return o1(e,n)}}}var cne="@firebase/app-check",fne="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hne="appCheck",iO="app-check-internal";function dne(e){e.INTERNAL.registerComponent(new dn(hne,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return une(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:xT,CustomProvider:OT}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(iO);i.initialize()})),e.INTERNAL.registerComponent(new dn(iO,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return lne(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(cne,fne)}dne(ee);Yte();var pne="firebase",I3="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ee.registerVersion(pne,I3,"app");ee.SDK_VERSION=I3;var vne="firebase",gne="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ee.registerVersion(vne,gne);const mne={apiKey:"AIzaSyCfy74DOqPcKU2cf812DP5s1btlQMg7OKA",authDomain:"code-compass-11ebd.firebaseapp.com",projectId:"code-compass-11ebd",storageBucket:"code-compass-11ebd.appspot.com",messagingSenderId:"380143675526",appId:"1:380143675526:web:bdcede8853275c0f1b0907",measurementId:"G-48RLLVDMVP"},S3=ee.initializeApp(mne),b3=S3.auth(),yne=S3.firestore(),_ne=()=>{const e=xI();Y.useState(null);const[t,n]=Y.useState(""),[r,i]=Y.useState(""),[s,a]=Y.useState(!1);return lt(_h,{children:[K(Sh,{}),K("section",{className:"Login",children:K("div",{className:"container mt-5",children:lt("div",{className:"Login-content",children:[K("div",{className:"Login-form"}),K("h2",{children:"Login"}),lt("form",{className:"register-form",id:"register-form",children:[lt("div",{className:"form-group",children:[K("label",{htmlFor:"email"}),K("input",{type:"email",name:"email",id:"email",autoComplete:"off",placeholder:"Email",onChange:h=>n(h.target.value)})]}),lt("div",{className:"form-group",children:[K("label",{htmlFor:"password"}),K("input",{type:s?"text":"password",name:"password",id:"password",autoComplete:"off",placeholder:"Password",onChange:h=>i(h.target.value)})]}),lt("div",{className:"checkbox",children:[K("input",{type:"checkbox",name:"checkbox",id:"checkbox",className:"checkbox",onClick:()=>{a(!s)}})," ","Show Password"]}),K("div",{children:K("a",{href:"/signup",children:"Don't have an account? Sign Up"})}),K("div",{className:"form-group form-button",children:K("input",{type:"submit",name:"Login",id:"Login",className:"form-submit",value:"Login",onClick:async h=>{h.preventDefault();try{const p=await b3.signInWithEmailAndPassword(t,r);console.log(p),e("/")}catch(p){console.log(p)}}})})]})]})})})]})};const wne=e=>{let t=null;return e?/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[A-Za-z]+$/.test(e)||(t="Email is invalid"):t="Email required",t},Ene=e=>{let t=null;return e?e.length<6&&(t="Password needs to be 6 characters or more"):t="Password is required",t},Tne=()=>{const e=xI(),[t,n]=Y.useState(""),[r,i]=Y.useState(""),[s,a]=Y.useState(""),[l,c]=Y.useState(""),[h,p]=Y.useState(""),[v,m]=Y.useState(!1);return lt(_h,{children:[K(Sh,{}),K("section",{className:"signup",children:K("div",{className:"container mt-5",children:lt("div",{className:"signup-content",children:[K("div",{className:"signup-form"}),K("h2",{children:"Sign in to your Account"}),lt("form",{className:"register-form",id:"register-form",children:[lt("div",{className:"form-group",children:[K("label",{htmlFor:"first-name"}),K("input",{type:"text",name:"first-name",id:"first-name",autoComplete:"off",placeholder:"First Name",onChange:T=>a(T.target.value)})]}),lt("div",{className:"form-group",children:[K("label",{htmlFor:"last-name"}),K("input",{type:"text",name:"last-name",id:"last-name",autoComplete:"off",placeholder:"Last Name",onChange:T=>c(T.target.value)})]}),lt("div",{className:"form-group",children:[K("label",{htmlFor:"email"}),K("input",{type:"email",name:"email",id:"email",autoComplete:"off",placeholder:"Email",onChange:T=>n(T.target.value)})]}),lt("div",{className:"form-group",children:[K("label",{htmlFor:"phone"}),K("input",{type:"text",name:"phone",id:"phone",autoComplete:"off",placeholder:"Phone",onChange:T=>p(T.target.value)})]}),lt("div",{className:"form-group",children:[K("label",{htmlFor:"password"}),K("input",{type:v?"text":"password",name:"password",id:"password",autoComplete:"off",placeholder:"Password",onChange:T=>i(T.target.value)})]}),lt("div",{className:"form-group",children:[K("label",{htmlFor:"confirm-password"}),K("input",{type:v?"text":"password",name:"confirm-password",id:"confirm-password",autoComplete:"off",placeholder:"Confirm Password"})]}),lt("div",{className:"checkbox",children:[K("input",{type:"checkbox",name:"checkbox",id:"checkbox",className:"checkbox",onChange:()=>{m(!v)}})," ","Show Password"]}),K("div",{children:K("a",{href:"/login",children:"Already have an account?"})}),K("div",{className:"form-group form-button",children:K("input",{type:"submit",name:"signup",id:"signup",className:"form-submit",value:"Signup",onClick:async T=>{var I;T.preventDefault();let b=wne(t);if(b){console.log(b);return}if(b=Ene(r),b){console.log(b);return}try{const S=await b3.createUserWithEmailAndPassword(t,r);yne.collection("users").doc((I=S.user)==null?void 0:I.uid).set({firstName:s,lastName:l,email:t,phone:h}),console.log(S),e("/")}catch(S){console.log(S)}}})})]})]})})})]})},Ine=()=>lt(_h,{children:[K(Sh,{}),K("h1",{children:"About us"})]});xw.createRoot(document.getElementById("root")).render(K(UT.StrictMode,{children:K(K6,{children:lt(W6,{children:[K(Eu,{path:"/",element:K(G6,{})}),K(Eu,{path:"/login",element:K(_ne,{})}),K(Eu,{path:"/signup",element:K(Tne,{})}),K(Eu,{path:"/Navbar",element:K(Sh,{})}),K(Eu,{path:"/aboutUs",element:K(Ine,{})})]})})}));
